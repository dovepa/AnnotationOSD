{"modules":[{"ast":{"type":"Program","start":0,"end":5262,"body":[{"type":"ClassDeclaration","start":0,"end":473,"id":{"type":"Identifier","start":6,"end":20,"name":"AnnotateMarker"},"superClass":null,"body":{"type":"ClassBody","start":21,"end":473,"body":[{"type":"MethodDefinition","start":27,"end":471,"static":false,"computed":false,"key":{"type":"Identifier","start":27,"end":38,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":38,"end":471,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":39,"end":41,"name":"id"},{"type":"Identifier","start":43,"end":47,"name":"unit"},{"type":"Identifier","start":49,"end":56,"name":"centerY"},{"type":"Identifier","start":58,"end":65,"name":"centerX"},{"type":"Identifier","start":67,"end":72,"name":"width"},{"type":"Identifier","start":74,"end":80,"name":"height"},{"type":"Identifier","start":82,"end":86,"name":"type"}],"body":{"type":"BlockStatement","start":88,"end":471,"body":[{"type":"IfStatement","start":98,"end":269,"test":{"type":"LogicalExpression","start":102,"end":179,"left":{"type":"BinaryExpression","start":102,"end":120,"left":{"type":"Identifier","start":102,"end":106,"name":"unit"},"operator":"===","right":{"type":"Literal","start":111,"end":120,"value":"percent","raw":"'percent'"}},"operator":"&&","right":{"type":"LogicalExpression","start":125,"end":178,"left":{"type":"LogicalExpression","start":125,"end":164,"left":{"type":"LogicalExpression","start":125,"end":151,"left":{"type":"BinaryExpression","start":125,"end":136,"left":{"type":"Identifier","start":125,"end":132,"name":"centerX"},"operator":">","right":{"type":"Literal","start":135,"end":136,"value":1,"raw":"1"}},"operator":"||","right":{"type":"BinaryExpression","start":140,"end":151,"left":{"type":"Identifier","start":140,"end":147,"name":"centerY"},"operator":">","right":{"type":"Literal","start":150,"end":151,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":155,"end":164,"left":{"type":"Identifier","start":155,"end":160,"name":"width"},"operator":">","right":{"type":"Literal","start":163,"end":164,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":168,"end":178,"left":{"type":"Identifier","start":168,"end":174,"name":"height"},"operator":">","right":{"type":"Literal","start":177,"end":178,"value":1,"raw":"1"}}}},"consequent":{"type":"BlockStatement","start":181,"end":269,"body":[{"type":"ThrowStatement","start":195,"end":259,"argument":{"type":"NewExpression","start":201,"end":258,"callee":{"type":"Identifier","start":205,"end":210,"name":"Error"},"arguments":[{"type":"Literal","start":211,"end":257,"value":"AnnotateMarker unit is percent but value > 1","raw":"'AnnotateMarker unit is percent but value > 1'"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":278,"end":291,"expression":{"type":"AssignmentExpression","start":278,"end":290,"operator":"=","left":{"type":"MemberExpression","start":278,"end":285,"object":{"type":"ThisExpression","start":278,"end":282},"property":{"type":"Identifier","start":283,"end":285,"name":"id"},"computed":false,"optional":false},"right":{"type":"Identifier","start":288,"end":290,"name":"id"}}},{"type":"ExpressionStatement","start":300,"end":317,"expression":{"type":"AssignmentExpression","start":300,"end":316,"operator":"=","left":{"type":"MemberExpression","start":300,"end":309,"object":{"type":"ThisExpression","start":300,"end":304},"property":{"type":"Identifier","start":305,"end":309,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":312,"end":316,"name":"unit"}}},{"type":"ExpressionStatement","start":326,"end":349,"expression":{"type":"AssignmentExpression","start":326,"end":348,"operator":"=","left":{"type":"MemberExpression","start":326,"end":338,"object":{"type":"ThisExpression","start":326,"end":330},"property":{"type":"Identifier","start":331,"end":338,"name":"centerY"},"computed":false,"optional":false},"right":{"type":"Identifier","start":341,"end":348,"name":"centerY"}}},{"type":"ExpressionStatement","start":358,"end":381,"expression":{"type":"AssignmentExpression","start":358,"end":380,"operator":"=","left":{"type":"MemberExpression","start":358,"end":370,"object":{"type":"ThisExpression","start":358,"end":362},"property":{"type":"Identifier","start":363,"end":370,"name":"centerX"},"computed":false,"optional":false},"right":{"type":"Identifier","start":373,"end":380,"name":"centerX"}}},{"type":"ExpressionStatement","start":390,"end":409,"expression":{"type":"AssignmentExpression","start":390,"end":408,"operator":"=","left":{"type":"MemberExpression","start":390,"end":400,"object":{"type":"ThisExpression","start":390,"end":394},"property":{"type":"Identifier","start":395,"end":400,"name":"width"},"computed":false,"optional":false},"right":{"type":"Identifier","start":403,"end":408,"name":"width"}}},{"type":"ExpressionStatement","start":418,"end":439,"expression":{"type":"AssignmentExpression","start":418,"end":438,"operator":"=","left":{"type":"MemberExpression","start":418,"end":429,"object":{"type":"ThisExpression","start":418,"end":422},"property":{"type":"Identifier","start":423,"end":429,"name":"height"},"computed":false,"optional":false},"right":{"type":"Identifier","start":432,"end":438,"name":"height"}}},{"type":"ExpressionStatement","start":448,"end":465,"expression":{"type":"AssignmentExpression","start":448,"end":464,"operator":"=","left":{"type":"MemberExpression","start":448,"end":457,"object":{"type":"ThisExpression","start":448,"end":452},"property":{"type":"Identifier","start":453,"end":457,"name":"type"},"computed":false,"optional":false},"right":{"type":"Identifier","start":460,"end":464,"name":"type"}}}]}}}]}},{"type":"ExportNamedDeclaration","start":474,"end":702,"declaration":{"type":"ClassDeclaration","start":481,"end":702,"id":{"type":"Identifier","start":487,"end":497,"name":"MarkerRect"},"superClass":{"type":"Identifier","start":506,"end":520,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":521,"end":702,"body":[{"type":"MethodDefinition","start":527,"end":700,"static":false,"computed":false,"key":{"type":"Identifier","start":527,"end":538,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":538,"end":700,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":539,"end":541,"name":"id"},{"type":"Identifier","start":543,"end":550,"name":"centerY"},{"type":"Identifier","start":552,"end":559,"name":"centerX"},{"type":"Identifier","start":561,"end":566,"name":"width"},{"type":"Identifier","start":568,"end":574,"name":"height"},{"type":"AssignmentPattern","start":576,"end":592,"left":{"type":"Identifier","start":576,"end":580,"name":"unit"},"right":{"type":"Literal","start":583,"end":592,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":594,"end":700,"body":[{"type":"VariableDeclaration","start":604,"end":630,"declarations":[{"type":"VariableDeclarator","start":610,"end":629,"id":{"type":"Identifier","start":610,"end":614,"name":"type"},"init":{"type":"Literal","start":617,"end":629,"value":"MarkerRect","raw":"'MarkerRect'"}}],"kind":"const"},{"type":"ExpressionStatement","start":639,"end":694,"expression":{"type":"CallExpression","start":639,"end":693,"callee":{"type":"Super","start":639,"end":644},"arguments":[{"type":"Identifier","start":645,"end":647,"name":"id"},{"type":"Identifier","start":649,"end":653,"name":"unit"},{"type":"Identifier","start":655,"end":662,"name":"centerY"},{"type":"Identifier","start":664,"end":671,"name":"centerX"},{"type":"Identifier","start":673,"end":678,"name":"width"},{"type":"Identifier","start":680,"end":686,"name":"height"},{"type":"Identifier","start":688,"end":692,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":703,"end":933,"declaration":{"type":"ClassDeclaration","start":710,"end":933,"id":{"type":"Identifier","start":716,"end":727,"name":"MarkerRound"},"superClass":{"type":"Identifier","start":736,"end":750,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":751,"end":933,"body":[{"type":"MethodDefinition","start":757,"end":931,"static":false,"computed":false,"key":{"type":"Identifier","start":757,"end":768,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":768,"end":931,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":769,"end":771,"name":"id"},{"type":"Identifier","start":773,"end":780,"name":"centerY"},{"type":"Identifier","start":782,"end":789,"name":"centerX"},{"type":"Identifier","start":791,"end":796,"name":"width"},{"type":"Identifier","start":798,"end":804,"name":"height"},{"type":"AssignmentPattern","start":806,"end":822,"left":{"type":"Identifier","start":806,"end":810,"name":"unit"},"right":{"type":"Literal","start":813,"end":822,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":824,"end":931,"body":[{"type":"VariableDeclaration","start":834,"end":861,"declarations":[{"type":"VariableDeclarator","start":840,"end":860,"id":{"type":"Identifier","start":840,"end":844,"name":"type"},"init":{"type":"Literal","start":847,"end":860,"value":"MarkerRound","raw":"'MarkerRound'"}}],"kind":"const"},{"type":"ExpressionStatement","start":870,"end":925,"expression":{"type":"CallExpression","start":870,"end":924,"callee":{"type":"Super","start":870,"end":875},"arguments":[{"type":"Identifier","start":876,"end":878,"name":"id"},{"type":"Identifier","start":880,"end":884,"name":"unit"},{"type":"Identifier","start":886,"end":893,"name":"centerY"},{"type":"Identifier","start":895,"end":902,"name":"centerX"},{"type":"Identifier","start":904,"end":909,"name":"width"},{"type":"Identifier","start":911,"end":917,"name":"height"},{"type":"Identifier","start":919,"end":923,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":934,"end":1095,"declaration":{"type":"ClassDeclaration","start":941,"end":1095,"id":{"type":"Identifier","start":947,"end":957,"name":"MarkerPoly"},"superClass":null,"body":{"type":"ClassBody","start":958,"end":1095,"body":[{"type":"MethodDefinition","start":964,"end":1093,"static":false,"computed":false,"key":{"type":"Identifier","start":964,"end":975,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":975,"end":1093,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":976,"end":980,"name":"dots"},{"type":"AssignmentPattern","start":982,"end":998,"left":{"type":"Identifier","start":982,"end":986,"name":"unit"},"right":{"type":"Literal","start":989,"end":998,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":1000,"end":1093,"body":[{"type":"ExpressionStatement","start":1010,"end":1035,"expression":{"type":"AssignmentExpression","start":1010,"end":1034,"operator":"=","left":{"type":"MemberExpression","start":1010,"end":1019,"object":{"type":"ThisExpression","start":1010,"end":1014},"property":{"type":"Identifier","start":1015,"end":1019,"name":"type"},"computed":false,"optional":false},"right":{"type":"Literal","start":1022,"end":1034,"value":"MarkerPoly","raw":"'MarkerPoly'"}}},{"type":"ExpressionStatement","start":1044,"end":1061,"expression":{"type":"AssignmentExpression","start":1044,"end":1060,"operator":"=","left":{"type":"MemberExpression","start":1044,"end":1053,"object":{"type":"ThisExpression","start":1044,"end":1048},"property":{"type":"Identifier","start":1049,"end":1053,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1056,"end":1060,"name":"unit"}}},{"type":"ExpressionStatement","start":1070,"end":1087,"expression":{"type":"AssignmentExpression","start":1070,"end":1086,"operator":"=","left":{"type":"MemberExpression","start":1070,"end":1079,"object":{"type":"ThisExpression","start":1070,"end":1074},"property":{"type":"Identifier","start":1075,"end":1079,"name":"dots"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1082,"end":1086,"name":"dots"}}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFVO0lBS25CLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclBvbHkge1xuICAgIHR5cGUgPSAnTWFya2VyUG9seSc7XG4gICAgdW5pdCA6IFVuaXRUeXBlO1xuICAgIGRvdHMgOiBQb2ludFtdO1xuXG4gICAgY29uc3RydWN0b3IoZG90czogUG9pbnRbXSwgdW5pdDogVW5pdFR5cGUgPSAncGVyY2VudCcpIHtcbiAgICAgICAgdGhpcy51bml0ID0gdW5pdDtcbiAgICAgICAgdGhpcy5kb3RzID0gZG90cztcbiAgICB9XG59XG4iXX0=","start":1096,"end":5262}]},"code":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFVO0lBS25CLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclBvbHkge1xuICAgIHR5cGUgPSAnTWFya2VyUG9seSc7XG4gICAgdW5pdCA6IFVuaXRUeXBlO1xuICAgIGRvdHMgOiBQb2ludFtdO1xuXG4gICAgY29uc3RydWN0b3IoZG90czogUG9pbnRbXSwgdW5pdDogVW5pdFR5cGUgPSAncGVyY2VudCcpIHtcbiAgICAgICAgdGhpcy51bml0ID0gdW5pdDtcbiAgICAgICAgdGhpcy5kb3RzID0gZG90cztcbiAgICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFVO0lBS25CLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclBvbHkge1xuICAgIHR5cGUgPSAnTWFya2VyUG9seSc7XG4gICAgdW5pdCA6IFVuaXRUeXBlO1xuICAgIGRvdHMgOiBQb2ludFtdO1xuXG4gICAgY29uc3RydWN0b3IoZG90czogUG9pbnRbXSwgdW5pdDogVW5pdFR5cGUgPSAncGVyY2VudCcpIHtcbiAgICAgICAgdGhpcy51bml0ID0gdW5pdDtcbiAgICAgICAgdGhpcy5kb3RzID0gZG90cztcbiAgICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.model.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.model.ts"],"names":[],"mappings":[[[0,0,5,0],[6,0,5,15],[20,0,5,29]],[[4,0,14,4],[16,0,14,26],[18,0,14,36],[20,0,14,38],[24,0,14,52],[26,0,14,54],[33,0,14,69],[35,0,14,71],[42,0,14,86],[44,0,14,88],[49,0,14,101],[51,0,14,103],[57,0,14,117],[59,0,14,119],[63,0,14,131]],[[8,0,15,8],[12,0,15,12],[16,0,15,16],[21,0,15,21],[30,0,15,30],[34,0,15,34],[35,0,15,35],[42,0,15,42],[45,0,15,45],[46,0,15,46],[50,0,15,50],[57,0,15,57],[60,0,15,60],[61,0,15,61],[65,0,15,65],[70,0,15,70],[73,0,15,73],[74,0,15,74],[78,0,15,78],[84,0,15,84],[87,0,15,87],[88,0,15,88],[89,0,15,89],[91,0,15,91]],[[12,0,16,12],[18,0,16,18],[22,0,16,22],[27,0,16,27],[28,0,16,28],[74,0,16,74],[75,0,16,75],[76,0,16,76]],[[9,0,17,9]],[[8,0,18,8],[12,0,18,12],[13,0,18,13],[15,0,18,15],[18,0,18,18],[20,0,18,20],[21,0,18,21]],[[8,0,19,8],[12,0,19,12],[13,0,19,13],[17,0,19,17],[20,0,19,20],[24,0,19,24],[25,0,19,25]],[[8,0,20,8],[12,0,20,12],[13,0,20,13],[20,0,20,20],[23,0,20,23],[30,0,20,30],[31,0,20,31]],[[8,0,21,8],[12,0,21,12],[13,0,21,13],[20,0,21,20],[23,0,21,23],[30,0,21,30],[31,0,21,31]],[[8,0,22,8],[12,0,22,12],[13,0,22,13],[18,0,22,18],[21,0,22,21],[26,0,22,26],[27,0,22,27]],[[8,0,23,8],[12,0,23,12],[13,0,23,13],[19,0,23,19],[22,0,23,22],[28,0,23,28],[29,0,23,29]],[[8,0,24,8],[12,0,24,12],[13,0,24,13],[17,0,24,17],[20,0,24,20],[24,0,24,24],[25,0,24,25]],[[4,0,25,4],[5,0,25,5]],[[1,0,26,1]],[[0,0,28,0],[6,0,28,6],[13,0,28,13],[23,0,28,24],[32,0,28,32],[46,0,28,46]],[[4,0,29,4],[16,0,29,16],[18,0,29,26],[20,0,29,28],[27,0,29,43],[29,0,29,45],[36,0,29,60],[38,0,29,62],[43,0,29,75],[45,0,29,77],[51,0,29,91],[53,0,29,93],[60,0,29,110],[69,0,29,119]],[[8,0,30,8],[14,0,30,14],[18,0,30,18],[21,0,30,21],[33,0,30,33],[34,0,30,34]],[[8,0,31,8],[13,0,31,13],[14,0,31,14],[16,0,31,16],[18,0,31,18],[22,0,31,22],[24,0,31,24],[31,0,31,31],[33,0,31,33],[40,0,31,40],[42,0,31,42],[47,0,31,47],[49,0,31,49],[55,0,31,55],[57,0,31,57],[61,0,31,61],[62,0,31,62],[63,0,31,63]],[[4,0,32,4],[5,0,32,5]],[[1,0,33,1]],[[0,0,35,0],[6,0,35,6],[13,0,35,13],[24,0,35,25],[33,0,35,33],[47,0,35,47]],[[4,0,36,4],[16,0,36,16],[18,0,36,26],[20,0,36,28],[27,0,36,43],[29,0,36,45],[36,0,36,60],[38,0,36,62],[43,0,36,75],[45,0,36,77],[51,0,36,91],[53,0,36,93],[60,0,36,110],[69,0,36,119]],[[8,0,37,8],[14,0,37,14],[18,0,37,18],[21,0,37,21],[34,0,37,34],[35,0,37,35]],[[8,0,38,8],[13,0,38,13],[14,0,38,14],[16,0,38,16],[18,0,38,18],[22,0,38,22],[24,0,38,24],[31,0,38,31],[33,0,38,33],[40,0,38,40],[42,0,38,42],[47,0,38,47],[49,0,38,49],[55,0,38,55],[57,0,38,57],[61,0,38,61],[62,0,38,62],[63,0,38,63]],[[4,0,39,4],[5,0,39,5]],[[1,0,40,1]],[[0,0,42,0],[6,0,42,6],[13,0,42,13],[23,0,42,23]],[[4,0,47,4],[16,0,47,16],[20,0,47,29],[22,0,47,31],[29,0,47,48],[38,0,47,57]],[[8,0,43,4],[17,0,43,8],[20,0,43,11],[32,0,43,23],[33,0,43,24]],[[8,0,48,8],[12,0,48,12],[13,0,48,13],[17,0,48,17],[20,0,48,20],[24,0,48,24],[25,0,48,25]],[[8,0,49,8],[12,0,49,12],[13,0,49,13],[17,0,49,17],[20,0,49,20],[24,0,49,24],[25,0,49,25]],[[4,0,50,4],[5,0,50,5]],[[1,0,51,1]]],"sourcesContent":["export type PlayerType = 'image' | 'dzi';\nexport type UnitType = 'percent' | 'pixel';\n\nexport interface Point {x : number, y : number}\n\nabstract class AnnotateMarker {\n    readonly id : number;\n    readonly unit : UnitType;\n    readonly centerY : number;\n    readonly centerX : number;\n    readonly width : number;\n    readonly height : number;\n    readonly type : string;\n\n    protected constructor(id: number, unit: UnitType, centerY: number, centerX: number, width: number, height: number, type: string) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\n\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id: number, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id: number, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport class MarkerPoly {\n    type = 'MarkerPoly';\n    unit : UnitType;\n    dots : Point[];\n\n    constructor(dots: Point[], unit: UnitType = 'percent') {\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":23095,"body":[{"type":"ImportDeclaration","start":0,"end":51,"specifiers":[{"type":"ImportSpecifier","start":9,"end":15,"imported":{"type":"Identifier","start":9,"end":15,"name":"Inject"},"local":{"type":"Identifier","start":9,"end":15,"name":"Inject"}},{"type":"ImportSpecifier","start":17,"end":27,"imported":{"type":"Identifier","start":17,"end":27,"name":"Injectable"},"local":{"type":"Identifier","start":17,"end":27,"name":"Injectable"}}],"source":{"type":"Literal","start":35,"end":50,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":52,"end":83,"specifiers":[{"type":"ImportSpecifier","start":61,"end":68,"imported":{"type":"Identifier","start":61,"end":68,"name":"Subject"},"local":{"type":"Identifier","start":61,"end":68,"name":"Subject"}}],"source":{"type":"Literal","start":76,"end":82,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":84,"end":130,"specifiers":[{"type":"ImportSpecifier","start":93,"end":105,"imported":{"type":"Identifier","start":93,"end":105,"name":"debounceTime"},"local":{"type":"Identifier","start":93,"end":105,"name":"debounceTime"}}],"source":{"type":"Literal","start":113,"end":129,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":131,"end":167,"specifiers":[{"type":"ImportNamespaceSpecifier","start":138,"end":145,"local":{"type":"Identifier","start":143,"end":145,"name":"i0"}}],"source":{"type":"Literal","start":151,"end":166,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":168,"end":3852,"declaration":{"type":"ClassDeclaration","start":175,"end":3852,"id":{"type":"Identifier","start":181,"end":201,"name":"AnnotationOSDService"},"superClass":null,"body":{"type":"ClassBody","start":202,"end":3852,"body":[{"type":"MethodDefinition","start":208,"end":270,"static":false,"computed":false,"key":{"type":"Identifier","start":208,"end":219,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":219,"end":270,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":220,"end":233,"left":{"type":"Identifier","start":220,"end":225,"name":"debug"},"right":{"type":"Literal","start":228,"end":233,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":235,"end":270,"body":[{"type":"ExpressionStatement","start":245,"end":264,"expression":{"type":"AssignmentExpression","start":245,"end":263,"operator":"=","left":{"type":"MemberExpression","start":245,"end":255,"object":{"type":"ThisExpression","start":245,"end":249},"property":{"type":"Identifier","start":250,"end":255,"name":"DEBUG"},"computed":false,"optional":false},"right":{"type":"Identifier","start":258,"end":263,"name":"debug"}}}]}}},{"type":"MethodDefinition","start":275,"end":1637,"static":false,"computed":false,"key":{"type":"Identifier","start":275,"end":288,"name":"playerFactory"},"kind":"method","value":{"type":"FunctionExpression","start":288,"end":1637,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":289,"end":293,"name":"type"},{"type":"Identifier","start":295,"end":297,"name":"id"},{"type":"Identifier","start":299,"end":303,"name":"link"}],"body":{"type":"BlockStatement","start":305,"end":1637,"body":[{"type":"ReturnStatement","start":315,"end":1631,"argument":{"type":"NewExpression","start":322,"end":1630,"callee":{"type":"Identifier","start":326,"end":333,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":334,"end":1629,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":335,"end":342,"name":"resolve"}],"body":{"type":"BlockStatement","start":347,"end":1629,"body":[{"type":"ExpressionStatement","start":361,"end":852,"expression":{"type":"AssignmentExpression","start":361,"end":851,"operator":"=","left":{"type":"MemberExpression","start":361,"end":372,"object":{"type":"ThisExpression","start":361,"end":365},"property":{"type":"Identifier","start":366,"end":372,"name":"viewer"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":375,"end":851,"callee":{"type":"Identifier","start":375,"end":388,"name":"OpenSeadragon"},"arguments":[{"type":"ObjectExpression","start":389,"end":850,"properties":[{"type":"Property","start":407,"end":409,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":407,"end":409,"name":"id"},"kind":"init","value":{"type":"Identifier","start":407,"end":409,"name":"id"}},{"type":"Property","start":427,"end":492,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":427,"end":438,"name":"tileSources"},"value":{"type":"ConditionalExpression","start":440,"end":492,"test":{"type":"BinaryExpression","start":440,"end":454,"left":{"type":"Identifier","start":440,"end":444,"name":"type"},"operator":"===","right":{"type":"Literal","start":449,"end":454,"value":"dzi","raw":"'dzi'"}},"consequent":{"type":"Identifier","start":457,"end":461,"name":"link"},"alternate":{"type":"ObjectExpression","start":464,"end":492,"properties":[{"type":"Property","start":466,"end":479,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":466,"end":470,"name":"type"},"value":{"type":"Literal","start":472,"end":479,"value":"image","raw":"'image'"},"kind":"init"},{"type":"Property","start":481,"end":490,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":481,"end":484,"name":"url"},"value":{"type":"Identifier","start":486,"end":490,"name":"link"},"kind":"init"}]}},"kind":"init"},{"type":"Property","start":510,"end":554,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":510,"end":530,"name":"gestureSettingsTouch"},"value":{"type":"ObjectExpression","start":532,"end":554,"properties":[{"type":"Property","start":534,"end":552,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":534,"end":545,"name":"pinchRotate"},"value":{"type":"Literal","start":547,"end":552,"value":false,"raw":"false"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":572,"end":598,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":572,"end":591,"name":"showRotationControl"},"value":{"type":"Literal","start":593,"end":598,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":616,"end":644,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":616,"end":637,"name":"showNavigationControl"},"value":{"type":"Literal","start":639,"end":644,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":662,"end":684,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":662,"end":677,"name":"showFlipControl"},"value":{"type":"Literal","start":679,"end":684,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":702,"end":717,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":702,"end":714,"name":"zoomPerClick"},"value":{"type":"Literal","start":716,"end":717,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":735,"end":754,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":735,"end":751,"name":"imageLoaderLimit"},"value":{"type":"Literal","start":753,"end":754,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":772,"end":796,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":772,"end":790,"name":"constrainDuringPan"},"value":{"type":"Literal","start":792,"end":796,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":814,"end":835,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":814,"end":823,"name":"debugMode"},"value":{"type":"MemberExpression","start":825,"end":835,"object":{"type":"ThisExpression","start":825,"end":829},"property":{"type":"Identifier","start":830,"end":835,"name":"DEBUG"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"VariableDeclaration","start":865,"end":899,"declarations":[{"type":"VariableDeclarator","start":871,"end":898,"id":{"type":"Identifier","start":871,"end":882,"name":"subjectZoom"},"init":{"type":"NewExpression","start":885,"end":898,"callee":{"type":"Identifier","start":889,"end":896,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":912,"end":1004,"expression":{"type":"CallExpression","start":912,"end":1003,"callee":{"type":"MemberExpression","start":912,"end":934,"object":{"type":"MemberExpression","start":912,"end":923,"object":{"type":"ThisExpression","start":912,"end":916},"property":{"type":"Identifier","start":917,"end":923,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":924,"end":934,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":935,"end":941,"value":"zoom","raw":"'zoom'"},{"type":"ArrowFunctionExpression","start":943,"end":1002,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":944,"end":945,"name":"e"}],"body":{"type":"BlockStatement","start":950,"end":1002,"body":[{"type":"ExpressionStatement","start":968,"end":988,"expression":{"type":"CallExpression","start":968,"end":987,"callee":{"type":"MemberExpression","start":968,"end":984,"object":{"type":"Identifier","start":968,"end":979,"name":"subjectZoom"},"property":{"type":"Identifier","start":980,"end":984,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":985,"end":986,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1017,"end":1168,"expression":{"type":"CallExpression","start":1017,"end":1167,"callee":{"type":"MemberExpression","start":1017,"end":1061,"object":{"type":"CallExpression","start":1017,"end":1051,"callee":{"type":"MemberExpression","start":1017,"end":1033,"object":{"type":"Identifier","start":1017,"end":1028,"name":"subjectZoom"},"property":{"type":"Identifier","start":1029,"end":1033,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1034,"end":1050,"callee":{"type":"Identifier","start":1034,"end":1046,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1047,"end":1049,"value":50,"raw":"50"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1052,"end":1061,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1062,"end":1166,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1068,"end":1166,"body":[{"type":"ExpressionStatement","start":1086,"end":1108,"expression":{"type":"CallExpression","start":1086,"end":1107,"callee":{"type":"MemberExpression","start":1086,"end":1105,"object":{"type":"ThisExpression","start":1086,"end":1090},"property":{"type":"Identifier","start":1091,"end":1105,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1181,"end":1346,"expression":{"type":"CallExpression","start":1181,"end":1345,"callee":{"type":"MemberExpression","start":1181,"end":1207,"object":{"type":"MemberExpression","start":1181,"end":1192,"object":{"type":"ThisExpression","start":1181,"end":1185},"property":{"type":"Identifier","start":1186,"end":1192,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1193,"end":1207,"name":"addOnceHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1208,"end":1214,"value":"open","raw":"'open'"},{"type":"ArrowFunctionExpression","start":1216,"end":1344,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1222,"end":1344,"body":[{"type":"ExpressionStatement","start":1240,"end":1260,"expression":{"type":"CallExpression","start":1240,"end":1259,"callee":{"type":"MemberExpression","start":1240,"end":1251,"object":{"type":"Identifier","start":1240,"end":1247,"name":"console"},"property":{"type":"Identifier","start":1248,"end":1251,"name":"log"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1252,"end":1258,"value":"open","raw":"'open'"}],"optional":false}},{"type":"ExpressionStatement","start":1277,"end":1299,"expression":{"type":"CallExpression","start":1277,"end":1298,"callee":{"type":"MemberExpression","start":1277,"end":1296,"object":{"type":"ThisExpression","start":1277,"end":1281},"property":{"type":"Identifier","start":1282,"end":1296,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1316,"end":1330,"expression":{"type":"CallExpression","start":1316,"end":1329,"callee":{"type":"Identifier","start":1316,"end":1323,"name":"resolve"},"arguments":[{"type":"ThisExpression","start":1324,"end":1328}],"optional":false}}]}}],"optional":false}},{"type":"VariableDeclaration","start":1359,"end":1395,"declarations":[{"type":"VariableDeclarator","start":1365,"end":1394,"id":{"type":"Identifier","start":1365,"end":1378,"name":"subjectResize"},"init":{"type":"NewExpression","start":1381,"end":1394,"callee":{"type":"Identifier","start":1385,"end":1392,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1408,"end":1504,"expression":{"type":"CallExpression","start":1408,"end":1503,"callee":{"type":"MemberExpression","start":1408,"end":1430,"object":{"type":"MemberExpression","start":1408,"end":1419,"object":{"type":"ThisExpression","start":1408,"end":1412},"property":{"type":"Identifier","start":1413,"end":1419,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1420,"end":1430,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1431,"end":1439,"value":"resize","raw":"'resize'"},{"type":"ArrowFunctionExpression","start":1441,"end":1502,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1442,"end":1443,"name":"e"}],"body":{"type":"BlockStatement","start":1448,"end":1502,"body":[{"type":"ExpressionStatement","start":1466,"end":1488,"expression":{"type":"CallExpression","start":1466,"end":1487,"callee":{"type":"MemberExpression","start":1466,"end":1484,"object":{"type":"Identifier","start":1466,"end":1479,"name":"subjectResize"},"property":{"type":"Identifier","start":1480,"end":1484,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1485,"end":1486,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1517,"end":1619,"expression":{"type":"CallExpression","start":1517,"end":1618,"callee":{"type":"MemberExpression","start":1517,"end":1564,"object":{"type":"CallExpression","start":1517,"end":1554,"callee":{"type":"MemberExpression","start":1517,"end":1535,"object":{"type":"Identifier","start":1517,"end":1530,"name":"subjectResize"},"property":{"type":"Identifier","start":1531,"end":1535,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1536,"end":1553,"callee":{"type":"Identifier","start":1536,"end":1548,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1549,"end":1552,"value":200,"raw":"200"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1555,"end":1564,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1565,"end":1617,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1571,"end":1617,"body":[{"type":"ExpressionStatement","start":1589,"end":1603,"expression":{"type":"CallExpression","start":1589,"end":1602,"callee":{"type":"MemberExpression","start":1589,"end":1600,"object":{"type":"ThisExpression","start":1589,"end":1593},"property":{"type":"Identifier","start":1594,"end":1600,"name":"goHome"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":2671,"end":3139,"static":false,"computed":false,"key":{"type":"Identifier","start":2671,"end":2685,"name":"calculateRatio"},"kind":"method","value":{"type":"FunctionExpression","start":2685,"end":3139,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2688,"end":3139,"body":[]}}},{"type":"MethodDefinition","start":3144,"end":3359,"static":false,"computed":false,"key":{"type":"Identifier","start":3150,"end":3156,"name":"goHome"},"kind":"method","value":{"type":"FunctionExpression","start":3156,"end":3359,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":3159,"end":3359,"body":[{"type":"ReturnStatement","start":3341,"end":3353,"argument":{"type":"ThisExpression","start":3348,"end":3352}}]}}},{"type":"MethodDefinition","start":3364,"end":3513,"static":false,"computed":false,"key":{"type":"Identifier","start":3364,"end":3373,"name":"addCanvas"},"kind":"method","value":{"type":"FunctionExpression","start":3373,"end":3513,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3376,"end":3513,"body":[{"type":"ExpressionStatement","start":3386,"end":3486,"expression":{"type":"AssignmentExpression","start":3386,"end":3485,"operator":"=","left":{"type":"MemberExpression","start":3386,"end":3397,"object":{"type":"ThisExpression","start":3386,"end":3390},"property":{"type":"Identifier","start":3391,"end":3397,"name":"canvas"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":3400,"end":3485,"callee":{"type":"MemberExpression","start":3400,"end":3483,"object":{"type":"CallExpression","start":3400,"end":3457,"callee":{"type":"MemberExpression","start":3400,"end":3440,"object":{"type":"MemberExpression","start":3400,"end":3411,"object":{"type":"ThisExpression","start":3400,"end":3404},"property":{"type":"Identifier","start":3405,"end":3411,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3425,"end":3440,"name":"fabricjsOverlay"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":3441,"end":3456,"properties":[{"type":"Property","start":3443,"end":3454,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3443,"end":3448,"name":"scale"},"value":{"type":"Literal","start":3450,"end":3454,"value":1000,"raw":"1000"},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":3471,"end":3483,"name":"fabricCanvas"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"ReturnStatement","start":3495,"end":3507,"argument":{"type":"ThisExpression","start":3502,"end":3506}}]}}},{"type":"MethodDefinition","start":3518,"end":3850,"static":false,"computed":false,"key":{"type":"Identifier","start":3518,"end":3527,"name":"addDamage"},"kind":"method","value":{"type":"FunctionExpression","start":3527,"end":3850,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3528,"end":3534,"name":"damage"}],"body":{"type":"BlockStatement","start":3536,"end":3850,"body":[{"type":"VariableDeclaration","start":3546,"end":3813,"declarations":[{"type":"VariableDeclarator","start":3552,"end":3812,"id":{"type":"Identifier","start":3552,"end":3556,"name":"poly"},"init":{"type":"NewExpression","start":3559,"end":3812,"callee":{"type":"MemberExpression","start":3563,"end":3577,"object":{"type":"Identifier","start":3563,"end":3569,"name":"fabric"},"property":{"type":"Identifier","start":3570,"end":3577,"name":"Polygon"},"computed":false,"optional":false},"arguments":[{"type":"ArrayExpression","start":3578,"end":3745,"elements":[{"type":"ObjectExpression","start":3592,"end":3609,"properties":[{"type":"Property","start":3594,"end":3600,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3594,"end":3595,"name":"x"},"value":{"type":"Literal","start":3597,"end":3600,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":3602,"end":3607,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3602,"end":3603,"name":"y"},"value":{"type":"Literal","start":3605,"end":3607,"value":10,"raw":"10"},"kind":"init"}]},{"type":"ObjectExpression","start":3623,"end":3640,"properties":[{"type":"Property","start":3625,"end":3631,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3625,"end":3626,"name":"x"},"value":{"type":"Literal","start":3628,"end":3631,"value":250,"raw":"250"},"kind":"init"},{"type":"Property","start":3633,"end":3638,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3633,"end":3634,"name":"y"},"value":{"type":"Literal","start":3636,"end":3638,"value":50,"raw":"50"},"kind":"init"}]},{"type":"ObjectExpression","start":3654,"end":3672,"properties":[{"type":"Property","start":3656,"end":3662,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3656,"end":3657,"name":"x"},"value":{"type":"Literal","start":3659,"end":3662,"value":250,"raw":"250"},"kind":"init"},{"type":"Property","start":3664,"end":3670,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3664,"end":3665,"name":"y"},"value":{"type":"Literal","start":3667,"end":3670,"value":180,"raw":"180"},"kind":"init"}]},{"type":"ObjectExpression","start":3686,"end":3704,"properties":[{"type":"Property","start":3688,"end":3694,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3688,"end":3689,"name":"x"},"value":{"type":"Literal","start":3691,"end":3694,"value":150,"raw":"150"},"kind":"init"},{"type":"Property","start":3696,"end":3702,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3696,"end":3697,"name":"y"},"value":{"type":"Literal","start":3699,"end":3702,"value":180,"raw":"180"},"kind":"init"}]},{"type":"ObjectExpression","start":3718,"end":3735,"properties":[{"type":"Property","start":3720,"end":3726,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3720,"end":3721,"name":"x"},"value":{"type":"Literal","start":3723,"end":3726,"value":150,"raw":"150"},"kind":"init"},{"type":"Property","start":3728,"end":3733,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3728,"end":3729,"name":"y"},"value":{"type":"Literal","start":3731,"end":3733,"value":50,"raw":"50"},"kind":"init"}]}]},{"type":"ObjectExpression","start":3747,"end":3811,"properties":[{"type":"Property","start":3761,"end":3774,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3761,"end":3765,"name":"fill"},"value":{"type":"Literal","start":3767,"end":3774,"value":"green","raw":"'green'"},"kind":"init"},{"type":"Property","start":3788,"end":3800,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3788,"end":3795,"name":"opacity"},"value":{"type":"Literal","start":3797,"end":3800,"value":0.3,"raw":"0.3"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3822,"end":3844,"expression":{"type":"CallExpression","start":3822,"end":3843,"callee":{"type":"MemberExpression","start":3822,"end":3837,"object":{"type":"MemberExpression","start":3822,"end":3833,"object":{"type":"ThisExpression","start":3822,"end":3826},"property":{"type":"Identifier","start":3827,"end":3833,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3834,"end":3837,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3838,"end":3842,"name":"poly"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":3853,"end":4057,"expression":{"type":"AssignmentExpression","start":3853,"end":4056,"operator":"=","left":{"type":"MemberExpression","start":3853,"end":3878,"object":{"type":"Identifier","start":3853,"end":3873,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":3874,"end":3878,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":3881,"end":4056,"callee":{"type":"MemberExpression","start":3881,"end":3902,"object":{"type":"Identifier","start":3881,"end":3883,"name":"i0"},"property":{"type":"Identifier","start":3884,"end":3902,"name":"ɵɵngDeclareFactory"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":3903,"end":4055,"properties":[{"type":"Property","start":3905,"end":3925,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3905,"end":3915,"name":"minVersion"},"value":{"type":"Literal","start":3917,"end":3925,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":3927,"end":3944,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3927,"end":3934,"name":"version"},"value":{"type":"Literal","start":3936,"end":3944,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":3946,"end":3958,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3946,"end":3954,"name":"ngImport"},"value":{"type":"Identifier","start":3956,"end":3958,"name":"i0"},"kind":"init"},{"type":"Property","start":3960,"end":3986,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3960,"end":3964,"name":"type"},"value":{"type":"Identifier","start":3966,"end":3986,"name":"AnnotationOSDService"},"kind":"init"},{"type":"Property","start":3988,"end":4014,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3988,"end":3992,"name":"deps"},"value":{"type":"ArrayExpression","start":3994,"end":4014,"elements":[{"type":"ObjectExpression","start":3995,"end":4013,"properties":[{"type":"Property","start":3997,"end":4011,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3997,"end":4002,"name":"token"},"value":{"type":"Identifier","start":4004,"end":4011,"name":"Boolean"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":4016,"end":4053,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4016,"end":4022,"name":"target"},"value":{"type":"MemberExpression","start":4024,"end":4053,"object":{"type":"MemberExpression","start":4024,"end":4042,"object":{"type":"Identifier","start":4024,"end":4026,"name":"i0"},"property":{"type":"Identifier","start":4027,"end":4042,"name":"ɵɵFactoryTarget"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4043,"end":4053,"name":"Injectable"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":4058,"end":4219,"expression":{"type":"AssignmentExpression","start":4058,"end":4218,"operator":"=","left":{"type":"MemberExpression","start":4058,"end":4084,"object":{"type":"Identifier","start":4058,"end":4078,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4079,"end":4084,"name":"ɵprov"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":4087,"end":4218,"callee":{"type":"MemberExpression","start":4087,"end":4111,"object":{"type":"Identifier","start":4087,"end":4089,"name":"i0"},"property":{"type":"Identifier","start":4090,"end":4111,"name":"ɵɵngDeclareInjectable"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":4112,"end":4217,"properties":[{"type":"Property","start":4114,"end":4134,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4114,"end":4124,"name":"minVersion"},"value":{"type":"Literal","start":4126,"end":4134,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4136,"end":4153,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4136,"end":4143,"name":"version"},"value":{"type":"Literal","start":4145,"end":4153,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":4155,"end":4167,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4155,"end":4163,"name":"ngImport"},"value":{"type":"Identifier","start":4165,"end":4167,"name":"i0"},"kind":"init"},{"type":"Property","start":4169,"end":4195,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4169,"end":4173,"name":"type"},"value":{"type":"Identifier","start":4175,"end":4195,"name":"AnnotationOSDService"},"kind":"init"},{"type":"Property","start":4197,"end":4215,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4197,"end":4207,"name":"providedIn"},"value":{"type":"Literal","start":4209,"end":4215,"value":"root","raw":"'root'"},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":4220,"end":4640,"expression":{"type":"CallExpression","start":4220,"end":4639,"callee":{"type":"MemberExpression","start":4220,"end":4247,"object":{"type":"Identifier","start":4220,"end":4222,"name":"i0"},"property":{"type":"Identifier","start":4223,"end":4247,"name":"ɵɵngDeclareClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":4248,"end":4638,"properties":[{"type":"Property","start":4250,"end":4270,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4250,"end":4260,"name":"minVersion"},"value":{"type":"Literal","start":4262,"end":4270,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":4272,"end":4289,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4272,"end":4279,"name":"version"},"value":{"type":"Literal","start":4281,"end":4289,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":4291,"end":4303,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4291,"end":4299,"name":"ngImport"},"value":{"type":"Identifier","start":4301,"end":4303,"name":"i0"},"kind":"init"},{"type":"Property","start":4305,"end":4331,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4305,"end":4309,"name":"type"},"value":{"type":"Identifier","start":4311,"end":4331,"name":"AnnotationOSDService"},"kind":"init"},{"type":"Property","start":4333,"end":4468,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4333,"end":4343,"name":"decorators"},"value":{"type":"ArrayExpression","start":4345,"end":4468,"elements":[{"type":"ObjectExpression","start":4346,"end":4467,"properties":[{"type":"Property","start":4360,"end":4376,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4360,"end":4364,"name":"type"},"value":{"type":"Identifier","start":4366,"end":4376,"name":"Injectable"},"kind":"init"},{"type":"Property","start":4390,"end":4457,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4390,"end":4394,"name":"args"},"value":{"type":"ArrayExpression","start":4396,"end":4457,"elements":[{"type":"ObjectExpression","start":4397,"end":4456,"properties":[{"type":"Property","start":4419,"end":4437,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4419,"end":4429,"name":"providedIn"},"value":{"type":"Literal","start":4431,"end":4437,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":4470,"end":4636,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4470,"end":4484,"name":"ctorParameters"},"value":{"type":"FunctionExpression","start":4486,"end":4636,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4498,"end":4636,"body":[{"type":"ReturnStatement","start":4500,"end":4634,"argument":{"type":"ArrayExpression","start":4507,"end":4633,"elements":[{"type":"ObjectExpression","start":4508,"end":4632,"properties":[{"type":"Property","start":4510,"end":4525,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4510,"end":4514,"name":"type"},"value":{"type":"Identifier","start":4516,"end":4525,"name":"undefined"},"kind":"init"},{"type":"Property","start":4527,"end":4630,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4527,"end":4537,"name":"decorators"},"value":{"type":"ArrayExpression","start":4539,"end":4630,"elements":[{"type":"ObjectExpression","start":4540,"end":4629,"properties":[{"type":"Property","start":4562,"end":4574,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4562,"end":4566,"name":"type"},"value":{"type":"Identifier","start":4568,"end":4574,"name":"Inject"},"kind":"init"},{"type":"Property","start":4596,"end":4611,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4596,"end":4600,"name":"args"},"value":{"type":"ArrayExpression","start":4602,"end":4611,"elements":[{"type":"Identifier","start":4603,"end":4610,"name":"Boolean"}]},"kind":"init"}]}]},"kind":"init"}]}]}}]}},"kind":"init"}]}],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFjOUMsTUFBTSxPQUFPLG9CQUFvQjtJQVc3QixZQUE2QixRQUFrQixLQUFLO1FBQ2hELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxhQUFhLENBQUMsSUFBZ0IsRUFBRSxFQUFVLEVBQUUsSUFBWTtRQUMzRCxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxhQUFhLENBQUM7Z0JBQ3hCLEVBQUU7Z0JBQ0YsV0FBVyxFQUFFLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUU7Z0JBQ2pFLG9CQUFvQixFQUFFLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBbUM7Z0JBQzdFLG1CQUFtQixFQUFFLEtBQUs7Z0JBQzFCLHFCQUFxQixFQUFFLEtBQUs7Z0JBQzVCLGVBQWUsRUFBRSxLQUFLO2dCQUN0QixZQUFZLEVBQUUsQ0FBQztnQkFDZixnQkFBZ0IsRUFBRSxDQUFDO2dCQUNuQixrQkFBa0IsRUFBRSxJQUFJO2dCQUN4QixTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUs7YUFDeEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxXQUFXLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3RDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsQ0FBQyxDQUFDLENBQUM7WUFDSCxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQzlDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsMkJBQTJCO1lBQy9CLENBQUMsQ0FBQyxDQUFDO1lBR0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtnQkFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN0QixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEIsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLGFBQWEsR0FBaUIsSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFNLEVBQUUsRUFBRTtnQkFDeEMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDLENBQUMsQ0FBQztZQUNILGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtnQkFDakQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsRUFBRTtJQUNGLGdFQUFnRTtJQUNoRSxzSUFBc0k7SUFDdEksdUNBQXVDO0lBQ3ZDLHlDQUF5QztJQUN6QyxzQ0FBc0M7SUFDdEMscUVBQXFFO0lBQ3JFLHdEQUF3RDtJQUN4RCxJQUFJO0lBRUosK0JBQStCO0lBQy9CLHVCQUF1QjtJQUN2Qiw4Q0FBOEM7SUFDOUMscURBQXFEO0lBQ3JELHVEQUF1RDtJQUN2RCwyQ0FBMkM7SUFDM0MsZ0RBQWdEO0lBQ2hELG9DQUFvQztJQUNwQywyREFBMkQ7SUFDM0QsVUFBVTtJQUNWLDZDQUE2QztJQUM3QyxRQUFRO0lBQ1IsTUFBTTtJQUNOLElBQUk7SUFFSSxjQUFjO1FBQ3RCLHFEQUFxRDtRQUNyRCxzREFBc0Q7UUFDdEQsbUVBQW1FO1FBQ25FLG9FQUFvRTtRQUNwRSxxRUFBcUU7UUFDckUsK0VBQStFO0lBQy9FLENBQUM7SUFFTSxLQUFLLENBQUMsTUFBTTtRQUNuQixzREFBc0Q7UUFDdEQseURBQXlEO1FBQ3pELGtDQUFrQztRQUM5QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUksSUFBSSxDQUFDLE1BQWM7YUFDN0IsZUFBZSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDO2FBQ2hDLFlBQVksRUFBRSxDQUFDO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxTQUFTLENBQUMsTUFBOEM7UUFDM0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDO1lBQzVCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1NBQUMsRUFBRTtZQUNwQixJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxHQUFHO1NBQ2YsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUIsQ0FBQzs7aUhBbkhRLG9CQUFvQixrQkFXVCxPQUFPO3FIQVhsQixvQkFBb0IsY0FGakIsTUFBTTsyRkFFVCxvQkFBb0I7a0JBSGhDLFVBQVU7bUJBQUM7b0JBQ1IsVUFBVSxFQUFFLE1BQU07aUJBQ3JCOzswQkFZZ0IsTUFBTTsyQkFBQyxPQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge1xuICAgIE1hcmtlclBvbHksIE1hcmtlclJlY3QsIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5cbi8vIExvYWQgdHlwZSBmb3Igb3BlbnNlYWRyYWdvblxuZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZGVjbGFyZSBsZXQgT3BlblNlYWRyYWdvbjogVHlwZU9wZW5TZWFkcmFnb247XG4vLyBMb2FkIHR5cGUgZm9yIGZhYnJpY1xuZGVjbGFyZSB0eXBlIFR5cGVGYWJyaWMgPSB0eXBlb2YgaW1wb3J0KCdmYWJyaWMvZmFicmljLWltcGwnKTtcbmRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyO1xuICAgIHByb3RlY3RlZCBjYW52YXM6IGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjsgXG4gICAgcHJvdGVjdGVkIGNvbnRhaW5lcldpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGNvbnRhaW5lckhlaWdodDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCB6b29tVG9ab29tTGV2ZWxSYXRpbzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBzY2FsZTogbnVtYmVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVCVUcgOmJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihASW5qZWN0KEJvb2xlYW4pIGRlYnVnIDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuREVCVUcgPSBkZWJ1ZztcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheWVyRmFjdG9yeSh0eXBlOiBQbGF5ZXJUeXBlLCBpZDogc3RyaW5nLCBsaW5rOiBzdHJpbmcpOiBQcm9taXNlPFRoaXNUeXBlPGFueT4+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlciA9IE9wZW5TZWFkcmFnb24oe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VzOiB0eXBlID09PSAnZHppJyA/IGxpbmsgOiB7IHR5cGU6ICdpbWFnZScsIHVybDogbGluayB9LFxuICAgICAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiB7IHBpbmNoUm90YXRlOiBmYWxzZSB9IGFzIE9wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNob3dSb3RhdGlvbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0ZsaXBDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB6b29tUGVyQ2xpY2s6IDEsXG4gICAgICAgICAgICAgICAgaW1hZ2VMb2FkZXJMaW1pdDogMSxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5EdXJpbmdQYW46IHRydWUsXG4gICAgICAgICAgICAgICAgZGVidWdNb2RlOiB0aGlzLkRFQlVHLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0UmVzaXplOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcigncmVzaXplJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3RSZXNpemUubmV4dChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5waXBlKGRlYm91bmNlVGltZSgyMDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ib21lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgLy8gcHVibGljIHNldEhvbWUocG9pbnQ6IFBvaW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIC8vICAgY29uc3QgaG9tZVBvaW50ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhuZXcgT1NELlBvaW50KHRoaXMuaW1hZ2VXaWR0aCAvIDIsIHRoaXMuaW1hZ2VIZWlnaHQgLyAyKSk7XG4gICAgLy8gICBjb25zdCB3ID0gdGhpcy5pbWFnZVdpZHRoIC8gd2lkdGg7XG4gICAgLy8gICBjb25zdCBoID0gdGhpcy5pbWFnZUhlaWdodCAvIGhlaWdodDtcbiAgICAvLyAgIGNvbnN0IHpvb20gPSA0OyAvLyB3ID4gaCA/IGggOiB3O1xuICAgIC8vICAgY29uc29sZS5sb2coaG9tZVBvaW50LCB6b29tLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xuICAgIC8vICAgdGhpcy52aWV3ZXIudmlld3BvcnQuem9vbVRvKDEuMiwgaG9tZVBvaW50LCBmYWxzZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkge1xuICAgIC8vICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgLy8gICAgIGNvbnN0IHcgPSAyOyAvLyBkZXNpcmVkIHdpZHRoIGluIHBpeGVsc1xuICAgIC8vICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHcgLyB0aGlzLmNhbnZhcy5nZXRab29tKCk7XG4gICAgLy8gICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAvLyAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAvLyAgICAgICBpZiAob2JqZWN0LmdldCgncmFkaXVzJykpIHtcbiAgICAvLyAgICAgICAgIG9iamVjdC5zZXQoJ3JhZGl1cycsIDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCkpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICAvLyBjYW4gYWxzbyB1cGRhdGUgb3RoZXIgdGhpbmdzIGhlcmVcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgLy8gdGhpcy5pbWFnZVdpZHRoID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueDtcbiAgICAvLyB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueTtcbiAgICAvLyB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgLy8gdGhpcy5jb250YWluZXJIZWlnaHQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueTtcbiAgICAvLyB0aGlzLnpvb21Ub1pvb21MZXZlbFJhdGlvID0gdGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuaW1hZ2VXaWR0aDtcbiAgICAvLyB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdvSG9tZSgpIHtcbiAgICAvLyBpZiAoIXRoaXMuaG9tZSkgdGhpcy52aWV3ZXIudmlld3BvcnQuZ29Ib21lKGZhbHNlKTtcbiAgICAvLyBlbHNlIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kcyh0aGlzLmhvbWUsIGZhbHNlKTtcbiAgICAvLyB0aGlzLnNldEhvbWUobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWMuUG9seWdvbihbXG4gICAgICAgICAgICB7IHg6IDIwMCwgeTogMTAgfSxcbiAgICAgICAgICAgIHsgeDogMjUwLCB5OiA1MCB9LFxuICAgICAgICAgICAgeyB4OiAyNTAsIHk6IDE4MCB9LFxuICAgICAgICAgICAgeyB4OiAxNTAsIHk6IDE4MCB9LFxuICAgICAgICAgICAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICAgICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG4gICAgfVxuICAgIC8qXG4gICAgbWluID0gOTk7XG4gICAgbWF4ID0gOTk5OTk5O1xuICAgIHBvbHlnb25Nb2RlID0gdHJ1ZTtcbiAgICBwb2ludEFycmF5ID0gW107XG4gICAgbGluZUFycmF5ID0gW107XG4gICAgYWN0aXZlTGluZTtcbiAgICBhY3RpdmVTaGFwZSA7XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgY29uc3Qgc3Ryb2tlV2lkdGggPSAyO1xuICBsZXQgb2JqO1xuICBpZiAoIShkYW1hZ2UgaW5zdGFuY2VvZiBNYXJrZXJQb2x5KSkge1xuICBvYmogPSBuZXcgZmFicmljLlJlY3Qoe1xuICBpZDogMSxcbiAgbGVmdDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5jZW50ZXJYICogdGhpcy5zY2FsZSkgKyBzdHJva2VXaWR0aCxcbiAgdG9wOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5jZW50ZXJZICogKHRoaXMuaW1hZ2VIZWlnaHQgKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5jZW50ZXJZICogdGhpcy5zY2FsZSkgKyBzdHJva2VXaWR0aCxcbiAgd2lkdGg6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLndpZHRoICogKHRoaXMuaW1hZ2VXaWR0aCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLndpZHRoICogdGhpcy5zY2FsZSksXG4gIGhlaWdodDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuaGVpZ2h0ICogKHRoaXMuaW1hZ2VIZWlnaHQgKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5oZWlnaHQgKiB0aGlzLnNjYWxlKSxcbiAgc3Ryb2tlV2lkdGgsXG4gIHN0cm9rZVVuaWZvcm06IHRydWUsXG4gIHN0cm9rZURhc2hBcnJheTogdW5kZWZpbmVkLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIGNvcm5lclN0eWxlOiAnY2lyY2xlJyxcblxuICAvLyBBZGQgZGF0YSBvcHRpb24gZm9yIHN0eWxlIHNldHRpbmdzXG4gIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gIHN0cm9rZTogJ3JlZCcsXG4gIHNlbGVjdGFibGU6IHRydWUsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBjb3JuZXJDb2xvcjogJ3JlZCcsXG4gIHRyYW5zcGFyZW50Q29ybmVyczogZmFsc2UsXG4gIGRyYWdnYWJsZTogdHJ1ZSxcbiAgbG9ja1JvdGF0aW9uOiB0cnVlLFxuICBoYXNDb250cm9sczogdHJ1ZSxcblxuICB9KTtcbiAgfVxuICBvYmouc2V0KCdzdHJva2VVbmlmb3JtJywgdHJ1ZSk7XG5cbiAgb2JqLnNldENvbnRyb2xzVmlzaWJpbGl0eSh7IG10cjogZmFsc2UgfSk7XG4gIHRoaXMuY2FudmFzLmFkZChvYmopO1xuXG4gIGNvbnN0IHBvbHkgPSBuZXcgZmFicmljLlBvbHlnb24oW1xuICB7IHg6IDIwMCwgeTogMTAgfSxcbiAgeyB4OiAyNTAsIHk6IDUwIH0sXG4gIHsgeDogMjUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDE4MCB9LFxuICB7IHg6IDE1MCwgeTogNTAgfV0sIHtcbiAgICAgIGZpbGw6ICdncmVlbicsXG4gICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgIH0pO1xuXG4gIHRoaXMuY2FudmFzLmFkZChwb2x5KTtcblxuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6ZG93bicsIChvcHRpb25zKSA9PiB7XG4gIC8vICAgICBpZiAob3B0aW9ucy50YXJnZXQgJiYgb3B0aW9ucy50YXJnZXQuaWQgPT09IHRoaXMucG9pbnRBcnJheVswXS5pZCkge1xuICAvLyAgICAgICAgIHRoaXMuZ2VuZXJhdGVQb2x5Z29uKHRoaXMucG9pbnRBcnJheSk7XG4gIC8vICAgICB9XG4gIC8vICAgICBpZiAodGhpcy5wb2x5Z29uTW9kZSkge1xuICAvLyAgICAgICAgIHRoaXMuYWRkUG9pbnQob3B0aW9ucyk7XG4gIC8vICAgICB9XG4gIC8vIH0pO1xuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6dXAnLCAob3B0aW9ucykgPT4ge1xuICAvL1xuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOm1vdmUnLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKHRoaXMuYWN0aXZlTGluZSAmJiB0aGlzLmFjdGl2ZUxpbmUuY2xhc3MgPT09ICdsaW5lJykge1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKG9wdGlvbnMuZSk7XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVMaW5lLnNldCh7IHgyOiBwb2ludGVyLngsIHkyOiBwb2ludGVyLnkgfSk7XG4gIC8vXG4gIC8vICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5hY3RpdmVTaGFwZS5nZXQoJ3BvaW50cycpO1xuICAvLyAgICAgICAgIHBvaW50c1t0aGlzLnBvaW50QXJyYXkubGVuZ3RoXSA9IHtcbiAgLy8gICAgICAgICAgICAgeDogcG9pbnRlci54LFxuICAvLyAgICAgICAgICAgICB5OiBwb2ludGVyLnksXG4gIC8vICAgICAgICAgfTtcbiAgLy8gICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLnNldCh7XG4gIC8vICAgICAgICAgICAgIHBvaW50cyxcbiAgLy8gICAgICAgICB9KTtcbiAgLy8gICAgICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICAvLyB9KTtcblxuICAvISogICAgICAgIHRoaXMuY2FudmFzLm9uKCdvYmplY3Q6c2NhbGluZycsIChlKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdzY2FsbGluZyAnKTtcbiAgdGhpcy5yZXNldFN0cm9rZVdpZHRoKCk7XG4gIH0pOyAqIS9cbiAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcml2YXRlIGRyYXdQb2x5Z29uKCkge1xuICB0aGlzLnBvbHlnb25Nb2RlID0gdHJ1ZTtcbiAgdGhpcy5wb2ludEFycmF5ID0gW107XG4gIHRoaXMubGluZUFycmF5ID0gW107XG4gIHRoaXMuYWN0aXZlTGluZTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkUG9pbnQob3B0aW9ucykge1xuICBjb25zb2xlLmxvZyhvcHRpb25zKTtcbiAgY29uc3QgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWF4IC0gdGhpcy5taW4gKyAxKSkgKyB0aGlzLm1pbjtcbiAgY29uc3QgaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHJhbmRvbTtcbiAgY29uc3QgcG9zID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICBjb25zdCBjaXJjbGUgPSBuZXcgZmFicmljLkNpcmNsZSh7XG4gIHJhZGl1czogNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSxcbiAgZmlsbDogJyNmZmZmZmYnLFxuICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgc3Ryb2tlV2lkdGg6IDAuNSxcbiAgbGVmdDogcG9zLngsXG4gIHRvcDogcG9zLnksXG4gIHNlbGVjdGFibGU6IGZhbHNlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIGlkLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGlmICh0aGlzLnBvaW50QXJyYXkubGVuZ3RoID09PSAwKSB7XG4gIGNpcmNsZS5zZXQoe1xuICBmaWxsOiAncmVkJyxcbiAgfSk7XG4gIH1cbiAgY29uc3QgcG9pbnRzQSA9IFtwb3MueCwgcG9zLnksIHBvcy54LCBwb3MueV07XG4gIGNvbnN0IGxpbmUgPSBuZXcgZmFicmljLkxpbmUocG9pbnRzQSwge1xuICBzdHJva2VXaWR0aDogMixcbiAgZmlsbDogJyM5OTk5OTknLFxuICBzdHJva2U6ICcjOTk5OTk5JyxcbiAgY2xhc3M6ICdsaW5lJyxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgZXZlbnRlZDogZmFsc2UsXG4gIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICB9KTtcbiAgY29uc29sZS5sb2codGhpcy5hY3RpdmVTaGFwZSk7XG4gIGlmICh0aGlzLmFjdGl2ZVNoYXBlKSB7XG4gICAgICBjb25zdCBwb2ludHNCID0gdGhpcy5hY3RpdmVTaGFwZS5nZXQoJ3BvaW50cycpIGFzIGFueVtdO1xuICAgICAgICAgIHBvaW50c0IucHVzaCh7XG4gICAgICAgICAgICAgIHg6IHBvcy54LFxuICAgICAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwb2x5Z29uQSA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHNCLCB7XG4gICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgfSk7XG4gICAgdGhpcy5jYW52YXMucmVtb3ZlKHRoaXMuYWN0aXZlU2hhcGUpO1xuICAgIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uQSk7XG4gICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb25BO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvbHlQb2ludCA9IFt7IHg6IHBvcy54LCB5OiBwb3MueSB9XTtcbiAgICBjb25zdCBwb2x5Z29uID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvbHlQb2ludCwge1xuICAgICAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgICBmaWxsOiAnI2NjY2NjYycsXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZXZlbnRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlID0gcG9seWdvbjtcbiAgICAgICAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG4gICAgICAgICAgfVxuICB0aGlzLmFjdGl2ZUxpbmUgPSBsaW5lO1xuXG4gIHRoaXMucG9pbnRBcnJheS5wdXNoKGNpcmNsZSk7XG4gIHRoaXMubGluZUFycmF5LnB1c2gobGluZSk7XG5cbiAgdGhpcy5jYW52YXMuYWRkKGxpbmUpO1xuICB0aGlzLmNhbnZhcy5hZGQoY2lyY2xlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVQb2x5Z29uKHBvaW50QXJyYXkpIHtcbiAgY29uc29sZS5sb2cocG9pbnRBcnJheSwgdGhpcy5saW5lQXJyYXkpO1xuICBjb25zdCBwb2ludHMgPSBbXTtcbiAgcG9pbnRBcnJheS5mb3JFYWNoKChwb2ludCkgPT4ge1xuICBwb2ludHMucHVzaCh7XG4gIHg6IHBvaW50LmxlZnQsXG4gIHk6IHBvaW50LnRvcCxcbiAgfSk7XG4gICAgdGhpcy5jYW52YXMucmVtb3ZlKHBvaW50KTtcbiAgfSk7XG4gIHRoaXMubGluZUFycmF5LmZvckVhY2goKGxpbmUpID0+IHtcbiAgdGhpcy5jYW52YXMucmVtb3ZlKGxpbmUpO1xuICB9KTtcbiAgdGhpcy5jYW52YXMucmVtb3ZlKHRoaXMuYWN0aXZlU2hhcGUpLnJlbW92ZSh0aGlzLmFjdGl2ZUxpbmUpO1xuICBjb25zdCBwb2x5Z29uID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvaW50cywge1xuICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgc3Ryb2tlV2lkdGg6IDAuNSxcbiAgb3BhY2l0eTogMC4zLFxuICBmaWxsOiAncmVkJyxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgfSk7XG4gIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uKTtcblxuICB0aGlzLmFjdGl2ZUxpbmUgPSBudWxsO1xuICB0aGlzLmFjdGl2ZVNoYXBlID0gbnVsbDtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZSgpIHtcbiAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgdGhpcy5jYW52YXMuZGlzcG9zZSgpO1xuICB0aGlzLmNhbnZhcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgdGhpcy52aWV3ZXIuZGVzdHJveSgpO1xuICB9Ki9cbn0iXX0=","start":4641,"end":23095}]},"code":"import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n    calculateRatio() {\n        // this.imageWidth = this.viewer.source.dimensions.x;\n        // this.imageHeight = this.viewer.source.dimensions.y;\n        // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    async goHome() {\n        // if (!this.home) this.viewer.viewport.goHome(false);\n        // else this.viewer.viewport.fitBounds(this.home, false);\n        // this.setHome(null, null, null);\n        return this;\n    }\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    addDamage(damage) {\n        const poly = new fabric.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }\n        ], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n        this.canvas.add(poly);\n    }\n}\nAnnotationOSDService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDService, deps: [{ token: Boolean }], target: i0.ɵɵFactoryTarget.Injectable });\nAnnotationOSDService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [Boolean]\n                }] }]; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFjOUMsTUFBTSxPQUFPLG9CQUFvQjtJQVc3QixZQUE2QixRQUFrQixLQUFLO1FBQ2hELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxhQUFhLENBQUMsSUFBZ0IsRUFBRSxFQUFVLEVBQUUsSUFBWTtRQUMzRCxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxhQUFhLENBQUM7Z0JBQ3hCLEVBQUU7Z0JBQ0YsV0FBVyxFQUFFLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUU7Z0JBQ2pFLG9CQUFvQixFQUFFLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBbUM7Z0JBQzdFLG1CQUFtQixFQUFFLEtBQUs7Z0JBQzFCLHFCQUFxQixFQUFFLEtBQUs7Z0JBQzVCLGVBQWUsRUFBRSxLQUFLO2dCQUN0QixZQUFZLEVBQUUsQ0FBQztnQkFDZixnQkFBZ0IsRUFBRSxDQUFDO2dCQUNuQixrQkFBa0IsRUFBRSxJQUFJO2dCQUN4QixTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUs7YUFDeEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxXQUFXLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3RDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsQ0FBQyxDQUFDLENBQUM7WUFDSCxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQzlDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsMkJBQTJCO1lBQy9CLENBQUMsQ0FBQyxDQUFDO1lBR0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtnQkFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN0QixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEIsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLGFBQWEsR0FBaUIsSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFNLEVBQUUsRUFBRTtnQkFDeEMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDLENBQUMsQ0FBQztZQUNILGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtnQkFDakQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsRUFBRTtJQUNGLGdFQUFnRTtJQUNoRSxzSUFBc0k7SUFDdEksdUNBQXVDO0lBQ3ZDLHlDQUF5QztJQUN6QyxzQ0FBc0M7SUFDdEMscUVBQXFFO0lBQ3JFLHdEQUF3RDtJQUN4RCxJQUFJO0lBRUosK0JBQStCO0lBQy9CLHVCQUF1QjtJQUN2Qiw4Q0FBOEM7SUFDOUMscURBQXFEO0lBQ3JELHVEQUF1RDtJQUN2RCwyQ0FBMkM7SUFDM0MsZ0RBQWdEO0lBQ2hELG9DQUFvQztJQUNwQywyREFBMkQ7SUFDM0QsVUFBVTtJQUNWLDZDQUE2QztJQUM3QyxRQUFRO0lBQ1IsTUFBTTtJQUNOLElBQUk7SUFFSSxjQUFjO1FBQ3RCLHFEQUFxRDtRQUNyRCxzREFBc0Q7UUFDdEQsbUVBQW1FO1FBQ25FLG9FQUFvRTtRQUNwRSxxRUFBcUU7UUFDckUsK0VBQStFO0lBQy9FLENBQUM7SUFFTSxLQUFLLENBQUMsTUFBTTtRQUNuQixzREFBc0Q7UUFDdEQseURBQXlEO1FBQ3pELGtDQUFrQztRQUM5QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUksSUFBSSxDQUFDLE1BQWM7YUFDN0IsZUFBZSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDO2FBQ2hDLFlBQVksRUFBRSxDQUFDO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxTQUFTLENBQUMsTUFBOEM7UUFDM0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDO1lBQzVCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1NBQUMsRUFBRTtZQUNwQixJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxHQUFHO1NBQ2YsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUIsQ0FBQzs7aUhBbkhRLG9CQUFvQixrQkFXVCxPQUFPO3FIQVhsQixvQkFBb0IsY0FGakIsTUFBTTsyRkFFVCxvQkFBb0I7a0JBSGhDLFVBQVU7bUJBQUM7b0JBQ1IsVUFBVSxFQUFFLE1BQU07aUJBQ3JCOzswQkFZZ0IsTUFBTTsyQkFBQyxPQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge1xuICAgIE1hcmtlclBvbHksIE1hcmtlclJlY3QsIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5cbi8vIExvYWQgdHlwZSBmb3Igb3BlbnNlYWRyYWdvblxuZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZGVjbGFyZSBsZXQgT3BlblNlYWRyYWdvbjogVHlwZU9wZW5TZWFkcmFnb247XG4vLyBMb2FkIHR5cGUgZm9yIGZhYnJpY1xuZGVjbGFyZSB0eXBlIFR5cGVGYWJyaWMgPSB0eXBlb2YgaW1wb3J0KCdmYWJyaWMvZmFicmljLWltcGwnKTtcbmRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyO1xuICAgIHByb3RlY3RlZCBjYW52YXM6IGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjsgXG4gICAgcHJvdGVjdGVkIGNvbnRhaW5lcldpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGNvbnRhaW5lckhlaWdodDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCB6b29tVG9ab29tTGV2ZWxSYXRpbzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBzY2FsZTogbnVtYmVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVCVUcgOmJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihASW5qZWN0KEJvb2xlYW4pIGRlYnVnIDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuREVCVUcgPSBkZWJ1ZztcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheWVyRmFjdG9yeSh0eXBlOiBQbGF5ZXJUeXBlLCBpZDogc3RyaW5nLCBsaW5rOiBzdHJpbmcpOiBQcm9taXNlPFRoaXNUeXBlPGFueT4+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlciA9IE9wZW5TZWFkcmFnb24oe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VzOiB0eXBlID09PSAnZHppJyA/IGxpbmsgOiB7IHR5cGU6ICdpbWFnZScsIHVybDogbGluayB9LFxuICAgICAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiB7IHBpbmNoUm90YXRlOiBmYWxzZSB9IGFzIE9wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNob3dSb3RhdGlvbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0ZsaXBDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB6b29tUGVyQ2xpY2s6IDEsXG4gICAgICAgICAgICAgICAgaW1hZ2VMb2FkZXJMaW1pdDogMSxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5EdXJpbmdQYW46IHRydWUsXG4gICAgICAgICAgICAgICAgZGVidWdNb2RlOiB0aGlzLkRFQlVHLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0UmVzaXplOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcigncmVzaXplJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3RSZXNpemUubmV4dChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5waXBlKGRlYm91bmNlVGltZSgyMDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ib21lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgLy8gcHVibGljIHNldEhvbWUocG9pbnQ6IFBvaW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIC8vICAgY29uc3QgaG9tZVBvaW50ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhuZXcgT1NELlBvaW50KHRoaXMuaW1hZ2VXaWR0aCAvIDIsIHRoaXMuaW1hZ2VIZWlnaHQgLyAyKSk7XG4gICAgLy8gICBjb25zdCB3ID0gdGhpcy5pbWFnZVdpZHRoIC8gd2lkdGg7XG4gICAgLy8gICBjb25zdCBoID0gdGhpcy5pbWFnZUhlaWdodCAvIGhlaWdodDtcbiAgICAvLyAgIGNvbnN0IHpvb20gPSA0OyAvLyB3ID4gaCA/IGggOiB3O1xuICAgIC8vICAgY29uc29sZS5sb2coaG9tZVBvaW50LCB6b29tLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xuICAgIC8vICAgdGhpcy52aWV3ZXIudmlld3BvcnQuem9vbVRvKDEuMiwgaG9tZVBvaW50LCBmYWxzZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkge1xuICAgIC8vICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgLy8gICAgIGNvbnN0IHcgPSAyOyAvLyBkZXNpcmVkIHdpZHRoIGluIHBpeGVsc1xuICAgIC8vICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHcgLyB0aGlzLmNhbnZhcy5nZXRab29tKCk7XG4gICAgLy8gICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAvLyAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAvLyAgICAgICBpZiAob2JqZWN0LmdldCgncmFkaXVzJykpIHtcbiAgICAvLyAgICAgICAgIG9iamVjdC5zZXQoJ3JhZGl1cycsIDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCkpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICAvLyBjYW4gYWxzbyB1cGRhdGUgb3RoZXIgdGhpbmdzIGhlcmVcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgLy8gdGhpcy5pbWFnZVdpZHRoID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueDtcbiAgICAvLyB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueTtcbiAgICAvLyB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgLy8gdGhpcy5jb250YWluZXJIZWlnaHQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueTtcbiAgICAvLyB0aGlzLnpvb21Ub1pvb21MZXZlbFJhdGlvID0gdGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuaW1hZ2VXaWR0aDtcbiAgICAvLyB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdvSG9tZSgpIHtcbiAgICAvLyBpZiAoIXRoaXMuaG9tZSkgdGhpcy52aWV3ZXIudmlld3BvcnQuZ29Ib21lKGZhbHNlKTtcbiAgICAvLyBlbHNlIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kcyh0aGlzLmhvbWUsIGZhbHNlKTtcbiAgICAvLyB0aGlzLnNldEhvbWUobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWMuUG9seWdvbihbXG4gICAgICAgICAgICB7IHg6IDIwMCwgeTogMTAgfSxcbiAgICAgICAgICAgIHsgeDogMjUwLCB5OiA1MCB9LFxuICAgICAgICAgICAgeyB4OiAyNTAsIHk6IDE4MCB9LFxuICAgICAgICAgICAgeyB4OiAxNTAsIHk6IDE4MCB9LFxuICAgICAgICAgICAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICAgICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG4gICAgfVxuICAgIC8qXG4gICAgbWluID0gOTk7XG4gICAgbWF4ID0gOTk5OTk5O1xuICAgIHBvbHlnb25Nb2RlID0gdHJ1ZTtcbiAgICBwb2ludEFycmF5ID0gW107XG4gICAgbGluZUFycmF5ID0gW107XG4gICAgYWN0aXZlTGluZTtcbiAgICBhY3RpdmVTaGFwZSA7XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgY29uc3Qgc3Ryb2tlV2lkdGggPSAyO1xuICBsZXQgb2JqO1xuICBpZiAoIShkYW1hZ2UgaW5zdGFuY2VvZiBNYXJrZXJQb2x5KSkge1xuICBvYmogPSBuZXcgZmFicmljLlJlY3Qoe1xuICBpZDogMSxcbiAgbGVmdDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5jZW50ZXJYICogdGhpcy5zY2FsZSkgKyBzdHJva2VXaWR0aCxcbiAgdG9wOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5jZW50ZXJZICogKHRoaXMuaW1hZ2VIZWlnaHQgKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5jZW50ZXJZICogdGhpcy5zY2FsZSkgKyBzdHJva2VXaWR0aCxcbiAgd2lkdGg6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLndpZHRoICogKHRoaXMuaW1hZ2VXaWR0aCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLndpZHRoICogdGhpcy5zY2FsZSksXG4gIGhlaWdodDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuaGVpZ2h0ICogKHRoaXMuaW1hZ2VIZWlnaHQgKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5oZWlnaHQgKiB0aGlzLnNjYWxlKSxcbiAgc3Ryb2tlV2lkdGgsXG4gIHN0cm9rZVVuaWZvcm06IHRydWUsXG4gIHN0cm9rZURhc2hBcnJheTogdW5kZWZpbmVkLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIGNvcm5lclN0eWxlOiAnY2lyY2xlJyxcblxuICAvLyBBZGQgZGF0YSBvcHRpb24gZm9yIHN0eWxlIHNldHRpbmdzXG4gIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gIHN0cm9rZTogJ3JlZCcsXG4gIHNlbGVjdGFibGU6IHRydWUsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBjb3JuZXJDb2xvcjogJ3JlZCcsXG4gIHRyYW5zcGFyZW50Q29ybmVyczogZmFsc2UsXG4gIGRyYWdnYWJsZTogdHJ1ZSxcbiAgbG9ja1JvdGF0aW9uOiB0cnVlLFxuICBoYXNDb250cm9sczogdHJ1ZSxcblxuICB9KTtcbiAgfVxuICBvYmouc2V0KCdzdHJva2VVbmlmb3JtJywgdHJ1ZSk7XG5cbiAgb2JqLnNldENvbnRyb2xzVmlzaWJpbGl0eSh7IG10cjogZmFsc2UgfSk7XG4gIHRoaXMuY2FudmFzLmFkZChvYmopO1xuXG4gIGNvbnN0IHBvbHkgPSBuZXcgZmFicmljLlBvbHlnb24oW1xuICB7IHg6IDIwMCwgeTogMTAgfSxcbiAgeyB4OiAyNTAsIHk6IDUwIH0sXG4gIHsgeDogMjUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDE4MCB9LFxuICB7IHg6IDE1MCwgeTogNTAgfV0sIHtcbiAgICAgIGZpbGw6ICdncmVlbicsXG4gICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgIH0pO1xuXG4gIHRoaXMuY2FudmFzLmFkZChwb2x5KTtcblxuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6ZG93bicsIChvcHRpb25zKSA9PiB7XG4gIC8vICAgICBpZiAob3B0aW9ucy50YXJnZXQgJiYgb3B0aW9ucy50YXJnZXQuaWQgPT09IHRoaXMucG9pbnRBcnJheVswXS5pZCkge1xuICAvLyAgICAgICAgIHRoaXMuZ2VuZXJhdGVQb2x5Z29uKHRoaXMucG9pbnRBcnJheSk7XG4gIC8vICAgICB9XG4gIC8vICAgICBpZiAodGhpcy5wb2x5Z29uTW9kZSkge1xuICAvLyAgICAgICAgIHRoaXMuYWRkUG9pbnQob3B0aW9ucyk7XG4gIC8vICAgICB9XG4gIC8vIH0pO1xuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6dXAnLCAob3B0aW9ucykgPT4ge1xuICAvL1xuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOm1vdmUnLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKHRoaXMuYWN0aXZlTGluZSAmJiB0aGlzLmFjdGl2ZUxpbmUuY2xhc3MgPT09ICdsaW5lJykge1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKG9wdGlvbnMuZSk7XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVMaW5lLnNldCh7IHgyOiBwb2ludGVyLngsIHkyOiBwb2ludGVyLnkgfSk7XG4gIC8vXG4gIC8vICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5hY3RpdmVTaGFwZS5nZXQoJ3BvaW50cycpO1xuICAvLyAgICAgICAgIHBvaW50c1t0aGlzLnBvaW50QXJyYXkubGVuZ3RoXSA9IHtcbiAgLy8gICAgICAgICAgICAgeDogcG9pbnRlci54LFxuICAvLyAgICAgICAgICAgICB5OiBwb2ludGVyLnksXG4gIC8vICAgICAgICAgfTtcbiAgLy8gICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLnNldCh7XG4gIC8vICAgICAgICAgICAgIHBvaW50cyxcbiAgLy8gICAgICAgICB9KTtcbiAgLy8gICAgICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICAvLyB9KTtcblxuICAvISogICAgICAgIHRoaXMuY2FudmFzLm9uKCdvYmplY3Q6c2NhbGluZycsIChlKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdzY2FsbGluZyAnKTtcbiAgdGhpcy5yZXNldFN0cm9rZVdpZHRoKCk7XG4gIH0pOyAqIS9cbiAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcml2YXRlIGRyYXdQb2x5Z29uKCkge1xuICB0aGlzLnBvbHlnb25Nb2RlID0gdHJ1ZTtcbiAgdGhpcy5wb2ludEFycmF5ID0gW107XG4gIHRoaXMubGluZUFycmF5ID0gW107XG4gIHRoaXMuYWN0aXZlTGluZTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkUG9pbnQob3B0aW9ucykge1xuICBjb25zb2xlLmxvZyhvcHRpb25zKTtcbiAgY29uc3QgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWF4IC0gdGhpcy5taW4gKyAxKSkgKyB0aGlzLm1pbjtcbiAgY29uc3QgaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHJhbmRvbTtcbiAgY29uc3QgcG9zID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICBjb25zdCBjaXJjbGUgPSBuZXcgZmFicmljLkNpcmNsZSh7XG4gIHJhZGl1czogNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSxcbiAgZmlsbDogJyNmZmZmZmYnLFxuICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgc3Ryb2tlV2lkdGg6IDAuNSxcbiAgbGVmdDogcG9zLngsXG4gIHRvcDogcG9zLnksXG4gIHNlbGVjdGFibGU6IGZhbHNlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIGlkLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGlmICh0aGlzLnBvaW50QXJyYXkubGVuZ3RoID09PSAwKSB7XG4gIGNpcmNsZS5zZXQoe1xuICBmaWxsOiAncmVkJyxcbiAgfSk7XG4gIH1cbiAgY29uc3QgcG9pbnRzQSA9IFtwb3MueCwgcG9zLnksIHBvcy54LCBwb3MueV07XG4gIGNvbnN0IGxpbmUgPSBuZXcgZmFicmljLkxpbmUocG9pbnRzQSwge1xuICBzdHJva2VXaWR0aDogMixcbiAgZmlsbDogJyM5OTk5OTknLFxuICBzdHJva2U6ICcjOTk5OTk5JyxcbiAgY2xhc3M6ICdsaW5lJyxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgZXZlbnRlZDogZmFsc2UsXG4gIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICB9KTtcbiAgY29uc29sZS5sb2codGhpcy5hY3RpdmVTaGFwZSk7XG4gIGlmICh0aGlzLmFjdGl2ZVNoYXBlKSB7XG4gICAgICBjb25zdCBwb2ludHNCID0gdGhpcy5hY3RpdmVTaGFwZS5nZXQoJ3BvaW50cycpIGFzIGFueVtdO1xuICAgICAgICAgIHBvaW50c0IucHVzaCh7XG4gICAgICAgICAgICAgIHg6IHBvcy54LFxuICAgICAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwb2x5Z29uQSA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHNCLCB7XG4gICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgfSk7XG4gICAgdGhpcy5jYW52YXMucmVtb3ZlKHRoaXMuYWN0aXZlU2hhcGUpO1xuICAgIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uQSk7XG4gICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb25BO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvbHlQb2ludCA9IFt7IHg6IHBvcy54LCB5OiBwb3MueSB9XTtcbiAgICBjb25zdCBwb2x5Z29uID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvbHlQb2ludCwge1xuICAgICAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgICBmaWxsOiAnI2NjY2NjYycsXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZXZlbnRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlID0gcG9seWdvbjtcbiAgICAgICAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG4gICAgICAgICAgfVxuICB0aGlzLmFjdGl2ZUxpbmUgPSBsaW5lO1xuXG4gIHRoaXMucG9pbnRBcnJheS5wdXNoKGNpcmNsZSk7XG4gIHRoaXMubGluZUFycmF5LnB1c2gobGluZSk7XG5cbiAgdGhpcy5jYW52YXMuYWRkKGxpbmUpO1xuICB0aGlzLmNhbnZhcy5hZGQoY2lyY2xlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVQb2x5Z29uKHBvaW50QXJyYXkpIHtcbiAgY29uc29sZS5sb2cocG9pbnRBcnJheSwgdGhpcy5saW5lQXJyYXkpO1xuICBjb25zdCBwb2ludHMgPSBbXTtcbiAgcG9pbnRBcnJheS5mb3JFYWNoKChwb2ludCkgPT4ge1xuICBwb2ludHMucHVzaCh7XG4gIHg6IHBvaW50LmxlZnQsXG4gIHk6IHBvaW50LnRvcCxcbiAgfSk7XG4gICAgdGhpcy5jYW52YXMucmVtb3ZlKHBvaW50KTtcbiAgfSk7XG4gIHRoaXMubGluZUFycmF5LmZvckVhY2goKGxpbmUpID0+IHtcbiAgdGhpcy5jYW52YXMucmVtb3ZlKGxpbmUpO1xuICB9KTtcbiAgdGhpcy5jYW52YXMucmVtb3ZlKHRoaXMuYWN0aXZlU2hhcGUpLnJlbW92ZSh0aGlzLmFjdGl2ZUxpbmUpO1xuICBjb25zdCBwb2x5Z29uID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvaW50cywge1xuICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgc3Ryb2tlV2lkdGg6IDAuNSxcbiAgb3BhY2l0eTogMC4zLFxuICBmaWxsOiAncmVkJyxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgfSk7XG4gIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uKTtcblxuICB0aGlzLmFjdGl2ZUxpbmUgPSBudWxsO1xuICB0aGlzLmFjdGl2ZVNoYXBlID0gbnVsbDtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZSgpIHtcbiAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgdGhpcy5jYW52YXMuZGlzcG9zZSgpO1xuICB0aGlzLmNhbnZhcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgdGhpcy52aWV3ZXIuZGVzdHJveSgpO1xuICB9Ki9cbn0iXX0=","customTransformCache":false,"dependencies":["@angular/core","rxjs","rxjs/operators"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n    calculateRatio() {\n        // this.imageWidth = this.viewer.source.dimensions.x;\n        // this.imageHeight = this.viewer.source.dimensions.y;\n        // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    async goHome() {\n        // if (!this.home) this.viewer.viewport.goHome(false);\n        // else this.viewer.viewport.fitBounds(this.home, false);\n        // this.setHome(null, null, null);\n        return this;\n    }\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    addDamage(damage) {\n        const poly = new fabric.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }\n        ], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n        this.canvas.add(poly);\n    }\n}\nAnnotationOSDService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDService, deps: [{ token: Boolean }], target: i0.ɵɵFactoryTarget.Injectable });\nAnnotationOSDService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [Boolean]\n                }] }]; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFjOUMsTUFBTSxPQUFPLG9CQUFvQjtJQVc3QixZQUE2QixRQUFrQixLQUFLO1FBQ2hELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxhQUFhLENBQUMsSUFBZ0IsRUFBRSxFQUFVLEVBQUUsSUFBWTtRQUMzRCxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxhQUFhLENBQUM7Z0JBQ3hCLEVBQUU7Z0JBQ0YsV0FBVyxFQUFFLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUU7Z0JBQ2pFLG9CQUFvQixFQUFFLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBbUM7Z0JBQzdFLG1CQUFtQixFQUFFLEtBQUs7Z0JBQzFCLHFCQUFxQixFQUFFLEtBQUs7Z0JBQzVCLGVBQWUsRUFBRSxLQUFLO2dCQUN0QixZQUFZLEVBQUUsQ0FBQztnQkFDZixnQkFBZ0IsRUFBRSxDQUFDO2dCQUNuQixrQkFBa0IsRUFBRSxJQUFJO2dCQUN4QixTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUs7YUFDeEIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxXQUFXLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3RDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsQ0FBQyxDQUFDLENBQUM7WUFDSCxXQUFXLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQzlDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsMkJBQTJCO1lBQy9CLENBQUMsQ0FBQyxDQUFDO1lBR0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtnQkFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN0QixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEIsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLGFBQWEsR0FBaUIsSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFNLEVBQUUsRUFBRTtnQkFDeEMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixDQUFDLENBQUMsQ0FBQztZQUNILGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtnQkFDakQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0QsRUFBRTtJQUNGLGdFQUFnRTtJQUNoRSxzSUFBc0k7SUFDdEksdUNBQXVDO0lBQ3ZDLHlDQUF5QztJQUN6QyxzQ0FBc0M7SUFDdEMscUVBQXFFO0lBQ3JFLHdEQUF3RDtJQUN4RCxJQUFJO0lBRUosK0JBQStCO0lBQy9CLHVCQUF1QjtJQUN2Qiw4Q0FBOEM7SUFDOUMscURBQXFEO0lBQ3JELHVEQUF1RDtJQUN2RCwyQ0FBMkM7SUFDM0MsZ0RBQWdEO0lBQ2hELG9DQUFvQztJQUNwQywyREFBMkQ7SUFDM0QsVUFBVTtJQUNWLDZDQUE2QztJQUM3QyxRQUFRO0lBQ1IsTUFBTTtJQUNOLElBQUk7SUFFSSxjQUFjO1FBQ3RCLHFEQUFxRDtRQUNyRCxzREFBc0Q7UUFDdEQsbUVBQW1FO1FBQ25FLG9FQUFvRTtRQUNwRSxxRUFBcUU7UUFDckUsK0VBQStFO0lBQy9FLENBQUM7SUFFTSxLQUFLLENBQUMsTUFBTTtRQUNuQixzREFBc0Q7UUFDdEQseURBQXlEO1FBQ3pELGtDQUFrQztRQUM5QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUksSUFBSSxDQUFDLE1BQWM7YUFDN0IsZUFBZSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDO2FBQ2hDLFlBQVksRUFBRSxDQUFDO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxTQUFTLENBQUMsTUFBOEM7UUFDM0QsTUFBTSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDO1lBQzVCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ2xCLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1NBQUMsRUFBRTtZQUNwQixJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxHQUFHO1NBQ2YsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUIsQ0FBQzs7aUhBbkhRLG9CQUFvQixrQkFXVCxPQUFPO3FIQVhsQixvQkFBb0IsY0FGakIsTUFBTTsyRkFFVCxvQkFBb0I7a0JBSGhDLFVBQVU7bUJBQUM7b0JBQ1IsVUFBVSxFQUFFLE1BQU07aUJBQ3JCOzswQkFZZ0IsTUFBTTsyQkFBQyxPQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge1xuICAgIE1hcmtlclBvbHksIE1hcmtlclJlY3QsIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5cbi8vIExvYWQgdHlwZSBmb3Igb3BlbnNlYWRyYWdvblxuZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZGVjbGFyZSBsZXQgT3BlblNlYWRyYWdvbjogVHlwZU9wZW5TZWFkcmFnb247XG4vLyBMb2FkIHR5cGUgZm9yIGZhYnJpY1xuZGVjbGFyZSB0eXBlIFR5cGVGYWJyaWMgPSB0eXBlb2YgaW1wb3J0KCdmYWJyaWMvZmFicmljLWltcGwnKTtcbmRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyO1xuICAgIHByb3RlY3RlZCBjYW52YXM6IGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjsgXG4gICAgcHJvdGVjdGVkIGNvbnRhaW5lcldpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGNvbnRhaW5lckhlaWdodDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCB6b29tVG9ab29tTGV2ZWxSYXRpbzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBzY2FsZTogbnVtYmVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVCVUcgOmJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihASW5qZWN0KEJvb2xlYW4pIGRlYnVnIDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuREVCVUcgPSBkZWJ1ZztcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheWVyRmFjdG9yeSh0eXBlOiBQbGF5ZXJUeXBlLCBpZDogc3RyaW5nLCBsaW5rOiBzdHJpbmcpOiBQcm9taXNlPFRoaXNUeXBlPGFueT4+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlciA9IE9wZW5TZWFkcmFnb24oe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VzOiB0eXBlID09PSAnZHppJyA/IGxpbmsgOiB7IHR5cGU6ICdpbWFnZScsIHVybDogbGluayB9LFxuICAgICAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiB7IHBpbmNoUm90YXRlOiBmYWxzZSB9IGFzIE9wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNob3dSb3RhdGlvbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0ZsaXBDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB6b29tUGVyQ2xpY2s6IDEsXG4gICAgICAgICAgICAgICAgaW1hZ2VMb2FkZXJMaW1pdDogMSxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5EdXJpbmdQYW46IHRydWUsXG4gICAgICAgICAgICAgICAgZGVidWdNb2RlOiB0aGlzLkRFQlVHLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0UmVzaXplOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcigncmVzaXplJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3RSZXNpemUubmV4dChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5waXBlKGRlYm91bmNlVGltZSgyMDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ib21lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgLy8gcHVibGljIHNldEhvbWUocG9pbnQ6IFBvaW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIC8vICAgY29uc3QgaG9tZVBvaW50ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhuZXcgT1NELlBvaW50KHRoaXMuaW1hZ2VXaWR0aCAvIDIsIHRoaXMuaW1hZ2VIZWlnaHQgLyAyKSk7XG4gICAgLy8gICBjb25zdCB3ID0gdGhpcy5pbWFnZVdpZHRoIC8gd2lkdGg7XG4gICAgLy8gICBjb25zdCBoID0gdGhpcy5pbWFnZUhlaWdodCAvIGhlaWdodDtcbiAgICAvLyAgIGNvbnN0IHpvb20gPSA0OyAvLyB3ID4gaCA/IGggOiB3O1xuICAgIC8vICAgY29uc29sZS5sb2coaG9tZVBvaW50LCB6b29tLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xuICAgIC8vICAgdGhpcy52aWV3ZXIudmlld3BvcnQuem9vbVRvKDEuMiwgaG9tZVBvaW50LCBmYWxzZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkge1xuICAgIC8vICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgLy8gICAgIGNvbnN0IHcgPSAyOyAvLyBkZXNpcmVkIHdpZHRoIGluIHBpeGVsc1xuICAgIC8vICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHcgLyB0aGlzLmNhbnZhcy5nZXRab29tKCk7XG4gICAgLy8gICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAvLyAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAvLyAgICAgICBpZiAob2JqZWN0LmdldCgncmFkaXVzJykpIHtcbiAgICAvLyAgICAgICAgIG9iamVjdC5zZXQoJ3JhZGl1cycsIDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCkpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICAvLyBjYW4gYWxzbyB1cGRhdGUgb3RoZXIgdGhpbmdzIGhlcmVcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgLy8gdGhpcy5pbWFnZVdpZHRoID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueDtcbiAgICAvLyB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueTtcbiAgICAvLyB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgLy8gdGhpcy5jb250YWluZXJIZWlnaHQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueTtcbiAgICAvLyB0aGlzLnpvb21Ub1pvb21MZXZlbFJhdGlvID0gdGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuaW1hZ2VXaWR0aDtcbiAgICAvLyB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdvSG9tZSgpIHtcbiAgICAvLyBpZiAoIXRoaXMuaG9tZSkgdGhpcy52aWV3ZXIudmlld3BvcnQuZ29Ib21lKGZhbHNlKTtcbiAgICAvLyBlbHNlIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kcyh0aGlzLmhvbWUsIGZhbHNlKTtcbiAgICAvLyB0aGlzLnNldEhvbWUobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWMuUG9seWdvbihbXG4gICAgICAgICAgICB7IHg6IDIwMCwgeTogMTAgfSxcbiAgICAgICAgICAgIHsgeDogMjUwLCB5OiA1MCB9LFxuICAgICAgICAgICAgeyB4OiAyNTAsIHk6IDE4MCB9LFxuICAgICAgICAgICAgeyB4OiAxNTAsIHk6IDE4MCB9LFxuICAgICAgICAgICAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICAgICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG4gICAgfVxuICAgIC8qXG4gICAgbWluID0gOTk7XG4gICAgbWF4ID0gOTk5OTk5O1xuICAgIHBvbHlnb25Nb2RlID0gdHJ1ZTtcbiAgICBwb2ludEFycmF5ID0gW107XG4gICAgbGluZUFycmF5ID0gW107XG4gICAgYWN0aXZlTGluZTtcbiAgICBhY3RpdmVTaGFwZSA7XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgY29uc3Qgc3Ryb2tlV2lkdGggPSAyO1xuICBsZXQgb2JqO1xuICBpZiAoIShkYW1hZ2UgaW5zdGFuY2VvZiBNYXJrZXJQb2x5KSkge1xuICBvYmogPSBuZXcgZmFicmljLlJlY3Qoe1xuICBpZDogMSxcbiAgbGVmdDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5jZW50ZXJYICogdGhpcy5zY2FsZSkgKyBzdHJva2VXaWR0aCxcbiAgdG9wOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5jZW50ZXJZICogKHRoaXMuaW1hZ2VIZWlnaHQgKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5jZW50ZXJZICogdGhpcy5zY2FsZSkgKyBzdHJva2VXaWR0aCxcbiAgd2lkdGg6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLndpZHRoICogKHRoaXMuaW1hZ2VXaWR0aCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLndpZHRoICogdGhpcy5zY2FsZSksXG4gIGhlaWdodDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuaGVpZ2h0ICogKHRoaXMuaW1hZ2VIZWlnaHQgKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS5oZWlnaHQgKiB0aGlzLnNjYWxlKSxcbiAgc3Ryb2tlV2lkdGgsXG4gIHN0cm9rZVVuaWZvcm06IHRydWUsXG4gIHN0cm9rZURhc2hBcnJheTogdW5kZWZpbmVkLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIGNvcm5lclN0eWxlOiAnY2lyY2xlJyxcblxuICAvLyBBZGQgZGF0YSBvcHRpb24gZm9yIHN0eWxlIHNldHRpbmdzXG4gIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gIHN0cm9rZTogJ3JlZCcsXG4gIHNlbGVjdGFibGU6IHRydWUsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBjb3JuZXJDb2xvcjogJ3JlZCcsXG4gIHRyYW5zcGFyZW50Q29ybmVyczogZmFsc2UsXG4gIGRyYWdnYWJsZTogdHJ1ZSxcbiAgbG9ja1JvdGF0aW9uOiB0cnVlLFxuICBoYXNDb250cm9sczogdHJ1ZSxcblxuICB9KTtcbiAgfVxuICBvYmouc2V0KCdzdHJva2VVbmlmb3JtJywgdHJ1ZSk7XG5cbiAgb2JqLnNldENvbnRyb2xzVmlzaWJpbGl0eSh7IG10cjogZmFsc2UgfSk7XG4gIHRoaXMuY2FudmFzLmFkZChvYmopO1xuXG4gIGNvbnN0IHBvbHkgPSBuZXcgZmFicmljLlBvbHlnb24oW1xuICB7IHg6IDIwMCwgeTogMTAgfSxcbiAgeyB4OiAyNTAsIHk6IDUwIH0sXG4gIHsgeDogMjUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDE4MCB9LFxuICB7IHg6IDE1MCwgeTogNTAgfV0sIHtcbiAgICAgIGZpbGw6ICdncmVlbicsXG4gICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgIH0pO1xuXG4gIHRoaXMuY2FudmFzLmFkZChwb2x5KTtcblxuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6ZG93bicsIChvcHRpb25zKSA9PiB7XG4gIC8vICAgICBpZiAob3B0aW9ucy50YXJnZXQgJiYgb3B0aW9ucy50YXJnZXQuaWQgPT09IHRoaXMucG9pbnRBcnJheVswXS5pZCkge1xuICAvLyAgICAgICAgIHRoaXMuZ2VuZXJhdGVQb2x5Z29uKHRoaXMucG9pbnRBcnJheSk7XG4gIC8vICAgICB9XG4gIC8vICAgICBpZiAodGhpcy5wb2x5Z29uTW9kZSkge1xuICAvLyAgICAgICAgIHRoaXMuYWRkUG9pbnQob3B0aW9ucyk7XG4gIC8vICAgICB9XG4gIC8vIH0pO1xuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6dXAnLCAob3B0aW9ucykgPT4ge1xuICAvL1xuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOm1vdmUnLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKHRoaXMuYWN0aXZlTGluZSAmJiB0aGlzLmFjdGl2ZUxpbmUuY2xhc3MgPT09ICdsaW5lJykge1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKG9wdGlvbnMuZSk7XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVMaW5lLnNldCh7IHgyOiBwb2ludGVyLngsIHkyOiBwb2ludGVyLnkgfSk7XG4gIC8vXG4gIC8vICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5hY3RpdmVTaGFwZS5nZXQoJ3BvaW50cycpO1xuICAvLyAgICAgICAgIHBvaW50c1t0aGlzLnBvaW50QXJyYXkubGVuZ3RoXSA9IHtcbiAgLy8gICAgICAgICAgICAgeDogcG9pbnRlci54LFxuICAvLyAgICAgICAgICAgICB5OiBwb2ludGVyLnksXG4gIC8vICAgICAgICAgfTtcbiAgLy8gICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlLnNldCh7XG4gIC8vICAgICAgICAgICAgIHBvaW50cyxcbiAgLy8gICAgICAgICB9KTtcbiAgLy8gICAgICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICAvLyB9KTtcblxuICAvISogICAgICAgIHRoaXMuY2FudmFzLm9uKCdvYmplY3Q6c2NhbGluZycsIChlKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdzY2FsbGluZyAnKTtcbiAgdGhpcy5yZXNldFN0cm9rZVdpZHRoKCk7XG4gIH0pOyAqIS9cbiAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcml2YXRlIGRyYXdQb2x5Z29uKCkge1xuICB0aGlzLnBvbHlnb25Nb2RlID0gdHJ1ZTtcbiAgdGhpcy5wb2ludEFycmF5ID0gW107XG4gIHRoaXMubGluZUFycmF5ID0gW107XG4gIHRoaXMuYWN0aXZlTGluZTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkUG9pbnQob3B0aW9ucykge1xuICBjb25zb2xlLmxvZyhvcHRpb25zKTtcbiAgY29uc3QgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWF4IC0gdGhpcy5taW4gKyAxKSkgKyB0aGlzLm1pbjtcbiAgY29uc3QgaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHJhbmRvbTtcbiAgY29uc3QgcG9zID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICBjb25zdCBjaXJjbGUgPSBuZXcgZmFicmljLkNpcmNsZSh7XG4gIHJhZGl1czogNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSxcbiAgZmlsbDogJyNmZmZmZmYnLFxuICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgc3Ryb2tlV2lkdGg6IDAuNSxcbiAgbGVmdDogcG9zLngsXG4gIHRvcDogcG9zLnksXG4gIHNlbGVjdGFibGU6IGZhbHNlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIGlkLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGlmICh0aGlzLnBvaW50QXJyYXkubGVuZ3RoID09PSAwKSB7XG4gIGNpcmNsZS5zZXQoe1xuICBmaWxsOiAncmVkJyxcbiAgfSk7XG4gIH1cbiAgY29uc3QgcG9pbnRzQSA9IFtwb3MueCwgcG9zLnksIHBvcy54LCBwb3MueV07XG4gIGNvbnN0IGxpbmUgPSBuZXcgZmFicmljLkxpbmUocG9pbnRzQSwge1xuICBzdHJva2VXaWR0aDogMixcbiAgZmlsbDogJyM5OTk5OTknLFxuICBzdHJva2U6ICcjOTk5OTk5JyxcbiAgY2xhc3M6ICdsaW5lJyxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgZXZlbnRlZDogZmFsc2UsXG4gIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICB9KTtcbiAgY29uc29sZS5sb2codGhpcy5hY3RpdmVTaGFwZSk7XG4gIGlmICh0aGlzLmFjdGl2ZVNoYXBlKSB7XG4gICAgICBjb25zdCBwb2ludHNCID0gdGhpcy5hY3RpdmVTaGFwZS5nZXQoJ3BvaW50cycpIGFzIGFueVtdO1xuICAgICAgICAgIHBvaW50c0IucHVzaCh7XG4gICAgICAgICAgICAgIHg6IHBvcy54LFxuICAgICAgICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBwb2x5Z29uQSA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHNCLCB7XG4gICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgfSk7XG4gICAgdGhpcy5jYW52YXMucmVtb3ZlKHRoaXMuYWN0aXZlU2hhcGUpO1xuICAgIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uQSk7XG4gICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb25BO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBvbHlQb2ludCA9IFt7IHg6IHBvcy54LCB5OiBwb3MueSB9XTtcbiAgICBjb25zdCBwb2x5Z29uID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvbHlQb2ludCwge1xuICAgICAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgICBmaWxsOiAnI2NjY2NjYycsXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZXZlbnRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZVNoYXBlID0gcG9seWdvbjtcbiAgICAgICAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG4gICAgICAgICAgfVxuICB0aGlzLmFjdGl2ZUxpbmUgPSBsaW5lO1xuXG4gIHRoaXMucG9pbnRBcnJheS5wdXNoKGNpcmNsZSk7XG4gIHRoaXMubGluZUFycmF5LnB1c2gobGluZSk7XG5cbiAgdGhpcy5jYW52YXMuYWRkKGxpbmUpO1xuICB0aGlzLmNhbnZhcy5hZGQoY2lyY2xlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVQb2x5Z29uKHBvaW50QXJyYXkpIHtcbiAgY29uc29sZS5sb2cocG9pbnRBcnJheSwgdGhpcy5saW5lQXJyYXkpO1xuICBjb25zdCBwb2ludHMgPSBbXTtcbiAgcG9pbnRBcnJheS5mb3JFYWNoKChwb2ludCkgPT4ge1xuICBwb2ludHMucHVzaCh7XG4gIHg6IHBvaW50LmxlZnQsXG4gIHk6IHBvaW50LnRvcCxcbiAgfSk7XG4gICAgdGhpcy5jYW52YXMucmVtb3ZlKHBvaW50KTtcbiAgfSk7XG4gIHRoaXMubGluZUFycmF5LmZvckVhY2goKGxpbmUpID0+IHtcbiAgdGhpcy5jYW52YXMucmVtb3ZlKGxpbmUpO1xuICB9KTtcbiAgdGhpcy5jYW52YXMucmVtb3ZlKHRoaXMuYWN0aXZlU2hhcGUpLnJlbW92ZSh0aGlzLmFjdGl2ZUxpbmUpO1xuICBjb25zdCBwb2x5Z29uID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvaW50cywge1xuICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgc3Ryb2tlV2lkdGg6IDAuNSxcbiAgb3BhY2l0eTogMC4zLFxuICBmaWxsOiAncmVkJyxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgfSk7XG4gIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uKTtcblxuICB0aGlzLmFjdGl2ZUxpbmUgPSBudWxsO1xuICB0aGlzLmFjdGl2ZVNoYXBlID0gbnVsbDtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZSgpIHtcbiAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgdGhpcy5jYW52YXMuZGlzcG9zZSgpO1xuICB0aGlzLmNhbnZhcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgdGhpcy52aWV3ZXIuZGVzdHJveSgpO1xuICB9Ki9cbn0iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.service.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[15,0,0,15],[17,0,0,17],[27,0,0,27],[29,0,0,29],[35,0,0,35],[50,0,0,50],[51,0,0,51]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[16,0,1,16],[18,0,1,18],[24,0,1,24],[30,0,1,30],[31,0,1,31]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,23],[29,0,2,29],[45,0,2,45],[46,0,2,46]],[],[[0,0,16,0],[6,0,16,6],[13,0,16,13],[33,0,16,33]],[[4,0,27,4],[16,0,27,33],[24,0,27,51],[29,0,27,56]],[[8,0,28,8],[12,0,28,12],[13,0,28,13],[18,0,28,18],[21,0,28,21],[26,0,28,26],[27,0,28,27]],[[4,0,29,4],[5,0,29,5]],[[4,0,31,11],[17,0,31,24],[18,0,31,25],[22,0,31,41],[24,0,31,43],[26,0,31,53],[28,0,31,55],[32,0,31,67]],[[8,0,32,8],[15,0,32,15],[19,0,32,19],[26,0,32,26],[27,0,32,27],[28,0,32,28],[35,0,32,35],[37,0,32,37],[39,0,32,39]],[[12,0,33,12],[16,0,33,16],[17,0,33,17],[23,0,33,23],[26,0,33,26],[39,0,33,39],[40,0,33,40]],[[16,0,34,16],[18,0,34,18]],[[16,0,35,16],[27,0,35,27],[29,0,35,29],[33,0,35,33],[38,0,35,38],[43,0,35,43],[44,0,35,44],[45,0,35,45],[46,0,35,46],[50,0,35,50],[51,0,35,51],[52,0,35,52],[53,0,35,53],[55,0,35,55],[59,0,35,59],[61,0,35,61],[68,0,35,68],[70,0,35,70],[73,0,35,73],[75,0,35,75],[79,0,35,79],[81,0,35,81]],[[16,0,36,16],[36,0,36,36],[38,0,36,38],[40,0,36,40],[51,0,36,51],[53,0,36,53],[58,0,36,58],[60,0,36,93]],[[16,0,37,16],[35,0,37,35],[37,0,37,37],[42,0,37,42]],[[16,0,38,16],[37,0,38,37],[39,0,38,39],[44,0,38,44]],[[16,0,39,16],[31,0,39,31],[33,0,39,33],[38,0,39,38]],[[16,0,40,16],[28,0,40,28],[30,0,40,30],[31,0,40,31]],[[16,0,41,16],[32,0,41,32],[34,0,41,34],[35,0,41,35]],[[16,0,42,16],[34,0,42,34],[36,0,42,36],[40,0,42,40]],[[16,0,43,16],[25,0,43,25],[27,0,43,27],[31,0,43,31],[32,0,43,32],[37,0,43,37]],[[13,0,44,13],[14,0,44,14],[15,0,44,15]],[[12,0,46,12],[18,0,46,18],[29,0,46,29],[32,0,46,46],[36,0,46,50],[43,0,46,57],[45,0,46,59],[46,0,46,60]],[[12,0,47,12],[16,0,47,16],[17,0,47,17],[23,0,47,23],[24,0,47,24],[34,0,47,34],[35,0,47,35],[41,0,47,41],[43,0,47,43],[44,0,47,44],[45,0,47,50],[47,0,47,52],[49,0,47,54]],[[16,0,48,16],[27,0,48,27],[28,0,48,28],[32,0,48,32],[33,0,48,33],[34,0,48,34],[35,0,48,35],[36,0,48,36]],[[12,0,49,12],[13,0,49,13],[14,0,49,14],[15,0,49,15]],[[12,0,50,12],[23,0,50,23],[24,0,50,24],[28,0,50,28],[29,0,50,29],[41,0,50,41],[42,0,50,42],[44,0,50,44],[45,0,50,45],[46,0,50,46],[47,0,50,47],[56,0,50,56],[57,0,50,57],[60,0,50,60],[62,0,50,62]],[[16,0,51,16],[20,0,51,20],[21,0,51,21],[35,0,51,35],[37,0,51,37],[38,0,51,38]],[[16,0,52,16],[43,0,52,43]],[[12,0,53,12],[13,0,53,13],[14,0,53,14],[15,0,53,15]],[[12,0,56,12],[16,0,56,16],[17,0,56,17],[23,0,56,23],[24,0,56,24],[38,0,56,38],[39,0,56,39],[45,0,56,45],[47,0,56,47],[50,0,56,50],[52,0,56,52]],[[16,0,57,16],[23,0,57,23],[24,0,57,24],[27,0,57,27],[28,0,57,28],[34,0,57,34],[35,0,57,35],[36,0,57,36]],[[16,0,58,16],[20,0,58,20],[21,0,58,21],[35,0,58,35],[37,0,58,37],[38,0,58,38]],[[16,0,59,16],[23,0,59,23],[24,0,59,24],[28,0,59,28],[29,0,59,29],[30,0,59,30]],[[12,0,60,12],[13,0,60,13],[14,0,60,14],[15,0,60,15]],[[12,0,62,12],[18,0,62,18],[31,0,62,31],[34,0,62,48],[38,0,62,52],[45,0,62,59],[47,0,62,61],[48,0,62,62]],[[12,0,63,12],[16,0,63,16],[17,0,63,17],[23,0,63,23],[24,0,63,24],[34,0,63,34],[35,0,63,35],[43,0,63,43],[45,0,63,45],[46,0,63,46],[47,0,63,52],[49,0,63,54],[51,0,63,56]],[[16,0,64,16],[29,0,64,29],[30,0,64,30],[34,0,64,34],[35,0,64,35],[36,0,64,36],[37,0,64,37],[38,0,64,38]],[[12,0,65,12],[13,0,65,13],[14,0,65,14],[15,0,65,15]],[[12,0,66,12],[25,0,66,25],[26,0,66,26],[30,0,66,30],[31,0,66,31],[43,0,66,43],[44,0,66,44],[47,0,66,47],[48,0,66,48],[49,0,66,49],[50,0,66,50],[59,0,66,59],[60,0,66,60],[63,0,66,63],[65,0,66,65]],[[16,0,67,16],[20,0,67,20],[21,0,67,21],[27,0,67,27],[29,0,67,29],[30,0,67,30]],[[12,0,68,12],[13,0,68,13],[14,0,68,14],[15,0,68,15]],[[8,0,69,8],[9,0,69,9],[10,0,69,10],[11,0,69,11]],[[4,0,70,4],[5,0,70,5]],[[4,0,71,4],[6,0,71,6]],[[4,0,72,4],[68,0,72,68]],[[4,0,73,4],[138,0,73,138]],[[4,0,74,4],[43,0,74,43]],[[4,0,75,4],[45,0,75,45]],[[4,0,76,4],[42,0,76,42]],[[4,0,77,4],[73,0,77,73]],[[4,0,78,4],[60,0,78,60]],[[4,0,79,4],[8,0,79,8]],[[4,0,81,4],[35,0,81,35]],[[4,0,82,4],[27,0,82,27]],[[4,0,83,4],[50,0,83,50]],[[4,0,84,4],[57,0,84,57]],[[4,0,85,4],[59,0,85,59]],[[4,0,86,4],[47,0,86,47]],[[4,0,87,4],[52,0,87,52]],[[4,0,88,4],[40,0,88,40]],[[4,0,89,4],[63,0,89,63]],[[4,0,90,4],[14,0,90,14]],[[4,0,91,4],[49,0,91,49]],[[4,0,92,4],[12,0,92,12]],[[4,0,93,4],[10,0,93,10]],[[4,0,94,4],[8,0,94,8]],[[4,0,96,12],[18,0,96,26]],[[8,0,97,4],[61,0,97,57]],[[8,0,98,4],[62,0,98,58]],[[8,0,99,4],[75,0,99,71]],[[8,0,100,4],[76,0,100,72]],[[8,0,101,4],[77,0,101,73]],[[8,0,102,4],[87,0,102,83]],[[4,0,103,4],[5,0,103,5]],[[4,0,105,11],[9,0,105,16],[10,0,105,17],[16,0,105,23]],[[8,0,106,4],[62,0,106,58]],[[8,0,107,4],[65,0,107,61]],[[8,0,108,4],[42,0,108,38]],[[8,0,109,8],[15,0,109,15],[19,0,109,19],[20,0,109,20]],[[4,0,110,4],[5,0,110,5]],[[4,0,112,11],[13,0,112,20]],[[8,0,113,8],[12,0,113,12],[13,0,113,13],[19,0,113,19],[22,0,113,23],[26,0,113,27],[27,0,113,28],[33,0,113,42]],[[13,0,114,13],[28,0,114,28],[29,0,114,29],[31,0,114,31],[36,0,114,36],[38,0,114,38],[42,0,114,42],[44,0,114,44],[45,0,114,45]],[[13,0,115,13],[25,0,115,25],[27,0,115,27],[28,0,115,28]],[[8,0,116,8],[15,0,116,15],[19,0,116,19],[20,0,116,20]],[[4,0,117,4],[5,0,117,5]],[[4,0,119,11],[13,0,119,20],[14,0,119,21],[20,0,119,67]],[[8,0,120,8],[14,0,120,14],[18,0,120,18],[21,0,120,21],[25,0,120,25],[31,0,120,31],[32,0,120,32],[39,0,120,39],[40,0,120,40]],[[12,0,121,12],[14,0,121,14],[15,0,121,15],[17,0,121,17],[20,0,121,20],[22,0,121,22],[23,0,121,23],[25,0,121,25],[27,0,121,27],[29,0,121,29]],[[12,0,122,12],[14,0,122,14],[15,0,122,15],[17,0,122,17],[20,0,122,20],[22,0,122,22],[23,0,122,23],[25,0,122,25],[27,0,122,27],[29,0,122,29]],[[12,0,123,12],[14,0,123,14],[15,0,123,15],[17,0,123,17],[20,0,123,20],[22,0,123,22],[23,0,123,23],[25,0,123,25],[28,0,123,28],[30,0,123,30]],[[12,0,124,12],[14,0,124,14],[15,0,124,15],[17,0,124,17],[20,0,124,20],[22,0,124,22],[23,0,124,23],[25,0,124,25],[28,0,124,28],[30,0,124,30]],[[12,0,125,12],[14,0,125,14],[15,0,125,15],[17,0,125,17],[20,0,125,20],[22,0,125,22],[23,0,125,23],[25,0,125,25],[27,0,125,27],[29,0,125,29]],[[9,0,125,30],[11,0,125,32]],[[12,0,126,12],[16,0,126,16],[18,0,126,18],[25,0,126,25]],[[12,0,127,12],[19,0,127,19],[21,0,127,21],[24,0,127,24]],[[9,0,128,9],[10,0,128,10],[11,0,128,11]],[[8,0,130,8],[12,0,130,12],[13,0,130,13],[19,0,130,19],[20,0,130,20],[23,0,130,23],[24,0,130,24],[28,0,130,28],[29,0,130,29],[30,0,130,30]],[[4,0,131,4],[5,0,131,5]],[],[[113,0,16,13],[133,0,16,33],[151,0,27,24],[158,0,27,31]],[[117,0,16,13],[137,0,16,33],[151,0,14,16],[157,0,14,22]],[[91,0,16,13],[111,0,16,33]],[[18,0,13,1],[28,0,13,11]],[[19,0,13,12]],[[20,0,14,4],[30,0,14,14],[32,0,14,16],[38,0,14,22]],[[17,0,15,1]],[],[[26,0,27,17],[32,0,27,23]],[[27,0,27,24],[34,0,27,31]]],"sourcesContent":["import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport {\n    MarkerPoly, MarkerRect, MarkerRound, PlayerType } from './annotation-osd.model';\n\n// Load type for openseadragon\ndeclare type TypeOpenSeadragon = typeof import('openseadragon');\ndeclare let OpenSeadragon: TypeOpenSeadragon;\n// Load type for fabric\ndeclare type TypeFabric = typeof import('fabric/fabric-impl');\ndeclare let fabric: TypeFabric;\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AnnotationOSDService {\n    protected viewer: OpenSeadragon.Viewer;\n    protected canvas: fabric.Canvas;\n    protected imageWidth: number;\n    protected imageHeight: number; \n    protected containerWidth: number;\n    protected containerHeight: number;\n    protected zoomToZoomLevelRatio: number;\n    protected scale: number;\n    private readonly DEBUG :boolean;\n\n    constructor(@Inject(Boolean) debug : boolean = false) {\n        this.DEBUG = debug;\n    }\n\n    public playerFactory(type: PlayerType, id: string, link: string): Promise<ThisType<any>> {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false } as OpenSeadragon.GestureSettings,\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n\n            const subjectZoom: Subject<any> = new Subject();\n            this.viewer.addHandler('zoom', (e: any) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n\n\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n\n            const subjectResize: Subject<any> = new Subject();\n            this.viewer.addHandler('resize', (e: any) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n\n    private calculateRatio() {\n    // this.imageWidth = this.viewer.source.dimensions.x;\n    // this.imageHeight = this.viewer.source.dimensions.y;\n    // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n    // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n    // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n    // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n\n    public async goHome() {\n    // if (!this.home) this.viewer.viewport.goHome(false);\n    // else this.viewer.viewport.fitBounds(this.home, false);\n    // this.setHome(null, null, null);\n        return this;\n    }\n\n    public addCanvas() {\n        this.canvas = (this.viewer as any)\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n        const poly = new fabric.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n\n        this.canvas.add(poly);\n    }\n    /*\n    min = 99;\n    max = 999999;\n    polygonMode = true;\n    pointArray = [];\n    lineArray = [];\n    activeLine;\n    activeShape ;\n\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n  const strokeWidth = 2;\n  let obj;\n  if (!(damage instanceof MarkerPoly)) {\n  obj = new fabric.Rect({\n  id: 1,\n  left: (damage.unit === 'percent' ? damage.centerX * (this.imageWidth * this.scale)\n  : damage.centerX * this.scale) + strokeWidth,\n  top: (damage.unit === 'percent' ? damage.centerY * (this.imageHeight * this.scale)\n  : damage.centerY * this.scale) + strokeWidth,\n  width: (damage.unit === 'percent' ? damage.width * (this.imageWidth * this.scale)\n  : damage.width * this.scale),\n  height: (damage.unit === 'percent' ? damage.height * (this.imageHeight * this.scale)\n  : damage.height * this.scale),\n  strokeWidth,\n  strokeUniform: true,\n  strokeDashArray: undefined,\n  originX: 'center',\n  originY: 'center',\n  cornerStyle: 'circle',\n\n  // Add data option for style settings\n  fill: 'transparent',\n  stroke: 'red',\n  selectable: true,\n  hasBorders: false,\n  cornerColor: 'red',\n  transparentCorners: false,\n  draggable: true,\n  lockRotation: true,\n  hasControls: true,\n\n  });\n  }\n  obj.set('strokeUniform', true);\n\n  obj.setControlsVisibility({ mtr: false });\n  this.canvas.add(obj);\n\n  const poly = new fabric.Polygon([\n  { x: 200, y: 10 },\n  { x: 250, y: 50 },\n  { x: 250, y: 180 },\n  { x: 150, y: 180 },\n  { x: 150, y: 50 }], {\n      fill: 'green',\n          opacity: 0.3,\n          });\n\n  this.canvas.add(poly);\n\n  // this.canvas.on('mouse:down', (options) => {\n  //     if (options.target && options.target.id === this.pointArray[0].id) {\n  //         this.generatePolygon(this.pointArray);\n  //     }\n  //     if (this.polygonMode) {\n  //         this.addPoint(options);\n  //     }\n  // });\n  // this.canvas.on('mouse:up', (options) => {\n  //\n  // });\n  // this.canvas.on('mouse:move', (options) => {\n  //     if (this.activeLine && this.activeLine.class === 'line') {\n  //         const pointer = this.canvas.getPointer(options.e);\n  //         this.activeLine.set({ x2: pointer.x, y2: pointer.y });\n  //\n  //         const points = this.activeShape.get('points');\n  //         points[this.pointArray.length] = {\n  //             x: pointer.x,\n  //             y: pointer.y,\n  //         };\n  //         this.activeShape.set({\n  //             points,\n  //         });\n  //         this.canvas.renderAll();\n  //     }\n  //     this.canvas.renderAll();\n  // });\n\n  /!*        this.canvas.on('object:scaling', (e) => {\n  console.log('scalling ');\n  this.resetStrokeWidth();\n  }); *!/\n  return this;\n  }\n\n  private drawPolygon() {\n  this.polygonMode = true;\n  this.pointArray = [];\n  this.lineArray = [];\n  this.activeLine;\n  }\n\n  private addPoint(options) {\n  console.log(options);\n  const random = Math.floor(Math.random() * (this.max - this.min + 1)) + this.min;\n  const id = new Date().getTime() + random;\n  const pos = this.canvas.getPointer(options.e);\n  const circle = new fabric.Circle({\n  radius: 5 / this.canvas.getZoom(),\n  fill: '#ffffff',\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  left: pos.x,\n  top: pos.y,\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  originX: 'center',\n  originY: 'center',\n  id,\n  objectCaching: false,\n  });\n  if (this.pointArray.length === 0) {\n  circle.set({\n  fill: 'red',\n  });\n  }\n  const pointsA = [pos.x, pos.y, pos.x, pos.y];\n  const line = new fabric.Line(pointsA, {\n  strokeWidth: 2,\n  fill: '#999999',\n  stroke: '#999999',\n  class: 'line',\n  originX: 'center',\n  originY: 'center',\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  evented: false,\n  objectCaching: false,\n  });\n  console.log(this.activeShape);\n  if (this.activeShape) {\n      const pointsB = this.activeShape.get('points') as any[];\n          pointsB.push({\n              x: pos.x,\n              y: pos.y,\n          });\n          const polygonA = new fabric.Polygon(pointsB, {\n      stroke: '#333333',\n      strokeWidth: 1,\n      fill: '#cccccc',\n      opacity: 0.3,\n      selectable: false,\n      hasBorders: false,\n      hasControls: false,\n      evented: false,\n      objectCaching: false,\n    });\n    this.canvas.remove(this.activeShape);\n    this.canvas.add(polygonA);\n    this.activeShape = polygonA;\n    this.canvas.renderAll();\n  } else {\n    const polyPoint = [{ x: pos.x, y: pos.y }];\n    const polygon = new fabric.Polygon(polyPoint, {\n          stroke: '#333333',\n                  strokeWidth: 1,\n                  fill: '#cccccc',\n                  opacity: 0.3,\n                  selectable: false,\n                  hasBorders: false,\n                  hasControls: false,\n                  evented: false,\n                  objectCaching: false,\n          });\n          this.activeShape = polygon;\n          this.canvas.add(polygon);\n          }\n  this.activeLine = line;\n\n  this.pointArray.push(circle);\n  this.lineArray.push(line);\n\n  this.canvas.add(line);\n  this.canvas.add(circle);\n  }\n\n  private generatePolygon(pointArray) {\n  console.log(pointArray, this.lineArray);\n  const points = [];\n  pointArray.forEach((point) => {\n  points.push({\n  x: point.left,\n  y: point.top,\n  });\n    this.canvas.remove(point);\n  });\n  this.lineArray.forEach((line) => {\n  this.canvas.remove(line);\n  });\n  this.canvas.remove(this.activeShape).remove(this.activeLine);\n  const polygon = new fabric.Polygon(points, {\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  opacity: 0.3,\n  fill: 'red',\n  hasBorders: false,\n  hasControls: false,\n  });\n  this.canvas.add(polygon);\n\n  this.activeLine = null;\n  this.activeShape = null;\n  this.polygonMode = false;\n  }\n\n  public delete() {\n  this.canvas.clear();\n  this.canvas.dispose();\n  this.canvas.removeListeners();\n  this.viewer.destroy();\n  }*/\n}"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2092,"body":[{"type":"ImportDeclaration","start":0,"end":42,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"Component"},"local":{"type":"Identifier","start":9,"end":18,"name":"Component"}}],"source":{"type":"Literal","start":26,"end":41,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":43,"end":79,"specifiers":[{"type":"ImportNamespaceSpecifier","start":50,"end":57,"local":{"type":"Identifier","start":55,"end":57,"name":"i0"}}],"source":{"type":"Literal","start":63,"end":78,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":80,"end":164,"declaration":{"type":"ClassDeclaration","start":87,"end":164,"id":{"type":"Identifier","start":93,"end":115,"name":"AnnotationOSDComponent"},"superClass":null,"body":{"type":"ClassBody","start":116,"end":164,"body":[{"type":"MethodDefinition","start":122,"end":139,"static":false,"computed":false,"key":{"type":"Identifier","start":122,"end":133,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":133,"end":139,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":136,"end":139,"body":[]}}},{"type":"MethodDefinition","start":144,"end":162,"static":false,"computed":false,"key":{"type":"Identifier","start":144,"end":152,"name":"ngOnInit"},"kind":"method","value":{"type":"FunctionExpression","start":152,"end":162,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":155,"end":162,"body":[]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":165,"end":354,"expression":{"type":"AssignmentExpression","start":165,"end":353,"operator":"=","left":{"type":"MemberExpression","start":165,"end":192,"object":{"type":"Identifier","start":165,"end":187,"name":"AnnotationOSDComponent"},"property":{"type":"Identifier","start":188,"end":192,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":195,"end":353,"callee":{"type":"MemberExpression","start":195,"end":216,"object":{"type":"Identifier","start":195,"end":197,"name":"i0"},"property":{"type":"Identifier","start":198,"end":216,"name":"ɵɵngDeclareFactory"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":217,"end":352,"properties":[{"type":"Property","start":219,"end":239,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":219,"end":229,"name":"minVersion"},"value":{"type":"Literal","start":231,"end":239,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":241,"end":258,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":241,"end":248,"name":"version"},"value":{"type":"Literal","start":250,"end":258,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":260,"end":272,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":260,"end":268,"name":"ngImport"},"value":{"type":"Identifier","start":270,"end":272,"name":"i0"},"kind":"init"},{"type":"Property","start":274,"end":302,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":274,"end":278,"name":"type"},"value":{"type":"Identifier","start":280,"end":302,"name":"AnnotationOSDComponent"},"kind":"init"},{"type":"Property","start":304,"end":312,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":304,"end":308,"name":"deps"},"value":{"type":"ArrayExpression","start":310,"end":312,"elements":[]},"kind":"init"},{"type":"Property","start":314,"end":350,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":314,"end":320,"name":"target"},"value":{"type":"MemberExpression","start":322,"end":350,"object":{"type":"MemberExpression","start":322,"end":340,"object":{"type":"Identifier","start":322,"end":324,"name":"i0"},"property":{"type":"Identifier","start":325,"end":340,"name":"ɵɵFactoryTarget"},"computed":false,"optional":false},"property":{"type":"Identifier","start":341,"end":350,"name":"Component"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":355,"end":607,"expression":{"type":"AssignmentExpression","start":355,"end":606,"operator":"=","left":{"type":"MemberExpression","start":355,"end":382,"object":{"type":"Identifier","start":355,"end":377,"name":"AnnotationOSDComponent"},"property":{"type":"Identifier","start":378,"end":382,"name":"ɵcmp"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":385,"end":606,"callee":{"type":"MemberExpression","start":385,"end":408,"object":{"type":"Identifier","start":385,"end":387,"name":"i0"},"property":{"type":"Identifier","start":388,"end":408,"name":"ɵɵngDeclareComponent"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":409,"end":605,"properties":[{"type":"Property","start":411,"end":431,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":411,"end":421,"name":"minVersion"},"value":{"type":"Literal","start":423,"end":431,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":433,"end":450,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":433,"end":440,"name":"version"},"value":{"type":"Literal","start":442,"end":450,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":452,"end":480,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":452,"end":456,"name":"type"},"value":{"type":"Identifier","start":458,"end":480,"name":"AnnotationOSDComponent"},"kind":"init"},{"type":"Property","start":482,"end":511,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":482,"end":490,"name":"selector"},"value":{"type":"Literal","start":492,"end":511,"value":"lib-AnnotationOSD","raw":"\"lib-AnnotationOSD\""},"kind":"init"},{"type":"Property","start":513,"end":525,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":513,"end":521,"name":"ngImport"},"value":{"type":"Identifier","start":523,"end":525,"name":"i0"},"kind":"init"},{"type":"Property","start":527,"end":587,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":527,"end":535,"name":"template"},"value":{"type":"TemplateLiteral","start":537,"end":587,"expressions":[],"quasis":[{"type":"TemplateElement","start":538,"end":586,"value":{"raw":"\n    <p>\n      annotation-osd works!\n    </p>\n  ","cooked":"\n    <p>\n      annotation-osd works!\n    </p>\n  "},"tail":true}]},"kind":"init"},{"type":"Property","start":589,"end":603,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":589,"end":597,"name":"isInline"},"value":{"type":"Literal","start":599,"end":603,"value":true,"raw":"true"},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":608,"end":1029,"expression":{"type":"CallExpression","start":608,"end":1028,"callee":{"type":"MemberExpression","start":608,"end":635,"object":{"type":"Identifier","start":608,"end":610,"name":"i0"},"property":{"type":"Identifier","start":611,"end":635,"name":"ɵɵngDeclareClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":636,"end":1027,"properties":[{"type":"Property","start":638,"end":658,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":638,"end":648,"name":"minVersion"},"value":{"type":"Literal","start":650,"end":658,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":660,"end":677,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":660,"end":667,"name":"version"},"value":{"type":"Literal","start":669,"end":677,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":679,"end":691,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":679,"end":687,"name":"ngImport"},"value":{"type":"Identifier","start":689,"end":691,"name":"i0"},"kind":"init"},{"type":"Property","start":693,"end":721,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":693,"end":697,"name":"type"},"value":{"type":"Identifier","start":699,"end":721,"name":"AnnotationOSDComponent"},"kind":"init"},{"type":"Property","start":723,"end":981,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":723,"end":733,"name":"decorators"},"value":{"type":"ArrayExpression","start":735,"end":981,"elements":[{"type":"ObjectExpression","start":736,"end":980,"properties":[{"type":"Property","start":750,"end":765,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":750,"end":754,"name":"type"},"value":{"type":"Identifier","start":756,"end":765,"name":"Component"},"kind":"init"},{"type":"Property","start":779,"end":970,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":779,"end":783,"name":"args"},"value":{"type":"ArrayExpression","start":785,"end":970,"elements":[{"type":"ObjectExpression","start":786,"end":969,"properties":[{"type":"Property","start":808,"end":837,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":808,"end":816,"name":"selector"},"value":{"type":"Literal","start":818,"end":837,"value":"lib-AnnotationOSD","raw":"'lib-AnnotationOSD'"},"kind":"init"},{"type":"Property","start":859,"end":919,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":859,"end":867,"name":"template"},"value":{"type":"TemplateLiteral","start":869,"end":919,"expressions":[],"quasis":[{"type":"TemplateElement","start":870,"end":918,"value":{"raw":"\n    <p>\n      annotation-osd works!\n    </p>\n  ","cooked":"\n    <p>\n      annotation-osd works!\n    </p>\n  "},"tail":true}]},"kind":"init"},{"type":"Property","start":941,"end":951,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":941,"end":947,"name":"styles"},"value":{"type":"ArrayExpression","start":949,"end":951,"elements":[]},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":983,"end":1025,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":983,"end":997,"name":"ctorParameters"},"value":{"type":"FunctionExpression","start":999,"end":1025,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1011,"end":1025,"body":[{"type":"ReturnStatement","start":1013,"end":1023,"argument":{"type":"ArrayExpression","start":1020,"end":1022,"elements":[]}}]}},"kind":"init"}]}],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7bUhBTFUsc0JBQXNCO3VHQUF0QixzQkFBc0IseURBUnZCOzs7O0dBSVQ7MkZBSVUsc0JBQXNCO2tCQVZsQyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxtQkFBbUI7b0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO29CQUNELE1BQU0sRUFBRSxFQUNQO2lCQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLUFubm90YXRpb25PU0QnLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxwPlxuICAgICAgYW5ub3RhdGlvbi1vc2Qgd29ya3MhXG4gICAgPC9wPlxuICBgLFxuICBzdHlsZXM6IFtcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBBbm5vdGF0aW9uT1NEQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICB9XG5cbn1cbiJdfQ==","start":1030,"end":2092}]},"code":"import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n}\nAnnotationOSDComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nAnnotationOSDComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.7\", type: AnnotationOSDComponent, selector: \"lib-AnnotationOSD\", ngImport: i0, template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `, isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'lib-AnnotationOSD',\n                    template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n                    styles: []\n                }]\n        }], ctorParameters: function () { return []; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7bUhBTFUsc0JBQXNCO3VHQUF0QixzQkFBc0IseURBUnZCOzs7O0dBSVQ7MkZBSVUsc0JBQXNCO2tCQVZsQyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxtQkFBbUI7b0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO29CQUNELE1BQU0sRUFBRSxFQUNQO2lCQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLUFubm90YXRpb25PU0QnLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxwPlxuICAgICAgYW5ub3RhdGlvbi1vc2Qgd29ya3MhXG4gICAgPC9wPlxuICBgLFxuICBzdHlsZXM6IFtcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBBbm5vdGF0aW9uT1NEQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICB9XG5cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n}\nAnnotationOSDComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nAnnotationOSDComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.2.7\", type: AnnotationOSDComponent, selector: \"lib-AnnotationOSD\", ngImport: i0, template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `, isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'lib-AnnotationOSD',\n                    template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n                    styles: []\n                }]\n        }], ctorParameters: function () { return []; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7bUhBTFUsc0JBQXNCO3VHQUF0QixzQkFBc0IseURBUnZCOzs7O0dBSVQ7MkZBSVUsc0JBQXNCO2tCQVZsQyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxtQkFBbUI7b0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO29CQUNELE1BQU0sRUFBRSxFQUNQO2lCQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLUFubm90YXRpb25PU0QnLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxwPlxuICAgICAgYW5ub3RhdGlvbi1vc2Qgd29ya3MhXG4gICAgPC9wPlxuICBgLFxuICBzdHlsZXM6IFtcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBBbm5vdGF0aW9uT1NEQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICB9XG5cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.component.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.component.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[18,0,0,18],[20,0,0,28],[26,0,0,34],[41,0,0,49],[42,0,0,50]],[],[[0,0,12,0],[6,0,12,6],[13,0,12,13],[35,0,12,35]],[[4,0,14,2],[20,0,14,18],[21,0,14,19]],[[4,0,16,2],[12,0,16,10]],[[4,0,17,2],[5,0,17,3]],[],[[115,0,12,13],[137,0,12,35]],[[103,0,12,13],[125,0,12,35],[182,0,4,12]],[],[],[],[[3,0,8,3]],[[91,0,12,13],[113,0,12,35]],[[18,0,2,1],[27,0,2,10]],[[19,0,2,11]],[[20,0,3,2],[28,0,3,10],[30,0,3,12],[49,0,3,31]],[[20,0,4,2],[28,0,4,10],[30,0,4,12]],[],[],[],[[3,0,8,3]],[[20,0,9,2],[26,0,9,8],[28,0,9,10],[30,0,10,3]],[[17,0,11,1]]],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-AnnotationOSD',\n  template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class AnnotationOSDComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2057,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":42,"end":110,"specifiers":[{"type":"ImportSpecifier","start":51,"end":73,"imported":{"type":"Identifier","start":51,"end":73,"name":"AnnotationOSDComponent"},"local":{"type":"Identifier","start":51,"end":73,"name":"AnnotationOSDComponent"}}],"source":{"type":"Literal","start":81,"end":109,"value":"./annotation-osd.component","raw":"'./annotation-osd.component'"}},{"type":"ImportDeclaration","start":111,"end":147,"specifiers":[{"type":"ImportNamespaceSpecifier","start":118,"end":125,"local":{"type":"Identifier","start":123,"end":125,"name":"i0"}}],"source":{"type":"Literal","start":131,"end":146,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":148,"end":184,"declaration":{"type":"ClassDeclaration","start":155,"end":184,"id":{"type":"Identifier","start":161,"end":180,"name":"AnnotationOSDModule"},"superClass":null,"body":{"type":"ClassBody","start":181,"end":184,"body":[]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":185,"end":367,"expression":{"type":"AssignmentExpression","start":185,"end":366,"operator":"=","left":{"type":"MemberExpression","start":185,"end":209,"object":{"type":"Identifier","start":185,"end":204,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":205,"end":209,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":212,"end":366,"callee":{"type":"MemberExpression","start":212,"end":233,"object":{"type":"Identifier","start":212,"end":214,"name":"i0"},"property":{"type":"Identifier","start":215,"end":233,"name":"ɵɵngDeclareFactory"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":234,"end":365,"properties":[{"type":"Property","start":236,"end":256,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":236,"end":246,"name":"minVersion"},"value":{"type":"Literal","start":248,"end":256,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":258,"end":275,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":258,"end":265,"name":"version"},"value":{"type":"Literal","start":267,"end":275,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":277,"end":289,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":277,"end":285,"name":"ngImport"},"value":{"type":"Identifier","start":287,"end":289,"name":"i0"},"kind":"init"},{"type":"Property","start":291,"end":316,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":291,"end":295,"name":"type"},"value":{"type":"Identifier","start":297,"end":316,"name":"AnnotationOSDModule"},"kind":"init"},{"type":"Property","start":318,"end":326,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":318,"end":322,"name":"deps"},"value":{"type":"ArrayExpression","start":324,"end":326,"elements":[]},"kind":"init"},{"type":"Property","start":328,"end":363,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":328,"end":334,"name":"target"},"value":{"type":"MemberExpression","start":336,"end":363,"object":{"type":"MemberExpression","start":336,"end":354,"object":{"type":"Identifier","start":336,"end":338,"name":"i0"},"property":{"type":"Identifier","start":339,"end":354,"name":"ɵɵFactoryTarget"},"computed":false,"optional":false},"property":{"type":"Identifier","start":355,"end":363,"name":"NgModule"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":368,"end":544,"expression":{"type":"AssignmentExpression","start":368,"end":543,"operator":"=","left":{"type":"MemberExpression","start":368,"end":392,"object":{"type":"Identifier","start":368,"end":387,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":388,"end":392,"name":"ɵmod"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":395,"end":543,"callee":{"type":"MemberExpression","start":395,"end":417,"object":{"type":"Identifier","start":395,"end":397,"name":"i0"},"property":{"type":"Identifier","start":398,"end":417,"name":"ɵɵngDeclareNgModule"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":418,"end":542,"properties":[{"type":"Property","start":420,"end":440,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":420,"end":430,"name":"minVersion"},"value":{"type":"Literal","start":432,"end":440,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":442,"end":459,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":442,"end":449,"name":"version"},"value":{"type":"Literal","start":451,"end":459,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":461,"end":473,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":461,"end":469,"name":"ngImport"},"value":{"type":"Identifier","start":471,"end":473,"name":"i0"},"kind":"init"},{"type":"Property","start":475,"end":500,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":475,"end":479,"name":"type"},"value":{"type":"Identifier","start":481,"end":500,"name":"AnnotationOSDModule"},"kind":"init"},{"type":"Property","start":502,"end":540,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":502,"end":514,"name":"declarations"},"value":{"type":"ArrayExpression","start":516,"end":540,"elements":[{"type":"Identifier","start":517,"end":539,"name":"AnnotationOSDComponent"}]},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":545,"end":696,"expression":{"type":"AssignmentExpression","start":545,"end":695,"operator":"=","left":{"type":"MemberExpression","start":545,"end":569,"object":{"type":"Identifier","start":545,"end":564,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":565,"end":569,"name":"ɵinj"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":572,"end":695,"callee":{"type":"MemberExpression","start":572,"end":594,"object":{"type":"Identifier","start":572,"end":574,"name":"i0"},"property":{"type":"Identifier","start":575,"end":594,"name":"ɵɵngDeclareInjector"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":595,"end":694,"properties":[{"type":"Property","start":597,"end":617,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":597,"end":607,"name":"minVersion"},"value":{"type":"Literal","start":609,"end":617,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":619,"end":636,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":619,"end":626,"name":"version"},"value":{"type":"Literal","start":628,"end":636,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":638,"end":650,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":638,"end":646,"name":"ngImport"},"value":{"type":"Identifier","start":648,"end":650,"name":"i0"},"kind":"init"},{"type":"Property","start":652,"end":677,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":652,"end":656,"name":"type"},"value":{"type":"Identifier","start":658,"end":677,"name":"AnnotationOSDModule"},"kind":"init"},{"type":"Property","start":679,"end":692,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":679,"end":686,"name":"imports"},"value":{"type":"ArrayExpression","start":688,"end":692,"elements":[{"type":"ArrayExpression","start":689,"end":691,"elements":[]}]},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":697,"end":1046,"expression":{"type":"CallExpression","start":697,"end":1045,"callee":{"type":"MemberExpression","start":697,"end":724,"object":{"type":"Identifier","start":697,"end":699,"name":"i0"},"property":{"type":"Identifier","start":700,"end":724,"name":"ɵɵngDeclareClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":725,"end":1044,"properties":[{"type":"Property","start":727,"end":747,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":727,"end":737,"name":"minVersion"},"value":{"type":"Literal","start":739,"end":747,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":749,"end":766,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":749,"end":756,"name":"version"},"value":{"type":"Literal","start":758,"end":766,"value":"13.2.7","raw":"\"13.2.7\""},"kind":"init"},{"type":"Property","start":768,"end":780,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":768,"end":776,"name":"ngImport"},"value":{"type":"Identifier","start":778,"end":780,"name":"i0"},"kind":"init"},{"type":"Property","start":782,"end":807,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":782,"end":786,"name":"type"},"value":{"type":"Identifier","start":788,"end":807,"name":"AnnotationOSDModule"},"kind":"init"},{"type":"Property","start":809,"end":1042,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":809,"end":819,"name":"decorators"},"value":{"type":"ArrayExpression","start":821,"end":1042,"elements":[{"type":"ObjectExpression","start":822,"end":1041,"properties":[{"type":"Property","start":836,"end":850,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":836,"end":840,"name":"type"},"value":{"type":"Identifier","start":842,"end":850,"name":"NgModule"},"kind":"init"},{"type":"Property","start":864,"end":1031,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":864,"end":868,"name":"args"},"value":{"type":"ArrayExpression","start":870,"end":1031,"elements":[{"type":"ObjectExpression","start":871,"end":1030,"properties":[{"type":"Property","start":893,"end":978,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":893,"end":905,"name":"declarations"},"value":{"type":"ArrayExpression","start":907,"end":978,"elements":[{"type":"Identifier","start":933,"end":955,"name":"AnnotationOSDComponent"}]},"kind":"init"},{"type":"Property","start":1000,"end":1011,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1000,"end":1007,"name":"imports"},"value":{"type":"ArrayExpression","start":1009,"end":1011,"elements":[]},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"}]}],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7QUFTcEUsTUFBTSxPQUFPLG1CQUFtQjs7Z0hBQW5CLG1CQUFtQjtpSEFBbkIsbUJBQW1CLGlCQUx4QixzQkFBc0I7aUhBS2pCLG1CQUFtQixZQUhuQixFQUNSOzJGQUVRLG1CQUFtQjtrQkFQL0IsUUFBUTttQkFBQztvQkFDTixZQUFZLEVBQUU7d0JBQ1Ysc0JBQXNCO3FCQUN6QjtvQkFDRCxPQUFPLEVBQUUsRUFDUjtpQkFDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uT1NEQ29tcG9uZW50IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBBbm5vdGF0aW9uT1NEQ29tcG9uZW50LFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgIF0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","start":1047,"end":2057}]},"code":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAnnotationOSDModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, declarations: [AnnotationOSDComponent] });\nAnnotationOSDModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, imports: [[]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        AnnotationOSDComponent,\n                    ],\n                    imports: [],\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7QUFTcEUsTUFBTSxPQUFPLG1CQUFtQjs7Z0hBQW5CLG1CQUFtQjtpSEFBbkIsbUJBQW1CLGlCQUx4QixzQkFBc0I7aUhBS2pCLG1CQUFtQixZQUhuQixFQUNSOzJGQUVRLG1CQUFtQjtrQkFQL0IsUUFBUTttQkFBQztvQkFDTixZQUFZLEVBQUU7d0JBQ1Ysc0JBQXNCO3FCQUN6QjtvQkFDRCxPQUFPLEVBQUUsRUFDUjtpQkFDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uT1NEQ29tcG9uZW50IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBBbm5vdGF0aW9uT1NEQ29tcG9uZW50LFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgIF0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","customTransformCache":false,"dependencies":["@angular/core","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAnnotationOSDModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, declarations: [AnnotationOSDComponent] });\nAnnotationOSDModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, imports: [[]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: AnnotationOSDModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        AnnotationOSDComponent,\n                    ],\n                    imports: [],\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7QUFTcEUsTUFBTSxPQUFPLG1CQUFtQjs7Z0hBQW5CLG1CQUFtQjtpSEFBbkIsbUJBQW1CLGlCQUx4QixzQkFBc0I7aUhBS2pCLG1CQUFtQixZQUhuQixFQUNSOzJGQUVRLG1CQUFtQjtrQkFQL0IsUUFBUTttQkFBQztvQkFDTixZQUFZLEVBQUU7d0JBQ1Ysc0JBQXNCO3FCQUN6QjtvQkFDRCxPQUFPLEVBQUUsRUFDUjtpQkFDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uT1NEQ29tcG9uZW50IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBBbm5vdGF0aW9uT1NEQ29tcG9uZW50LFxuICAgIF0sXG4gICAgaW1wb3J0czogW1xuICAgIF0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.module.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[31,0,1,31],[33,0,1,33],[39,0,1,39],[67,0,1,67],[68,0,1,68]],[],[[0,0,10,0],[6,0,10,6],[13,0,10,13],[32,0,10,32]],[],[[112,0,10,13],[131,0,10,32]],[[113,0,10,13],[132,0,10,32],[149,0,5,8],[171,0,5,30]],[[113,0,10,13],[132,0,10,32],[144,0,7,13],[146,0,8,5]],[[91,0,10,13],[110,0,10,32]],[[18,0,3,1],[26,0,3,9]],[[19,0,3,10]],[[20,0,4,4],[32,0,4,16],[34,0,4,18]],[[24,0,5,8],[46,0,5,30]],[[21,0,6,5]],[[20,0,7,4],[27,0,7,11],[29,0,7,13],[31,0,8,5]],[[17,0,9,1]]],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\n\n@NgModule({\n    declarations: [\n        AnnotationOSDComponent,\n    ],\n    imports: [\n    ],\n})\nexport class AnnotationOSDModule { }\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./annotation-osd.component":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":952,"body":[{"type":"ExportAllDeclaration","start":47,"end":90,"exported":null,"source":{"type":"Literal","start":61,"end":89,"value":"./lib/annotation-osd.model","raw":"'./lib/annotation-osd.model'"}},{"type":"ExportAllDeclaration","start":91,"end":136,"exported":null,"source":{"type":"Literal","start":105,"end":135,"value":"./lib/annotation-osd.service","raw":"'./lib/annotation-osd.service'"}},{"type":"ExportAllDeclaration","start":137,"end":184,"exported":null,"source":{"type":"Literal","start":151,"end":183,"value":"./lib/annotation-osd.component","raw":"'./lib/annotation-osd.component'"}},{"type":"ExportAllDeclaration","start":185,"end":229,"exported":null,"source":{"type":"Literal","start":199,"end":228,"value":"./lib/annotation-osd.module","raw":"'./lib/annotation-osd.module'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","start":230,"end":952}]},"code":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[42,0,4,42],[43,0,4,43]],[[0,0,5,0],[14,0,5,14],[44,0,5,44],[45,0,5,45]],[[0,0,6,0],[14,0,6,14],[46,0,6,46],[47,0,6,47]],[[0,0,7,0],[14,0,7,14],[43,0,7,43],[44,0,7,44]]],"sourcesContent":["/*\n * Public API Surface of annotation-osd\n */\n\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n"]},"resolvedIds":{"./lib/annotation-osd.model":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.module":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.service":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.component":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":512,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","start":78,"end":512}]},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/annotation-osd.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/annotation-osd.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"sourcemaps":{},"json":{}}}