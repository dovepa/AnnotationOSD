{"modules":[{"ast":{"type":"Program","start":0,"end":5258,"body":[{"type":"ClassDeclaration","start":0,"end":473,"id":{"type":"Identifier","start":6,"end":20,"name":"AnnotateMarker"},"superClass":null,"body":{"type":"ClassBody","start":21,"end":473,"body":[{"type":"MethodDefinition","start":27,"end":471,"static":false,"computed":false,"key":{"type":"Identifier","start":27,"end":38,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":38,"end":471,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":39,"end":41,"name":"id"},{"type":"Identifier","start":43,"end":47,"name":"unit"},{"type":"Identifier","start":49,"end":56,"name":"centerY"},{"type":"Identifier","start":58,"end":65,"name":"centerX"},{"type":"Identifier","start":67,"end":72,"name":"width"},{"type":"Identifier","start":74,"end":80,"name":"height"},{"type":"Identifier","start":82,"end":86,"name":"type"}],"body":{"type":"BlockStatement","start":88,"end":471,"body":[{"type":"IfStatement","start":98,"end":269,"test":{"type":"LogicalExpression","start":102,"end":179,"left":{"type":"BinaryExpression","start":102,"end":120,"left":{"type":"Identifier","start":102,"end":106,"name":"unit"},"operator":"===","right":{"type":"Literal","start":111,"end":120,"value":"percent","raw":"'percent'"}},"operator":"&&","right":{"type":"LogicalExpression","start":125,"end":178,"left":{"type":"LogicalExpression","start":125,"end":164,"left":{"type":"LogicalExpression","start":125,"end":151,"left":{"type":"BinaryExpression","start":125,"end":136,"left":{"type":"Identifier","start":125,"end":132,"name":"centerX"},"operator":">","right":{"type":"Literal","start":135,"end":136,"value":1,"raw":"1"}},"operator":"||","right":{"type":"BinaryExpression","start":140,"end":151,"left":{"type":"Identifier","start":140,"end":147,"name":"centerY"},"operator":">","right":{"type":"Literal","start":150,"end":151,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":155,"end":164,"left":{"type":"Identifier","start":155,"end":160,"name":"width"},"operator":">","right":{"type":"Literal","start":163,"end":164,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":168,"end":178,"left":{"type":"Identifier","start":168,"end":174,"name":"height"},"operator":">","right":{"type":"Literal","start":177,"end":178,"value":1,"raw":"1"}}}},"consequent":{"type":"BlockStatement","start":181,"end":269,"body":[{"type":"ThrowStatement","start":195,"end":259,"argument":{"type":"NewExpression","start":201,"end":258,"callee":{"type":"Identifier","start":205,"end":210,"name":"Error"},"arguments":[{"type":"Literal","start":211,"end":257,"value":"AnnotateMarker unit is percent but value > 1","raw":"'AnnotateMarker unit is percent but value > 1'"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":278,"end":291,"expression":{"type":"AssignmentExpression","start":278,"end":290,"operator":"=","left":{"type":"MemberExpression","start":278,"end":285,"object":{"type":"ThisExpression","start":278,"end":282},"property":{"type":"Identifier","start":283,"end":285,"name":"id"},"computed":false,"optional":false},"right":{"type":"Identifier","start":288,"end":290,"name":"id"}}},{"type":"ExpressionStatement","start":300,"end":317,"expression":{"type":"AssignmentExpression","start":300,"end":316,"operator":"=","left":{"type":"MemberExpression","start":300,"end":309,"object":{"type":"ThisExpression","start":300,"end":304},"property":{"type":"Identifier","start":305,"end":309,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":312,"end":316,"name":"unit"}}},{"type":"ExpressionStatement","start":326,"end":349,"expression":{"type":"AssignmentExpression","start":326,"end":348,"operator":"=","left":{"type":"MemberExpression","start":326,"end":338,"object":{"type":"ThisExpression","start":326,"end":330},"property":{"type":"Identifier","start":331,"end":338,"name":"centerY"},"computed":false,"optional":false},"right":{"type":"Identifier","start":341,"end":348,"name":"centerY"}}},{"type":"ExpressionStatement","start":358,"end":381,"expression":{"type":"AssignmentExpression","start":358,"end":380,"operator":"=","left":{"type":"MemberExpression","start":358,"end":370,"object":{"type":"ThisExpression","start":358,"end":362},"property":{"type":"Identifier","start":363,"end":370,"name":"centerX"},"computed":false,"optional":false},"right":{"type":"Identifier","start":373,"end":380,"name":"centerX"}}},{"type":"ExpressionStatement","start":390,"end":409,"expression":{"type":"AssignmentExpression","start":390,"end":408,"operator":"=","left":{"type":"MemberExpression","start":390,"end":400,"object":{"type":"ThisExpression","start":390,"end":394},"property":{"type":"Identifier","start":395,"end":400,"name":"width"},"computed":false,"optional":false},"right":{"type":"Identifier","start":403,"end":408,"name":"width"}}},{"type":"ExpressionStatement","start":418,"end":439,"expression":{"type":"AssignmentExpression","start":418,"end":438,"operator":"=","left":{"type":"MemberExpression","start":418,"end":429,"object":{"type":"ThisExpression","start":418,"end":422},"property":{"type":"Identifier","start":423,"end":429,"name":"height"},"computed":false,"optional":false},"right":{"type":"Identifier","start":432,"end":438,"name":"height"}}},{"type":"ExpressionStatement","start":448,"end":465,"expression":{"type":"AssignmentExpression","start":448,"end":464,"operator":"=","left":{"type":"MemberExpression","start":448,"end":457,"object":{"type":"ThisExpression","start":448,"end":452},"property":{"type":"Identifier","start":453,"end":457,"name":"type"},"computed":false,"optional":false},"right":{"type":"Identifier","start":460,"end":464,"name":"type"}}}]}}}]}},{"type":"ExportNamedDeclaration","start":474,"end":702,"declaration":{"type":"ClassDeclaration","start":481,"end":702,"id":{"type":"Identifier","start":487,"end":497,"name":"MarkerRect"},"superClass":{"type":"Identifier","start":506,"end":520,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":521,"end":702,"body":[{"type":"MethodDefinition","start":527,"end":700,"static":false,"computed":false,"key":{"type":"Identifier","start":527,"end":538,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":538,"end":700,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":539,"end":541,"name":"id"},{"type":"Identifier","start":543,"end":550,"name":"centerY"},{"type":"Identifier","start":552,"end":559,"name":"centerX"},{"type":"Identifier","start":561,"end":566,"name":"width"},{"type":"Identifier","start":568,"end":574,"name":"height"},{"type":"AssignmentPattern","start":576,"end":592,"left":{"type":"Identifier","start":576,"end":580,"name":"unit"},"right":{"type":"Literal","start":583,"end":592,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":594,"end":700,"body":[{"type":"VariableDeclaration","start":604,"end":630,"declarations":[{"type":"VariableDeclarator","start":610,"end":629,"id":{"type":"Identifier","start":610,"end":614,"name":"type"},"init":{"type":"Literal","start":617,"end":629,"value":"MarkerRect","raw":"'MarkerRect'"}}],"kind":"const"},{"type":"ExpressionStatement","start":639,"end":694,"expression":{"type":"CallExpression","start":639,"end":693,"callee":{"type":"Super","start":639,"end":644},"arguments":[{"type":"Identifier","start":645,"end":647,"name":"id"},{"type":"Identifier","start":649,"end":653,"name":"unit"},{"type":"Identifier","start":655,"end":662,"name":"centerY"},{"type":"Identifier","start":664,"end":671,"name":"centerX"},{"type":"Identifier","start":673,"end":678,"name":"width"},{"type":"Identifier","start":680,"end":686,"name":"height"},{"type":"Identifier","start":688,"end":692,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":703,"end":933,"declaration":{"type":"ClassDeclaration","start":710,"end":933,"id":{"type":"Identifier","start":716,"end":727,"name":"MarkerRound"},"superClass":{"type":"Identifier","start":736,"end":750,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":751,"end":933,"body":[{"type":"MethodDefinition","start":757,"end":931,"static":false,"computed":false,"key":{"type":"Identifier","start":757,"end":768,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":768,"end":931,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":769,"end":771,"name":"id"},{"type":"Identifier","start":773,"end":780,"name":"centerY"},{"type":"Identifier","start":782,"end":789,"name":"centerX"},{"type":"Identifier","start":791,"end":796,"name":"width"},{"type":"Identifier","start":798,"end":804,"name":"height"},{"type":"AssignmentPattern","start":806,"end":822,"left":{"type":"Identifier","start":806,"end":810,"name":"unit"},"right":{"type":"Literal","start":813,"end":822,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":824,"end":931,"body":[{"type":"VariableDeclaration","start":834,"end":861,"declarations":[{"type":"VariableDeclarator","start":840,"end":860,"id":{"type":"Identifier","start":840,"end":844,"name":"type"},"init":{"type":"Literal","start":847,"end":860,"value":"MarkerRound","raw":"'MarkerRound'"}}],"kind":"const"},{"type":"ExpressionStatement","start":870,"end":925,"expression":{"type":"CallExpression","start":870,"end":924,"callee":{"type":"Super","start":870,"end":875},"arguments":[{"type":"Identifier","start":876,"end":878,"name":"id"},{"type":"Identifier","start":880,"end":884,"name":"unit"},{"type":"Identifier","start":886,"end":893,"name":"centerY"},{"type":"Identifier","start":895,"end":902,"name":"centerX"},{"type":"Identifier","start":904,"end":909,"name":"width"},{"type":"Identifier","start":911,"end":917,"name":"height"},{"type":"Identifier","start":919,"end":923,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":934,"end":1095,"declaration":{"type":"ClassDeclaration","start":941,"end":1095,"id":{"type":"Identifier","start":947,"end":957,"name":"MarkerPoly"},"superClass":null,"body":{"type":"ClassBody","start":958,"end":1095,"body":[{"type":"MethodDefinition","start":964,"end":1093,"static":false,"computed":false,"key":{"type":"Identifier","start":964,"end":975,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":975,"end":1093,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":976,"end":980,"name":"dots"},{"type":"AssignmentPattern","start":982,"end":998,"left":{"type":"Identifier","start":982,"end":986,"name":"unit"},"right":{"type":"Literal","start":989,"end":998,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":1000,"end":1093,"body":[{"type":"ExpressionStatement","start":1010,"end":1035,"expression":{"type":"AssignmentExpression","start":1010,"end":1034,"operator":"=","left":{"type":"MemberExpression","start":1010,"end":1019,"object":{"type":"ThisExpression","start":1010,"end":1014},"property":{"type":"Identifier","start":1015,"end":1019,"name":"type"},"computed":false,"optional":false},"right":{"type":"Literal","start":1022,"end":1034,"value":"MarkerPoly","raw":"'MarkerPoly'"}}},{"type":"ExpressionStatement","start":1044,"end":1061,"expression":{"type":"AssignmentExpression","start":1044,"end":1060,"operator":"=","left":{"type":"MemberExpression","start":1044,"end":1053,"object":{"type":"ThisExpression","start":1044,"end":1048},"property":{"type":"Identifier","start":1049,"end":1053,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1056,"end":1060,"name":"unit"}}},{"type":"ExpressionStatement","start":1070,"end":1087,"expression":{"type":"AssignmentExpression","start":1070,"end":1086,"operator":"=","left":{"type":"MemberExpression","start":1070,"end":1079,"object":{"type":"ThisExpression","start":1070,"end":1074},"property":{"type":"Identifier","start":1075,"end":1079,"name":"dots"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1082,"end":1086,"name":"dots"}}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBS3BCLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG5cbiAgICBjb25zdHJ1Y3Rvcihkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=","start":1096,"end":5258}]},"code":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBS3BCLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG5cbiAgICBjb25zdHJ1Y3Rvcihkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBS3BCLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG5cbiAgICBjb25zdHJ1Y3Rvcihkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.model.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.model.ts"],"names":[],"mappings":[[[0,0,5,0],[6,0,5,15],[20,0,5,29]],[[4,0,14,4],[16,0,14,26],[18,0,14,36],[20,0,14,38],[24,0,14,52],[26,0,14,54],[33,0,14,69],[35,0,14,71],[42,0,14,86],[44,0,14,88],[49,0,14,101],[51,0,14,103],[57,0,14,117],[59,0,14,119],[63,0,14,131]],[[8,0,15,8],[12,0,15,12],[16,0,15,16],[21,0,15,21],[30,0,15,30],[34,0,15,34],[35,0,15,35],[42,0,15,42],[45,0,15,45],[46,0,15,46],[50,0,15,50],[57,0,15,57],[60,0,15,60],[61,0,15,61],[65,0,15,65],[70,0,15,70],[73,0,15,73],[74,0,15,74],[78,0,15,78],[84,0,15,84],[87,0,15,87],[88,0,15,88],[89,0,15,89],[91,0,15,91]],[[12,0,16,12],[18,0,16,18],[22,0,16,22],[27,0,16,27],[28,0,16,28],[74,0,16,74],[75,0,16,75],[76,0,16,76]],[[9,0,17,9]],[[8,0,18,8],[12,0,18,12],[13,0,18,13],[15,0,18,15],[18,0,18,18],[20,0,18,20],[21,0,18,21]],[[8,0,19,8],[12,0,19,12],[13,0,19,13],[17,0,19,17],[20,0,19,20],[24,0,19,24],[25,0,19,25]],[[8,0,20,8],[12,0,20,12],[13,0,20,13],[20,0,20,20],[23,0,20,23],[30,0,20,30],[31,0,20,31]],[[8,0,21,8],[12,0,21,12],[13,0,21,13],[20,0,21,20],[23,0,21,23],[30,0,21,30],[31,0,21,31]],[[8,0,22,8],[12,0,22,12],[13,0,22,13],[18,0,22,18],[21,0,22,21],[26,0,22,26],[27,0,22,27]],[[8,0,23,8],[12,0,23,12],[13,0,23,13],[19,0,23,19],[22,0,23,22],[28,0,23,28],[29,0,23,29]],[[8,0,24,8],[12,0,24,12],[13,0,24,13],[17,0,24,17],[20,0,24,20],[24,0,24,24],[25,0,24,25]],[[4,0,25,4],[5,0,25,5]],[[1,0,26,1]],[[0,0,28,0],[6,0,28,6],[13,0,28,13],[23,0,28,24],[32,0,28,32],[46,0,28,46]],[[4,0,29,4],[16,0,29,16],[18,0,29,26],[20,0,29,28],[27,0,29,43],[29,0,29,45],[36,0,29,60],[38,0,29,62],[43,0,29,75],[45,0,29,77],[51,0,29,91],[53,0,29,93],[60,0,29,110],[69,0,29,119]],[[8,0,30,8],[14,0,30,14],[18,0,30,18],[21,0,30,21],[33,0,30,33],[34,0,30,34]],[[8,0,31,8],[13,0,31,13],[14,0,31,14],[16,0,31,16],[18,0,31,18],[22,0,31,22],[24,0,31,24],[31,0,31,31],[33,0,31,33],[40,0,31,40],[42,0,31,42],[47,0,31,47],[49,0,31,49],[55,0,31,55],[57,0,31,57],[61,0,31,61],[62,0,31,62],[63,0,31,63]],[[4,0,32,4],[5,0,32,5]],[[1,0,33,1]],[[0,0,35,0],[6,0,35,6],[13,0,35,13],[24,0,35,25],[33,0,35,33],[47,0,35,47]],[[4,0,36,4],[16,0,36,16],[18,0,36,26],[20,0,36,28],[27,0,36,43],[29,0,36,45],[36,0,36,60],[38,0,36,62],[43,0,36,75],[45,0,36,77],[51,0,36,91],[53,0,36,93],[60,0,36,110],[69,0,36,119]],[[8,0,37,8],[14,0,37,14],[18,0,37,18],[21,0,37,21],[34,0,37,34],[35,0,37,35]],[[8,0,38,8],[13,0,38,13],[14,0,38,14],[16,0,38,16],[18,0,38,18],[22,0,38,22],[24,0,38,24],[31,0,38,31],[33,0,38,33],[40,0,38,40],[42,0,38,42],[47,0,38,47],[49,0,38,49],[55,0,38,55],[57,0,38,57],[61,0,38,61],[62,0,38,62],[63,0,38,63]],[[4,0,39,4],[5,0,39,5]],[[1,0,40,1]],[[0,0,42,0],[6,0,42,6],[13,0,42,14],[23,0,42,24]],[[4,0,47,4],[16,0,47,16],[20,0,47,29],[22,0,47,31],[29,0,47,48],[38,0,47,57]],[[8,0,43,4],[17,0,43,8],[20,0,43,11],[32,0,43,23],[33,0,43,24]],[[8,0,48,8],[12,0,48,12],[13,0,48,13],[17,0,48,17],[20,0,48,20],[24,0,48,24],[25,0,48,25]],[[8,0,49,8],[12,0,49,12],[13,0,49,13],[17,0,49,17],[20,0,49,20],[24,0,49,24],[25,0,49,25]],[[4,0,50,4],[5,0,50,5]],[[1,0,51,1]]],"sourcesContent":["export type PlayerType = 'image' | 'dzi';\nexport type UnitType = 'percent' | 'pixel';\n\nexport interface Point {x : number, y : number}\n\nabstract class AnnotateMarker {\n    readonly id : number;\n    readonly unit : UnitType;\n    readonly centerY : number;\n    readonly centerX : number;\n    readonly width : number;\n    readonly height : number;\n    readonly type : string;\n\n    protected constructor(id: number, unit: UnitType, centerY: number, centerX: number, width: number, height: number, type: string) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\n\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id: number, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id: number, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport  class MarkerPoly {\n    type = 'MarkerPoly';\n    unit: UnitType;\n    dots: Point[];\n\n    constructor(dots: Point[], unit: UnitType = 'percent') {\n        this.unit = unit;\n        this.dots = dots;\n    }\n}"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":23099,"body":[{"type":"ImportDeclaration","start":0,"end":51,"specifiers":[{"type":"ImportSpecifier","start":9,"end":15,"imported":{"type":"Identifier","start":9,"end":15,"name":"Inject"},"local":{"type":"Identifier","start":9,"end":15,"name":"Inject"}},{"type":"ImportSpecifier","start":17,"end":27,"imported":{"type":"Identifier","start":17,"end":27,"name":"Injectable"},"local":{"type":"Identifier","start":17,"end":27,"name":"Injectable"}}],"source":{"type":"Literal","start":35,"end":50,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":52,"end":83,"specifiers":[{"type":"ImportSpecifier","start":61,"end":68,"imported":{"type":"Identifier","start":61,"end":68,"name":"Subject"},"local":{"type":"Identifier","start":61,"end":68,"name":"Subject"}}],"source":{"type":"Literal","start":76,"end":82,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":84,"end":130,"specifiers":[{"type":"ImportSpecifier","start":93,"end":105,"imported":{"type":"Identifier","start":93,"end":105,"name":"debounceTime"},"local":{"type":"Identifier","start":93,"end":105,"name":"debounceTime"}}],"source":{"type":"Literal","start":113,"end":129,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":131,"end":167,"specifiers":[{"type":"ImportNamespaceSpecifier","start":138,"end":145,"local":{"type":"Identifier","start":143,"end":145,"name":"i0"}}],"source":{"type":"Literal","start":151,"end":166,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":168,"end":3854,"declaration":{"type":"ClassDeclaration","start":175,"end":3854,"id":{"type":"Identifier","start":181,"end":201,"name":"AnnotationOSDService"},"superClass":null,"body":{"type":"ClassBody","start":202,"end":3854,"body":[{"type":"MethodDefinition","start":208,"end":270,"static":false,"computed":false,"key":{"type":"Identifier","start":208,"end":219,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":219,"end":270,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":220,"end":233,"left":{"type":"Identifier","start":220,"end":225,"name":"debug"},"right":{"type":"Literal","start":228,"end":233,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":235,"end":270,"body":[{"type":"ExpressionStatement","start":245,"end":264,"expression":{"type":"AssignmentExpression","start":245,"end":263,"operator":"=","left":{"type":"MemberExpression","start":245,"end":255,"object":{"type":"ThisExpression","start":245,"end":249},"property":{"type":"Identifier","start":250,"end":255,"name":"DEBUG"},"computed":false,"optional":false},"right":{"type":"Identifier","start":258,"end":263,"name":"debug"}}}]}}},{"type":"MethodDefinition","start":275,"end":1638,"static":false,"computed":false,"key":{"type":"Identifier","start":275,"end":288,"name":"playerFactory"},"kind":"method","value":{"type":"FunctionExpression","start":288,"end":1638,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":289,"end":293,"name":"type"},{"type":"Identifier","start":295,"end":297,"name":"id"},{"type":"Identifier","start":299,"end":303,"name":"link"}],"body":{"type":"BlockStatement","start":305,"end":1638,"body":[{"type":"ReturnStatement","start":315,"end":1632,"argument":{"type":"NewExpression","start":322,"end":1631,"callee":{"type":"Identifier","start":326,"end":333,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":334,"end":1630,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":335,"end":342,"name":"resolve"}],"body":{"type":"BlockStatement","start":347,"end":1630,"body":[{"type":"ExpressionStatement","start":361,"end":853,"expression":{"type":"AssignmentExpression","start":361,"end":852,"operator":"=","left":{"type":"MemberExpression","start":361,"end":372,"object":{"type":"ThisExpression","start":361,"end":365},"property":{"type":"Identifier","start":366,"end":372,"name":"viewer"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":375,"end":852,"callee":{"type":"Identifier","start":375,"end":389,"name":"OpenSeadragonT"},"arguments":[{"type":"ObjectExpression","start":390,"end":851,"properties":[{"type":"Property","start":408,"end":410,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":408,"end":410,"name":"id"},"kind":"init","value":{"type":"Identifier","start":408,"end":410,"name":"id"}},{"type":"Property","start":428,"end":493,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":428,"end":439,"name":"tileSources"},"value":{"type":"ConditionalExpression","start":441,"end":493,"test":{"type":"BinaryExpression","start":441,"end":455,"left":{"type":"Identifier","start":441,"end":445,"name":"type"},"operator":"===","right":{"type":"Literal","start":450,"end":455,"value":"dzi","raw":"'dzi'"}},"consequent":{"type":"Identifier","start":458,"end":462,"name":"link"},"alternate":{"type":"ObjectExpression","start":465,"end":493,"properties":[{"type":"Property","start":467,"end":480,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":467,"end":471,"name":"type"},"value":{"type":"Literal","start":473,"end":480,"value":"image","raw":"'image'"},"kind":"init"},{"type":"Property","start":482,"end":491,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":482,"end":485,"name":"url"},"value":{"type":"Identifier","start":487,"end":491,"name":"link"},"kind":"init"}]}},"kind":"init"},{"type":"Property","start":511,"end":555,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":511,"end":531,"name":"gestureSettingsTouch"},"value":{"type":"ObjectExpression","start":533,"end":555,"properties":[{"type":"Property","start":535,"end":553,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":535,"end":546,"name":"pinchRotate"},"value":{"type":"Literal","start":548,"end":553,"value":false,"raw":"false"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":573,"end":599,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":573,"end":592,"name":"showRotationControl"},"value":{"type":"Literal","start":594,"end":599,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":617,"end":645,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":617,"end":638,"name":"showNavigationControl"},"value":{"type":"Literal","start":640,"end":645,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":663,"end":685,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":663,"end":678,"name":"showFlipControl"},"value":{"type":"Literal","start":680,"end":685,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":703,"end":718,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":703,"end":715,"name":"zoomPerClick"},"value":{"type":"Literal","start":717,"end":718,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":736,"end":755,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":736,"end":752,"name":"imageLoaderLimit"},"value":{"type":"Literal","start":754,"end":755,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":773,"end":797,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":773,"end":791,"name":"constrainDuringPan"},"value":{"type":"Literal","start":793,"end":797,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":815,"end":836,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":815,"end":824,"name":"debugMode"},"value":{"type":"MemberExpression","start":826,"end":836,"object":{"type":"ThisExpression","start":826,"end":830},"property":{"type":"Identifier","start":831,"end":836,"name":"DEBUG"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"VariableDeclaration","start":866,"end":900,"declarations":[{"type":"VariableDeclarator","start":872,"end":899,"id":{"type":"Identifier","start":872,"end":883,"name":"subjectZoom"},"init":{"type":"NewExpression","start":886,"end":899,"callee":{"type":"Identifier","start":890,"end":897,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":913,"end":1005,"expression":{"type":"CallExpression","start":913,"end":1004,"callee":{"type":"MemberExpression","start":913,"end":935,"object":{"type":"MemberExpression","start":913,"end":924,"object":{"type":"ThisExpression","start":913,"end":917},"property":{"type":"Identifier","start":918,"end":924,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":925,"end":935,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":936,"end":942,"value":"zoom","raw":"'zoom'"},{"type":"ArrowFunctionExpression","start":944,"end":1003,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":945,"end":946,"name":"e"}],"body":{"type":"BlockStatement","start":951,"end":1003,"body":[{"type":"ExpressionStatement","start":969,"end":989,"expression":{"type":"CallExpression","start":969,"end":988,"callee":{"type":"MemberExpression","start":969,"end":985,"object":{"type":"Identifier","start":969,"end":980,"name":"subjectZoom"},"property":{"type":"Identifier","start":981,"end":985,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":986,"end":987,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1018,"end":1169,"expression":{"type":"CallExpression","start":1018,"end":1168,"callee":{"type":"MemberExpression","start":1018,"end":1062,"object":{"type":"CallExpression","start":1018,"end":1052,"callee":{"type":"MemberExpression","start":1018,"end":1034,"object":{"type":"Identifier","start":1018,"end":1029,"name":"subjectZoom"},"property":{"type":"Identifier","start":1030,"end":1034,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1035,"end":1051,"callee":{"type":"Identifier","start":1035,"end":1047,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1048,"end":1050,"value":50,"raw":"50"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1053,"end":1062,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1063,"end":1167,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1069,"end":1167,"body":[{"type":"ExpressionStatement","start":1087,"end":1109,"expression":{"type":"CallExpression","start":1087,"end":1108,"callee":{"type":"MemberExpression","start":1087,"end":1106,"object":{"type":"ThisExpression","start":1087,"end":1091},"property":{"type":"Identifier","start":1092,"end":1106,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1182,"end":1347,"expression":{"type":"CallExpression","start":1182,"end":1346,"callee":{"type":"MemberExpression","start":1182,"end":1208,"object":{"type":"MemberExpression","start":1182,"end":1193,"object":{"type":"ThisExpression","start":1182,"end":1186},"property":{"type":"Identifier","start":1187,"end":1193,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1194,"end":1208,"name":"addOnceHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1209,"end":1215,"value":"open","raw":"'open'"},{"type":"ArrowFunctionExpression","start":1217,"end":1345,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1223,"end":1345,"body":[{"type":"ExpressionStatement","start":1241,"end":1261,"expression":{"type":"CallExpression","start":1241,"end":1260,"callee":{"type":"MemberExpression","start":1241,"end":1252,"object":{"type":"Identifier","start":1241,"end":1248,"name":"console"},"property":{"type":"Identifier","start":1249,"end":1252,"name":"log"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1253,"end":1259,"value":"open","raw":"'open'"}],"optional":false}},{"type":"ExpressionStatement","start":1278,"end":1300,"expression":{"type":"CallExpression","start":1278,"end":1299,"callee":{"type":"MemberExpression","start":1278,"end":1297,"object":{"type":"ThisExpression","start":1278,"end":1282},"property":{"type":"Identifier","start":1283,"end":1297,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1317,"end":1331,"expression":{"type":"CallExpression","start":1317,"end":1330,"callee":{"type":"Identifier","start":1317,"end":1324,"name":"resolve"},"arguments":[{"type":"ThisExpression","start":1325,"end":1329}],"optional":false}}]}}],"optional":false}},{"type":"VariableDeclaration","start":1360,"end":1396,"declarations":[{"type":"VariableDeclarator","start":1366,"end":1395,"id":{"type":"Identifier","start":1366,"end":1379,"name":"subjectResize"},"init":{"type":"NewExpression","start":1382,"end":1395,"callee":{"type":"Identifier","start":1386,"end":1393,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1409,"end":1505,"expression":{"type":"CallExpression","start":1409,"end":1504,"callee":{"type":"MemberExpression","start":1409,"end":1431,"object":{"type":"MemberExpression","start":1409,"end":1420,"object":{"type":"ThisExpression","start":1409,"end":1413},"property":{"type":"Identifier","start":1414,"end":1420,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1421,"end":1431,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1432,"end":1440,"value":"resize","raw":"'resize'"},{"type":"ArrowFunctionExpression","start":1442,"end":1503,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1443,"end":1444,"name":"e"}],"body":{"type":"BlockStatement","start":1449,"end":1503,"body":[{"type":"ExpressionStatement","start":1467,"end":1489,"expression":{"type":"CallExpression","start":1467,"end":1488,"callee":{"type":"MemberExpression","start":1467,"end":1485,"object":{"type":"Identifier","start":1467,"end":1480,"name":"subjectResize"},"property":{"type":"Identifier","start":1481,"end":1485,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1486,"end":1487,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1518,"end":1620,"expression":{"type":"CallExpression","start":1518,"end":1619,"callee":{"type":"MemberExpression","start":1518,"end":1565,"object":{"type":"CallExpression","start":1518,"end":1555,"callee":{"type":"MemberExpression","start":1518,"end":1536,"object":{"type":"Identifier","start":1518,"end":1531,"name":"subjectResize"},"property":{"type":"Identifier","start":1532,"end":1536,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1537,"end":1554,"callee":{"type":"Identifier","start":1537,"end":1549,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1550,"end":1553,"value":200,"raw":"200"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1556,"end":1565,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1566,"end":1618,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1572,"end":1618,"body":[{"type":"ExpressionStatement","start":1590,"end":1604,"expression":{"type":"CallExpression","start":1590,"end":1603,"callee":{"type":"MemberExpression","start":1590,"end":1601,"object":{"type":"ThisExpression","start":1590,"end":1594},"property":{"type":"Identifier","start":1595,"end":1601,"name":"goHome"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":2672,"end":3140,"static":false,"computed":false,"key":{"type":"Identifier","start":2672,"end":2686,"name":"calculateRatio"},"kind":"method","value":{"type":"FunctionExpression","start":2686,"end":3140,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2689,"end":3140,"body":[]}}},{"type":"MethodDefinition","start":3145,"end":3360,"static":false,"computed":false,"key":{"type":"Identifier","start":3151,"end":3157,"name":"goHome"},"kind":"method","value":{"type":"FunctionExpression","start":3157,"end":3360,"id":null,"expression":false,"generator":false,"async":true,"params":[],"body":{"type":"BlockStatement","start":3160,"end":3360,"body":[{"type":"ReturnStatement","start":3342,"end":3354,"argument":{"type":"ThisExpression","start":3349,"end":3353}}]}}},{"type":"MethodDefinition","start":3365,"end":3514,"static":false,"computed":false,"key":{"type":"Identifier","start":3365,"end":3374,"name":"addCanvas"},"kind":"method","value":{"type":"FunctionExpression","start":3374,"end":3514,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3377,"end":3514,"body":[{"type":"ExpressionStatement","start":3387,"end":3487,"expression":{"type":"AssignmentExpression","start":3387,"end":3486,"operator":"=","left":{"type":"MemberExpression","start":3387,"end":3398,"object":{"type":"ThisExpression","start":3387,"end":3391},"property":{"type":"Identifier","start":3392,"end":3398,"name":"canvas"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":3401,"end":3486,"callee":{"type":"MemberExpression","start":3401,"end":3484,"object":{"type":"CallExpression","start":3401,"end":3458,"callee":{"type":"MemberExpression","start":3401,"end":3441,"object":{"type":"MemberExpression","start":3401,"end":3412,"object":{"type":"ThisExpression","start":3401,"end":3405},"property":{"type":"Identifier","start":3406,"end":3412,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3426,"end":3441,"name":"fabricjsOverlay"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":3442,"end":3457,"properties":[{"type":"Property","start":3444,"end":3455,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3444,"end":3449,"name":"scale"},"value":{"type":"Literal","start":3451,"end":3455,"value":1000,"raw":"1000"},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":3472,"end":3484,"name":"fabricCanvas"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"ReturnStatement","start":3496,"end":3508,"argument":{"type":"ThisExpression","start":3503,"end":3507}}]}}},{"type":"MethodDefinition","start":3519,"end":3852,"static":false,"computed":false,"key":{"type":"Identifier","start":3519,"end":3528,"name":"addDamage"},"kind":"method","value":{"type":"FunctionExpression","start":3528,"end":3852,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3529,"end":3535,"name":"damage"}],"body":{"type":"BlockStatement","start":3537,"end":3852,"body":[{"type":"VariableDeclaration","start":3547,"end":3815,"declarations":[{"type":"VariableDeclarator","start":3553,"end":3814,"id":{"type":"Identifier","start":3553,"end":3557,"name":"poly"},"init":{"type":"NewExpression","start":3560,"end":3814,"callee":{"type":"MemberExpression","start":3564,"end":3579,"object":{"type":"Identifier","start":3564,"end":3571,"name":"fabricT"},"property":{"type":"Identifier","start":3572,"end":3579,"name":"Polygon"},"computed":false,"optional":false},"arguments":[{"type":"ArrayExpression","start":3580,"end":3747,"elements":[{"type":"ObjectExpression","start":3594,"end":3611,"properties":[{"type":"Property","start":3596,"end":3602,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3596,"end":3597,"name":"x"},"value":{"type":"Literal","start":3599,"end":3602,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":3604,"end":3609,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3604,"end":3605,"name":"y"},"value":{"type":"Literal","start":3607,"end":3609,"value":10,"raw":"10"},"kind":"init"}]},{"type":"ObjectExpression","start":3625,"end":3642,"properties":[{"type":"Property","start":3627,"end":3633,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3627,"end":3628,"name":"x"},"value":{"type":"Literal","start":3630,"end":3633,"value":250,"raw":"250"},"kind":"init"},{"type":"Property","start":3635,"end":3640,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3635,"end":3636,"name":"y"},"value":{"type":"Literal","start":3638,"end":3640,"value":50,"raw":"50"},"kind":"init"}]},{"type":"ObjectExpression","start":3656,"end":3674,"properties":[{"type":"Property","start":3658,"end":3664,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3658,"end":3659,"name":"x"},"value":{"type":"Literal","start":3661,"end":3664,"value":250,"raw":"250"},"kind":"init"},{"type":"Property","start":3666,"end":3672,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3666,"end":3667,"name":"y"},"value":{"type":"Literal","start":3669,"end":3672,"value":180,"raw":"180"},"kind":"init"}]},{"type":"ObjectExpression","start":3688,"end":3706,"properties":[{"type":"Property","start":3690,"end":3696,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3690,"end":3691,"name":"x"},"value":{"type":"Literal","start":3693,"end":3696,"value":150,"raw":"150"},"kind":"init"},{"type":"Property","start":3698,"end":3704,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3698,"end":3699,"name":"y"},"value":{"type":"Literal","start":3701,"end":3704,"value":180,"raw":"180"},"kind":"init"}]},{"type":"ObjectExpression","start":3720,"end":3737,"properties":[{"type":"Property","start":3722,"end":3728,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3722,"end":3723,"name":"x"},"value":{"type":"Literal","start":3725,"end":3728,"value":150,"raw":"150"},"kind":"init"},{"type":"Property","start":3730,"end":3735,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3730,"end":3731,"name":"y"},"value":{"type":"Literal","start":3733,"end":3735,"value":50,"raw":"50"},"kind":"init"}]}]},{"type":"ObjectExpression","start":3749,"end":3813,"properties":[{"type":"Property","start":3763,"end":3776,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3763,"end":3767,"name":"fill"},"value":{"type":"Literal","start":3769,"end":3776,"value":"green","raw":"'green'"},"kind":"init"},{"type":"Property","start":3790,"end":3802,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3790,"end":3797,"name":"opacity"},"value":{"type":"Literal","start":3799,"end":3802,"value":0.3,"raw":"0.3"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3824,"end":3846,"expression":{"type":"CallExpression","start":3824,"end":3845,"callee":{"type":"MemberExpression","start":3824,"end":3839,"object":{"type":"MemberExpression","start":3824,"end":3835,"object":{"type":"ThisExpression","start":3824,"end":3828},"property":{"type":"Identifier","start":3829,"end":3835,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3836,"end":3839,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3840,"end":3844,"name":"poly"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":3855,"end":3990,"expression":{"type":"AssignmentExpression","start":3855,"end":3989,"operator":"=","left":{"type":"MemberExpression","start":3855,"end":3880,"object":{"type":"Identifier","start":3855,"end":3875,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":3876,"end":3880,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":3883,"end":3989,"id":{"type":"Identifier","start":3892,"end":3920,"name":"AnnotationOSDService_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3921,"end":3922,"name":"t"}],"body":{"type":"BlockStatement","start":3924,"end":3989,"body":[{"type":"ReturnStatement","start":3926,"end":3987,"argument":{"type":"NewExpression","start":3933,"end":3986,"callee":{"type":"LogicalExpression","start":3938,"end":3963,"left":{"type":"Identifier","start":3938,"end":3939,"name":"t"},"operator":"||","right":{"type":"Identifier","start":3943,"end":3963,"name":"AnnotationOSDService"}},"arguments":[{"type":"CallExpression","start":3965,"end":3985,"callee":{"type":"MemberExpression","start":3965,"end":3976,"object":{"type":"Identifier","start":3965,"end":3967,"name":"i0"},"property":{"type":"Identifier","start":3968,"end":3976,"name":"ɵɵinject"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3977,"end":3984,"name":"Boolean"}],"optional":false}]}}]}}}},{"type":"ExpressionStatement","start":3991,"end":4145,"expression":{"type":"AssignmentExpression","start":3991,"end":4144,"operator":"=","left":{"type":"MemberExpression","start":3991,"end":4017,"object":{"type":"Identifier","start":3991,"end":4011,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4012,"end":4017,"name":"ɵprov"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":4034,"end":4144,"callee":{"type":"MemberExpression","start":4034,"end":4055,"object":{"type":"Identifier","start":4034,"end":4036,"name":"i0"},"property":{"type":"Identifier","start":4037,"end":4055,"name":"ɵɵdefineInjectable"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":4056,"end":4143,"properties":[{"type":"Property","start":4058,"end":4085,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4058,"end":4063,"name":"token"},"value":{"type":"Identifier","start":4065,"end":4085,"name":"AnnotationOSDService"},"kind":"init"},{"type":"Property","start":4087,"end":4121,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4087,"end":4094,"name":"factory"},"value":{"type":"MemberExpression","start":4096,"end":4121,"object":{"type":"Identifier","start":4096,"end":4116,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4117,"end":4121,"name":"ɵfac"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":4123,"end":4141,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4123,"end":4133,"name":"providedIn"},"value":{"type":"Literal","start":4135,"end":4141,"value":"root","raw":"'root'"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":4020,"end":4033}]}}},{"type":"ExpressionStatement","start":4146,"end":4512,"expression":{"type":"CallExpression","start":4146,"end":4511,"callee":{"type":"FunctionExpression","start":4147,"end":4508,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4159,"end":4508,"body":[{"type":"ExpressionStatement","start":4161,"end":4506,"expression":{"type":"LogicalExpression","start":4161,"end":4505,"left":{"type":"LogicalExpression","start":4162,"end":4207,"left":{"type":"BinaryExpression","start":4162,"end":4194,"left":{"type":"UnaryExpression","start":4162,"end":4178,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":4169,"end":4178,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":4183,"end":4194,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":4198,"end":4207,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":4212,"end":4505,"callee":{"type":"MemberExpression","start":4212,"end":4232,"object":{"type":"Identifier","start":4212,"end":4214,"name":"i0"},"property":{"type":"Identifier","start":4215,"end":4232,"name":"ɵsetClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4233,"end":4253,"name":"AnnotationOSDService"},{"type":"ArrayExpression","start":4255,"end":4358,"elements":[{"type":"ObjectExpression","start":4256,"end":4357,"properties":[{"type":"Property","start":4266,"end":4282,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4266,"end":4270,"name":"type"},"value":{"type":"Identifier","start":4272,"end":4282,"name":"Injectable"},"kind":"init"},{"type":"Property","start":4292,"end":4351,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4292,"end":4296,"name":"args"},"value":{"type":"ArrayExpression","start":4298,"end":4351,"elements":[{"type":"ObjectExpression","start":4299,"end":4350,"properties":[{"type":"Property","start":4317,"end":4335,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4317,"end":4327,"name":"providedIn"},"value":{"type":"Literal","start":4329,"end":4335,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"FunctionExpression","start":4360,"end":4498,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4372,"end":4498,"body":[{"type":"ReturnStatement","start":4374,"end":4496,"argument":{"type":"ArrayExpression","start":4381,"end":4495,"elements":[{"type":"ObjectExpression","start":4382,"end":4494,"properties":[{"type":"Property","start":4384,"end":4399,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4384,"end":4388,"name":"type"},"value":{"type":"Identifier","start":4390,"end":4399,"name":"undefined"},"kind":"init"},{"type":"Property","start":4401,"end":4492,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4401,"end":4411,"name":"decorators"},"value":{"type":"ArrayExpression","start":4413,"end":4492,"elements":[{"type":"ObjectExpression","start":4414,"end":4491,"properties":[{"type":"Property","start":4432,"end":4444,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4432,"end":4436,"name":"type"},"value":{"type":"Identifier","start":4438,"end":4444,"name":"Inject"},"kind":"init"},{"type":"Property","start":4462,"end":4477,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4462,"end":4466,"name":"args"},"value":{"type":"ArrayExpression","start":4468,"end":4477,"elements":[{"type":"Identifier","start":4469,"end":4476,"name":"Boolean"}]},"kind":"init"}]}]},"kind":"init"}]}]}}]}},{"type":"Literal","start":4500,"end":4504,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFpQjlDLE1BQU0sT0FBTyxvQkFBb0I7SUFXN0IsWUFBNkIsUUFBa0IsS0FBSztRQUNoRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sYUFBYSxDQUFDLElBQWdCLEVBQUUsRUFBVSxFQUFFLElBQVk7UUFDM0QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsY0FBYyxDQUFDO2dCQUN6QixFQUFFO2dCQUNGLFdBQVcsRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUNqRSxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQW1DO2dCQUM3RSxtQkFBbUIsRUFBRSxLQUFLO2dCQUMxQixxQkFBcUIsRUFBRSxLQUFLO2dCQUM1QixlQUFlLEVBQUUsS0FBSztnQkFDdEIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDbkIsa0JBQWtCLEVBQUUsSUFBSTtnQkFDeEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ3hCLENBQUMsQ0FBQztZQUVILE1BQU0sV0FBVyxHQUFpQixJQUFJLE9BQU8sRUFBRSxDQUFDO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFO2dCQUN0QyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO2dCQUM5QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLDJCQUEyQjtZQUMvQixDQUFDLENBQUMsQ0FBQztZQUdILElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3hDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELEVBQUU7SUFDRixnRUFBZ0U7SUFDaEUsc0lBQXNJO0lBQ3RJLHVDQUF1QztJQUN2Qyx5Q0FBeUM7SUFDekMsc0NBQXNDO0lBQ3RDLHFFQUFxRTtJQUNyRSx3REFBd0Q7SUFDeEQsSUFBSTtJQUVKLCtCQUErQjtJQUMvQix1QkFBdUI7SUFDdkIsOENBQThDO0lBQzlDLHFEQUFxRDtJQUNyRCx1REFBdUQ7SUFDdkQsMkNBQTJDO0lBQzNDLGdEQUFnRDtJQUNoRCxvQ0FBb0M7SUFDcEMsMkRBQTJEO0lBQzNELFVBQVU7SUFDViw2Q0FBNkM7SUFDN0MsUUFBUTtJQUNSLE1BQU07SUFDTixJQUFJO0lBRUksY0FBYztRQUN0QixxREFBcUQ7UUFDckQsc0RBQXNEO1FBQ3RELG1FQUFtRTtRQUNuRSxvRUFBb0U7UUFDcEUscUVBQXFFO1FBQ3JFLCtFQUErRTtJQUMvRSxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU07UUFDbkIsc0RBQXNEO1FBQ3RELHlEQUF5RDtRQUN6RCxrQ0FBa0M7UUFDOUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLFNBQVM7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQyxNQUFjO2FBQzdCLGVBQWUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNoQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUyxDQUFDLE1BQThDO1FBQzNELE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQztZQUM3QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtTQUFDLEVBQUU7WUFDcEIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsR0FBRztTQUNmLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7O3dGQW5IUSxvQkFBb0IsY0FXVCxPQUFPOzBFQVhsQixvQkFBb0IsV0FBcEIsb0JBQW9CLG1CQUZqQixNQUFNO3VGQUVULG9CQUFvQjtjQUhoQyxVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7O3NCQVlnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG4gICAgTWFya2VyUG9seSwgIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlLCBNYXJrZXJSZWN0IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnO1xuaW1wb3J0ICogYXMgT3BlblNlYWRyYWdvbiBmcm9tICdvcGVuc2VhZHJhZ29uJztcblxuXG4vLyBMb2FkIHR5cGUgZm9yIG9wZW5zZWFkcmFnb25cbmRlY2xhcmUgdHlwZSBUeXBlT3BlblNlYWRyYWdvbiA9IHR5cGVvZiBpbXBvcnQoJ29wZW5zZWFkcmFnb24nKTtcbmRlY2xhcmUgbGV0IE9wZW5TZWFkcmFnb25UOiBUeXBlT3BlblNlYWRyYWdvbjtcbi8vIExvYWQgdHlwZSBmb3IgZmFicmljXG5kZWNsYXJlIHR5cGUgVHlwZUZhYnJpYyA9IHR5cGVvZiBpbXBvcnQoJ2ZhYnJpYy9mYWJyaWMtaW1wbCcpO1xuZGVjbGFyZSBsZXQgZmFicmljVDogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyO1xuICAgIHByb3RlY3RlZCBjYW52YXM6IGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBERUJVRyA6Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5ZXJGYWN0b3J5KHR5cGU6IFBsYXllclR5cGUsIGlkOiBzdHJpbmcsIGxpbms6IHN0cmluZyk6IFByb21pc2U8VGhpc1R5cGU8YW55Pj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvblQoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VzOiB0eXBlID09PSAnZHppJyA/IGxpbmsgOiB7IHR5cGU6ICdpbWFnZScsIHVybDogbGluayB9LFxuICAgICAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiB7IHBpbmNoUm90YXRlOiBmYWxzZSB9IGFzIE9wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNob3dSb3RhdGlvbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0ZsaXBDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB6b29tUGVyQ2xpY2s6IDEsXG4gICAgICAgICAgICAgICAgaW1hZ2VMb2FkZXJMaW1pdDogMSxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5EdXJpbmdQYW46IHRydWUsXG4gICAgICAgICAgICAgICAgZGVidWdNb2RlOiB0aGlzLkRFQlVHLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0UmVzaXplOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcigncmVzaXplJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3RSZXNpemUubmV4dChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5waXBlKGRlYm91bmNlVGltZSgyMDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ib21lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgLy8gcHVibGljIHNldEhvbWUocG9pbnQ6IFBvaW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIC8vICAgY29uc3QgaG9tZVBvaW50ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhuZXcgT1NELlBvaW50KHRoaXMuaW1hZ2VXaWR0aCAvIDIsIHRoaXMuaW1hZ2VIZWlnaHQgLyAyKSk7XG4gICAgLy8gICBjb25zdCB3ID0gdGhpcy5pbWFnZVdpZHRoIC8gd2lkdGg7XG4gICAgLy8gICBjb25zdCBoID0gdGhpcy5pbWFnZUhlaWdodCAvIGhlaWdodDtcbiAgICAvLyAgIGNvbnN0IHpvb20gPSA0OyAvLyB3ID4gaCA/IGggOiB3O1xuICAgIC8vICAgY29uc29sZS5sb2coaG9tZVBvaW50LCB6b29tLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xuICAgIC8vICAgdGhpcy52aWV3ZXIudmlld3BvcnQuem9vbVRvKDEuMiwgaG9tZVBvaW50LCBmYWxzZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkge1xuICAgIC8vICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgLy8gICAgIGNvbnN0IHcgPSAyOyAvLyBkZXNpcmVkIHdpZHRoIGluIHBpeGVsc1xuICAgIC8vICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHcgLyB0aGlzLmNhbnZhcy5nZXRab29tKCk7XG4gICAgLy8gICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAvLyAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAvLyAgICAgICBpZiAob2JqZWN0LmdldCgncmFkaXVzJykpIHtcbiAgICAvLyAgICAgICAgIG9iamVjdC5zZXQoJ3JhZGl1cycsIDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCkpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICAvLyBjYW4gYWxzbyB1cGRhdGUgb3RoZXIgdGhpbmdzIGhlcmVcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgLy8gdGhpcy5pbWFnZVdpZHRoID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueDtcbiAgICAvLyB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueTtcbiAgICAvLyB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgLy8gdGhpcy5jb250YWluZXJIZWlnaHQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueTtcbiAgICAvLyB0aGlzLnpvb21Ub1pvb21MZXZlbFJhdGlvID0gdGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuaW1hZ2VXaWR0aDtcbiAgICAvLyB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdvSG9tZSgpIHtcbiAgICAvLyBpZiAoIXRoaXMuaG9tZSkgdGhpcy52aWV3ZXIudmlld3BvcnQuZ29Ib21lKGZhbHNlKTtcbiAgICAvLyBlbHNlIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kcyh0aGlzLmhvbWUsIGZhbHNlKTtcbiAgICAvLyB0aGlzLnNldEhvbWUobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWNULlBvbHlnb24oW1xuICAgICAgICAgICAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gICAgICAgICAgICB7IHg6IDI1MCwgeTogNTAgfSxcbiAgICAgICAgICAgIHsgeDogMjUwLCB5OiAxODAgfSxcbiAgICAgICAgICAgIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgICAgICAgICAgIHsgeDogMTUwLCB5OiA1MCB9XSwge1xuICAgICAgICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuICAgIH1cbiAgICAvKlxuICAgIG1pbiA9IDk5O1xuICAgIG1heCA9IDk5OTk5OTtcbiAgICBwb2x5Z29uTW9kZSA9IHRydWU7XG4gICAgcG9pbnRBcnJheSA9IFtdO1xuICAgIGxpbmVBcnJheSA9IFtdO1xuICAgIGFjdGl2ZUxpbmU7XG4gICAgYWN0aXZlU2hhcGUgO1xuXG4gICAgcHVibGljIGFkZERhbWFnZShkYW1hZ2UgOiBNYXJrZXJSb3VuZCB8IE1hcmtlclJlY3QgfCBNYXJrZXJQb2x5KSB7XG4gIGNvbnN0IHN0cm9rZVdpZHRoID0gMjtcbiAgbGV0IG9iajtcbiAgaWYgKCEoZGFtYWdlIGluc3RhbmNlb2YgTWFya2VyUG9seSkpIHtcbiAgb2JqID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgaWQ6IDEsXG4gIGxlZnQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWCAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHRvcDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWSAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWSAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHdpZHRoOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS53aWR0aCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS53aWR0aCAqIHRoaXMuc2NhbGUpLFxuICBoZWlnaHQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmhlaWdodCAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuaGVpZ2h0ICogdGhpcy5zY2FsZSksXG4gIHN0cm9rZVdpZHRoLFxuICBzdHJva2VVbmlmb3JtOiB0cnVlLFxuICBzdHJva2VEYXNoQXJyYXk6IHVuZGVmaW5lZCxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBjb3JuZXJTdHlsZTogJ2NpcmNsZScsXG5cbiAgLy8gQWRkIGRhdGEgb3B0aW9uIGZvciBzdHlsZSBzZXR0aW5nc1xuICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICBzdHJva2U6ICdyZWQnLFxuICBzZWxlY3RhYmxlOiB0cnVlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgY29ybmVyQ29sb3I6ICdyZWQnLFxuICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGxvY2tSb3RhdGlvbjogdHJ1ZSxcbiAgaGFzQ29udHJvbHM6IHRydWUsXG5cbiAgfSk7XG4gIH1cbiAgb2JqLnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuXG4gIG9iai5zZXRDb250cm9sc1Zpc2liaWxpdHkoeyBtdHI6IGZhbHNlIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQob2JqKTtcblxuICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gIHsgeDogMjUwLCB5OiA1MCB9LFxuICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICB9KTtcblxuICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG5cbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOmRvd24nLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKG9wdGlvbnMudGFyZ2V0ICYmIG9wdGlvbnMudGFyZ2V0LmlkID09PSB0aGlzLnBvaW50QXJyYXlbMF0uaWQpIHtcbiAgLy8gICAgICAgICB0aGlzLmdlbmVyYXRlUG9seWdvbih0aGlzLnBvaW50QXJyYXkpO1xuICAvLyAgICAgfVxuICAvLyAgICAgaWYgKHRoaXMucG9seWdvbk1vZGUpIHtcbiAgLy8gICAgICAgICB0aGlzLmFkZFBvaW50KG9wdGlvbnMpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOnVwJywgKG9wdGlvbnMpID0+IHtcbiAgLy9cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmICh0aGlzLmFjdGl2ZUxpbmUgJiYgdGhpcy5hY3RpdmVMaW5lLmNsYXNzID09PSAnbGluZScpIHtcbiAgLy8gICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlTGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xuICAvL1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKTtcbiAgLy8gICAgICAgICBwb2ludHNbdGhpcy5wb2ludEFycmF5Lmxlbmd0aF0gPSB7XG4gIC8vICAgICAgICAgICAgIHg6IHBvaW50ZXIueCxcbiAgLy8gICAgICAgICAgICAgeTogcG9pbnRlci55LFxuICAvLyAgICAgICAgIH07XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5zZXQoe1xuICAvLyAgICAgICAgICAgICBwb2ludHMsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vICAgICB9XG4gIC8vICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gfSk7XG5cbiAgLyEqICAgICAgICB0aGlzLmNhbnZhcy5vbignb2JqZWN0OnNjYWxpbmcnLCAoZSkgPT4ge1xuICBjb25zb2xlLmxvZygnc2NhbGxpbmcgJyk7XG4gIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICB9KTsgKiEvXG4gIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UG9seWdvbigpIHtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IHRydWU7XG4gIHRoaXMucG9pbnRBcnJheSA9IFtdO1xuICB0aGlzLmxpbmVBcnJheSA9IFtdO1xuICB0aGlzLmFjdGl2ZUxpbmU7XG4gIH1cblxuICBwcml2YXRlIGFkZFBvaW50KG9wdGlvbnMpIHtcbiAgY29uc29sZS5sb2cob3B0aW9ucyk7XG4gIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heCAtIHRoaXMubWluICsgMSkpICsgdGhpcy5taW47XG4gIGNvbnN0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyByYW5kb207XG4gIGNvbnN0IHBvcyA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgY29uc3QgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICByYWRpdXM6IDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCksXG4gIGZpbGw6ICcjZmZmZmZmJyxcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIGxlZnQ6IHBvcy54LFxuICB0b3A6IHBvcy55LFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBpZCxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBpZiAodGhpcy5wb2ludEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICBjaXJjbGUuc2V0KHtcbiAgZmlsbDogJ3JlZCcsXG4gIH0pO1xuICB9XG4gIGNvbnN0IHBvaW50c0EgPSBbcG9zLngsIHBvcy55LCBwb3MueCwgcG9zLnldO1xuICBjb25zdCBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKHBvaW50c0EsIHtcbiAgc3Ryb2tlV2lkdGg6IDIsXG4gIGZpbGw6ICcjOTk5OTk5JyxcbiAgc3Ryb2tlOiAnIzk5OTk5OScsXG4gIGNsYXNzOiAnbGluZScsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIGV2ZW50ZWQ6IGZhbHNlLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlU2hhcGUpO1xuICBpZiAodGhpcy5hY3RpdmVTaGFwZSkge1xuICAgICAgY29uc3QgcG9pbnRzQiA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKSBhcyBhbnlbXTtcbiAgICAgICAgICBwb2ludHNCLnB1c2goe1xuICAgICAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICAgICAgeTogcG9zLnksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcG9seWdvbkEgPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzQiwge1xuICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbkEpO1xuICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uQTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb2x5UG9pbnQgPSBbeyB4OiBwb3MueCwgeTogcG9zLnkgfV07XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2x5UG9pbnQsIHtcbiAgICAgICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb247XG4gICAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuICAgICAgICAgIH1cbiAgdGhpcy5hY3RpdmVMaW5lID0gbGluZTtcblxuICB0aGlzLnBvaW50QXJyYXkucHVzaChjaXJjbGUpO1xuICB0aGlzLmxpbmVBcnJheS5wdXNoKGxpbmUpO1xuXG4gIHRoaXMuY2FudmFzLmFkZChsaW5lKTtcbiAgdGhpcy5jYW52YXMuYWRkKGNpcmNsZSk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUG9seWdvbihwb2ludEFycmF5KSB7XG4gIGNvbnNvbGUubG9nKHBvaW50QXJyYXksIHRoaXMubGluZUFycmF5KTtcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIHBvaW50QXJyYXkuZm9yRWFjaCgocG9pbnQpID0+IHtcbiAgcG9pbnRzLnB1c2goe1xuICB4OiBwb2ludC5sZWZ0LFxuICB5OiBwb2ludC50b3AsXG4gIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZShwb2ludCk7XG4gIH0pO1xuICB0aGlzLmxpbmVBcnJheS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gIHRoaXMuY2FudmFzLnJlbW92ZShsaW5lKTtcbiAgfSk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKS5yZW1vdmUodGhpcy5hY3RpdmVMaW5lKTtcbiAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHMsIHtcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIG9wYWNpdHk6IDAuMyxcbiAgZmlsbDogJ3JlZCcsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG5cbiAgdGhpcy5hY3RpdmVMaW5lID0gbnVsbDtcbiAgdGhpcy5hY3RpdmVTaGFwZSA9IG51bGw7XG4gIHRoaXMucG9seWdvbk1vZGUgPSBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBkZWxldGUoKSB7XG4gIHRoaXMuY2FudmFzLmNsZWFyKCk7XG4gIHRoaXMuY2FudmFzLmRpc3Bvc2UoKTtcbiAgdGhpcy5jYW52YXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gIHRoaXMudmlld2VyLmRlc3Ryb3koKTtcbiAgfSovXG59Il19","start":4513,"end":23099}]},"code":"import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragonT({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n    calculateRatio() {\n        // this.imageWidth = this.viewer.source.dimensions.x;\n        // this.imageHeight = this.viewer.source.dimensions.y;\n        // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    async goHome() {\n        // if (!this.home) this.viewer.viewport.goHome(false);\n        // else this.viewer.viewport.fitBounds(this.home, false);\n        // this.setHome(null, null, null);\n        return this;\n    }\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    addDamage(damage) {\n        const poly = new fabricT.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }\n        ], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n        this.canvas.add(poly);\n    }\n}\nAnnotationOSDService.ɵfac = function AnnotationOSDService_Factory(t) { return new (t || AnnotationOSDService)(i0.ɵɵinject(Boolean)); };\nAnnotationOSDService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: AnnotationOSDService, factory: AnnotationOSDService.ɵfac, providedIn: 'root' });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root',\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [Boolean]\n            }] }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFpQjlDLE1BQU0sT0FBTyxvQkFBb0I7SUFXN0IsWUFBNkIsUUFBa0IsS0FBSztRQUNoRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sYUFBYSxDQUFDLElBQWdCLEVBQUUsRUFBVSxFQUFFLElBQVk7UUFDM0QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsY0FBYyxDQUFDO2dCQUN6QixFQUFFO2dCQUNGLFdBQVcsRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUNqRSxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQW1DO2dCQUM3RSxtQkFBbUIsRUFBRSxLQUFLO2dCQUMxQixxQkFBcUIsRUFBRSxLQUFLO2dCQUM1QixlQUFlLEVBQUUsS0FBSztnQkFDdEIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDbkIsa0JBQWtCLEVBQUUsSUFBSTtnQkFDeEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ3hCLENBQUMsQ0FBQztZQUVILE1BQU0sV0FBVyxHQUFpQixJQUFJLE9BQU8sRUFBRSxDQUFDO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFO2dCQUN0QyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO2dCQUM5QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLDJCQUEyQjtZQUMvQixDQUFDLENBQUMsQ0FBQztZQUdILElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3hDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELEVBQUU7SUFDRixnRUFBZ0U7SUFDaEUsc0lBQXNJO0lBQ3RJLHVDQUF1QztJQUN2Qyx5Q0FBeUM7SUFDekMsc0NBQXNDO0lBQ3RDLHFFQUFxRTtJQUNyRSx3REFBd0Q7SUFDeEQsSUFBSTtJQUVKLCtCQUErQjtJQUMvQix1QkFBdUI7SUFDdkIsOENBQThDO0lBQzlDLHFEQUFxRDtJQUNyRCx1REFBdUQ7SUFDdkQsMkNBQTJDO0lBQzNDLGdEQUFnRDtJQUNoRCxvQ0FBb0M7SUFDcEMsMkRBQTJEO0lBQzNELFVBQVU7SUFDViw2Q0FBNkM7SUFDN0MsUUFBUTtJQUNSLE1BQU07SUFDTixJQUFJO0lBRUksY0FBYztRQUN0QixxREFBcUQ7UUFDckQsc0RBQXNEO1FBQ3RELG1FQUFtRTtRQUNuRSxvRUFBb0U7UUFDcEUscUVBQXFFO1FBQ3JFLCtFQUErRTtJQUMvRSxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU07UUFDbkIsc0RBQXNEO1FBQ3RELHlEQUF5RDtRQUN6RCxrQ0FBa0M7UUFDOUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLFNBQVM7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQyxNQUFjO2FBQzdCLGVBQWUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNoQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUyxDQUFDLE1BQThDO1FBQzNELE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQztZQUM3QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtTQUFDLEVBQUU7WUFDcEIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsR0FBRztTQUNmLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7O3dGQW5IUSxvQkFBb0IsY0FXVCxPQUFPOzBFQVhsQixvQkFBb0IsV0FBcEIsb0JBQW9CLG1CQUZqQixNQUFNO3VGQUVULG9CQUFvQjtjQUhoQyxVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7O3NCQVlnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG4gICAgTWFya2VyUG9seSwgIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlLCBNYXJrZXJSZWN0IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnO1xuaW1wb3J0ICogYXMgT3BlblNlYWRyYWdvbiBmcm9tICdvcGVuc2VhZHJhZ29uJztcblxuXG4vLyBMb2FkIHR5cGUgZm9yIG9wZW5zZWFkcmFnb25cbmRlY2xhcmUgdHlwZSBUeXBlT3BlblNlYWRyYWdvbiA9IHR5cGVvZiBpbXBvcnQoJ29wZW5zZWFkcmFnb24nKTtcbmRlY2xhcmUgbGV0IE9wZW5TZWFkcmFnb25UOiBUeXBlT3BlblNlYWRyYWdvbjtcbi8vIExvYWQgdHlwZSBmb3IgZmFicmljXG5kZWNsYXJlIHR5cGUgVHlwZUZhYnJpYyA9IHR5cGVvZiBpbXBvcnQoJ2ZhYnJpYy9mYWJyaWMtaW1wbCcpO1xuZGVjbGFyZSBsZXQgZmFicmljVDogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyO1xuICAgIHByb3RlY3RlZCBjYW52YXM6IGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBERUJVRyA6Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5ZXJGYWN0b3J5KHR5cGU6IFBsYXllclR5cGUsIGlkOiBzdHJpbmcsIGxpbms6IHN0cmluZyk6IFByb21pc2U8VGhpc1R5cGU8YW55Pj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvblQoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VzOiB0eXBlID09PSAnZHppJyA/IGxpbmsgOiB7IHR5cGU6ICdpbWFnZScsIHVybDogbGluayB9LFxuICAgICAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiB7IHBpbmNoUm90YXRlOiBmYWxzZSB9IGFzIE9wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNob3dSb3RhdGlvbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0ZsaXBDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB6b29tUGVyQ2xpY2s6IDEsXG4gICAgICAgICAgICAgICAgaW1hZ2VMb2FkZXJMaW1pdDogMSxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5EdXJpbmdQYW46IHRydWUsXG4gICAgICAgICAgICAgICAgZGVidWdNb2RlOiB0aGlzLkRFQlVHLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0UmVzaXplOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcigncmVzaXplJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3RSZXNpemUubmV4dChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5waXBlKGRlYm91bmNlVGltZSgyMDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ib21lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgLy8gcHVibGljIHNldEhvbWUocG9pbnQ6IFBvaW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIC8vICAgY29uc3QgaG9tZVBvaW50ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhuZXcgT1NELlBvaW50KHRoaXMuaW1hZ2VXaWR0aCAvIDIsIHRoaXMuaW1hZ2VIZWlnaHQgLyAyKSk7XG4gICAgLy8gICBjb25zdCB3ID0gdGhpcy5pbWFnZVdpZHRoIC8gd2lkdGg7XG4gICAgLy8gICBjb25zdCBoID0gdGhpcy5pbWFnZUhlaWdodCAvIGhlaWdodDtcbiAgICAvLyAgIGNvbnN0IHpvb20gPSA0OyAvLyB3ID4gaCA/IGggOiB3O1xuICAgIC8vICAgY29uc29sZS5sb2coaG9tZVBvaW50LCB6b29tLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xuICAgIC8vICAgdGhpcy52aWV3ZXIudmlld3BvcnQuem9vbVRvKDEuMiwgaG9tZVBvaW50LCBmYWxzZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkge1xuICAgIC8vICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgLy8gICAgIGNvbnN0IHcgPSAyOyAvLyBkZXNpcmVkIHdpZHRoIGluIHBpeGVsc1xuICAgIC8vICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHcgLyB0aGlzLmNhbnZhcy5nZXRab29tKCk7XG4gICAgLy8gICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAvLyAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAvLyAgICAgICBpZiAob2JqZWN0LmdldCgncmFkaXVzJykpIHtcbiAgICAvLyAgICAgICAgIG9iamVjdC5zZXQoJ3JhZGl1cycsIDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCkpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICAvLyBjYW4gYWxzbyB1cGRhdGUgb3RoZXIgdGhpbmdzIGhlcmVcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgLy8gdGhpcy5pbWFnZVdpZHRoID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueDtcbiAgICAvLyB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueTtcbiAgICAvLyB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgLy8gdGhpcy5jb250YWluZXJIZWlnaHQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueTtcbiAgICAvLyB0aGlzLnpvb21Ub1pvb21MZXZlbFJhdGlvID0gdGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuaW1hZ2VXaWR0aDtcbiAgICAvLyB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdvSG9tZSgpIHtcbiAgICAvLyBpZiAoIXRoaXMuaG9tZSkgdGhpcy52aWV3ZXIudmlld3BvcnQuZ29Ib21lKGZhbHNlKTtcbiAgICAvLyBlbHNlIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kcyh0aGlzLmhvbWUsIGZhbHNlKTtcbiAgICAvLyB0aGlzLnNldEhvbWUobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWNULlBvbHlnb24oW1xuICAgICAgICAgICAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gICAgICAgICAgICB7IHg6IDI1MCwgeTogNTAgfSxcbiAgICAgICAgICAgIHsgeDogMjUwLCB5OiAxODAgfSxcbiAgICAgICAgICAgIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgICAgICAgICAgIHsgeDogMTUwLCB5OiA1MCB9XSwge1xuICAgICAgICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuICAgIH1cbiAgICAvKlxuICAgIG1pbiA9IDk5O1xuICAgIG1heCA9IDk5OTk5OTtcbiAgICBwb2x5Z29uTW9kZSA9IHRydWU7XG4gICAgcG9pbnRBcnJheSA9IFtdO1xuICAgIGxpbmVBcnJheSA9IFtdO1xuICAgIGFjdGl2ZUxpbmU7XG4gICAgYWN0aXZlU2hhcGUgO1xuXG4gICAgcHVibGljIGFkZERhbWFnZShkYW1hZ2UgOiBNYXJrZXJSb3VuZCB8IE1hcmtlclJlY3QgfCBNYXJrZXJQb2x5KSB7XG4gIGNvbnN0IHN0cm9rZVdpZHRoID0gMjtcbiAgbGV0IG9iajtcbiAgaWYgKCEoZGFtYWdlIGluc3RhbmNlb2YgTWFya2VyUG9seSkpIHtcbiAgb2JqID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgaWQ6IDEsXG4gIGxlZnQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWCAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHRvcDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWSAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWSAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHdpZHRoOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS53aWR0aCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS53aWR0aCAqIHRoaXMuc2NhbGUpLFxuICBoZWlnaHQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmhlaWdodCAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuaGVpZ2h0ICogdGhpcy5zY2FsZSksXG4gIHN0cm9rZVdpZHRoLFxuICBzdHJva2VVbmlmb3JtOiB0cnVlLFxuICBzdHJva2VEYXNoQXJyYXk6IHVuZGVmaW5lZCxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBjb3JuZXJTdHlsZTogJ2NpcmNsZScsXG5cbiAgLy8gQWRkIGRhdGEgb3B0aW9uIGZvciBzdHlsZSBzZXR0aW5nc1xuICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICBzdHJva2U6ICdyZWQnLFxuICBzZWxlY3RhYmxlOiB0cnVlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgY29ybmVyQ29sb3I6ICdyZWQnLFxuICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGxvY2tSb3RhdGlvbjogdHJ1ZSxcbiAgaGFzQ29udHJvbHM6IHRydWUsXG5cbiAgfSk7XG4gIH1cbiAgb2JqLnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuXG4gIG9iai5zZXRDb250cm9sc1Zpc2liaWxpdHkoeyBtdHI6IGZhbHNlIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQob2JqKTtcblxuICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gIHsgeDogMjUwLCB5OiA1MCB9LFxuICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICB9KTtcblxuICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG5cbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOmRvd24nLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKG9wdGlvbnMudGFyZ2V0ICYmIG9wdGlvbnMudGFyZ2V0LmlkID09PSB0aGlzLnBvaW50QXJyYXlbMF0uaWQpIHtcbiAgLy8gICAgICAgICB0aGlzLmdlbmVyYXRlUG9seWdvbih0aGlzLnBvaW50QXJyYXkpO1xuICAvLyAgICAgfVxuICAvLyAgICAgaWYgKHRoaXMucG9seWdvbk1vZGUpIHtcbiAgLy8gICAgICAgICB0aGlzLmFkZFBvaW50KG9wdGlvbnMpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOnVwJywgKG9wdGlvbnMpID0+IHtcbiAgLy9cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmICh0aGlzLmFjdGl2ZUxpbmUgJiYgdGhpcy5hY3RpdmVMaW5lLmNsYXNzID09PSAnbGluZScpIHtcbiAgLy8gICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlTGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xuICAvL1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKTtcbiAgLy8gICAgICAgICBwb2ludHNbdGhpcy5wb2ludEFycmF5Lmxlbmd0aF0gPSB7XG4gIC8vICAgICAgICAgICAgIHg6IHBvaW50ZXIueCxcbiAgLy8gICAgICAgICAgICAgeTogcG9pbnRlci55LFxuICAvLyAgICAgICAgIH07XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5zZXQoe1xuICAvLyAgICAgICAgICAgICBwb2ludHMsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vICAgICB9XG4gIC8vICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gfSk7XG5cbiAgLyEqICAgICAgICB0aGlzLmNhbnZhcy5vbignb2JqZWN0OnNjYWxpbmcnLCAoZSkgPT4ge1xuICBjb25zb2xlLmxvZygnc2NhbGxpbmcgJyk7XG4gIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICB9KTsgKiEvXG4gIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UG9seWdvbigpIHtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IHRydWU7XG4gIHRoaXMucG9pbnRBcnJheSA9IFtdO1xuICB0aGlzLmxpbmVBcnJheSA9IFtdO1xuICB0aGlzLmFjdGl2ZUxpbmU7XG4gIH1cblxuICBwcml2YXRlIGFkZFBvaW50KG9wdGlvbnMpIHtcbiAgY29uc29sZS5sb2cob3B0aW9ucyk7XG4gIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heCAtIHRoaXMubWluICsgMSkpICsgdGhpcy5taW47XG4gIGNvbnN0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyByYW5kb207XG4gIGNvbnN0IHBvcyA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgY29uc3QgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICByYWRpdXM6IDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCksXG4gIGZpbGw6ICcjZmZmZmZmJyxcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIGxlZnQ6IHBvcy54LFxuICB0b3A6IHBvcy55LFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBpZCxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBpZiAodGhpcy5wb2ludEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICBjaXJjbGUuc2V0KHtcbiAgZmlsbDogJ3JlZCcsXG4gIH0pO1xuICB9XG4gIGNvbnN0IHBvaW50c0EgPSBbcG9zLngsIHBvcy55LCBwb3MueCwgcG9zLnldO1xuICBjb25zdCBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKHBvaW50c0EsIHtcbiAgc3Ryb2tlV2lkdGg6IDIsXG4gIGZpbGw6ICcjOTk5OTk5JyxcbiAgc3Ryb2tlOiAnIzk5OTk5OScsXG4gIGNsYXNzOiAnbGluZScsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIGV2ZW50ZWQ6IGZhbHNlLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlU2hhcGUpO1xuICBpZiAodGhpcy5hY3RpdmVTaGFwZSkge1xuICAgICAgY29uc3QgcG9pbnRzQiA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKSBhcyBhbnlbXTtcbiAgICAgICAgICBwb2ludHNCLnB1c2goe1xuICAgICAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICAgICAgeTogcG9zLnksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcG9seWdvbkEgPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzQiwge1xuICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbkEpO1xuICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uQTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb2x5UG9pbnQgPSBbeyB4OiBwb3MueCwgeTogcG9zLnkgfV07XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2x5UG9pbnQsIHtcbiAgICAgICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb247XG4gICAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuICAgICAgICAgIH1cbiAgdGhpcy5hY3RpdmVMaW5lID0gbGluZTtcblxuICB0aGlzLnBvaW50QXJyYXkucHVzaChjaXJjbGUpO1xuICB0aGlzLmxpbmVBcnJheS5wdXNoKGxpbmUpO1xuXG4gIHRoaXMuY2FudmFzLmFkZChsaW5lKTtcbiAgdGhpcy5jYW52YXMuYWRkKGNpcmNsZSk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUG9seWdvbihwb2ludEFycmF5KSB7XG4gIGNvbnNvbGUubG9nKHBvaW50QXJyYXksIHRoaXMubGluZUFycmF5KTtcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIHBvaW50QXJyYXkuZm9yRWFjaCgocG9pbnQpID0+IHtcbiAgcG9pbnRzLnB1c2goe1xuICB4OiBwb2ludC5sZWZ0LFxuICB5OiBwb2ludC50b3AsXG4gIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZShwb2ludCk7XG4gIH0pO1xuICB0aGlzLmxpbmVBcnJheS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gIHRoaXMuY2FudmFzLnJlbW92ZShsaW5lKTtcbiAgfSk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKS5yZW1vdmUodGhpcy5hY3RpdmVMaW5lKTtcbiAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHMsIHtcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIG9wYWNpdHk6IDAuMyxcbiAgZmlsbDogJ3JlZCcsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG5cbiAgdGhpcy5hY3RpdmVMaW5lID0gbnVsbDtcbiAgdGhpcy5hY3RpdmVTaGFwZSA9IG51bGw7XG4gIHRoaXMucG9seWdvbk1vZGUgPSBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBkZWxldGUoKSB7XG4gIHRoaXMuY2FudmFzLmNsZWFyKCk7XG4gIHRoaXMuY2FudmFzLmRpc3Bvc2UoKTtcbiAgdGhpcy5jYW52YXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gIHRoaXMudmlld2VyLmRlc3Ryb3koKTtcbiAgfSovXG59Il19","customTransformCache":false,"dependencies":["@angular/core","rxjs","rxjs/operators"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragonT({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n    calculateRatio() {\n        // this.imageWidth = this.viewer.source.dimensions.x;\n        // this.imageHeight = this.viewer.source.dimensions.y;\n        // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    async goHome() {\n        // if (!this.home) this.viewer.viewport.goHome(false);\n        // else this.viewer.viewport.fitBounds(this.home, false);\n        // this.setHome(null, null, null);\n        return this;\n    }\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    addDamage(damage) {\n        const poly = new fabricT.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }\n        ], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n        this.canvas.add(poly);\n    }\n}\nAnnotationOSDService.ɵfac = function AnnotationOSDService_Factory(t) { return new (t || AnnotationOSDService)(i0.ɵɵinject(Boolean)); };\nAnnotationOSDService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: AnnotationOSDService, factory: AnnotationOSDService.ɵfac, providedIn: 'root' });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root',\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [Boolean]\n            }] }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFpQjlDLE1BQU0sT0FBTyxvQkFBb0I7SUFXN0IsWUFBNkIsUUFBa0IsS0FBSztRQUNoRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sYUFBYSxDQUFDLElBQWdCLEVBQUUsRUFBVSxFQUFFLElBQVk7UUFDM0QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsY0FBYyxDQUFDO2dCQUN6QixFQUFFO2dCQUNGLFdBQVcsRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUNqRSxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQW1DO2dCQUM3RSxtQkFBbUIsRUFBRSxLQUFLO2dCQUMxQixxQkFBcUIsRUFBRSxLQUFLO2dCQUM1QixlQUFlLEVBQUUsS0FBSztnQkFDdEIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDbkIsa0JBQWtCLEVBQUUsSUFBSTtnQkFDeEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ3hCLENBQUMsQ0FBQztZQUVILE1BQU0sV0FBVyxHQUFpQixJQUFJLE9BQU8sRUFBRSxDQUFDO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFO2dCQUN0QyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO2dCQUM5QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLDJCQUEyQjtZQUMvQixDQUFDLENBQUMsQ0FBQztZQUdILElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3hDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELEVBQUU7SUFDRixnRUFBZ0U7SUFDaEUsc0lBQXNJO0lBQ3RJLHVDQUF1QztJQUN2Qyx5Q0FBeUM7SUFDekMsc0NBQXNDO0lBQ3RDLHFFQUFxRTtJQUNyRSx3REFBd0Q7SUFDeEQsSUFBSTtJQUVKLCtCQUErQjtJQUMvQix1QkFBdUI7SUFDdkIsOENBQThDO0lBQzlDLHFEQUFxRDtJQUNyRCx1REFBdUQ7SUFDdkQsMkNBQTJDO0lBQzNDLGdEQUFnRDtJQUNoRCxvQ0FBb0M7SUFDcEMsMkRBQTJEO0lBQzNELFVBQVU7SUFDViw2Q0FBNkM7SUFDN0MsUUFBUTtJQUNSLE1BQU07SUFDTixJQUFJO0lBRUksY0FBYztRQUN0QixxREFBcUQ7UUFDckQsc0RBQXNEO1FBQ3RELG1FQUFtRTtRQUNuRSxvRUFBb0U7UUFDcEUscUVBQXFFO1FBQ3JFLCtFQUErRTtJQUMvRSxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU07UUFDbkIsc0RBQXNEO1FBQ3RELHlEQUF5RDtRQUN6RCxrQ0FBa0M7UUFDOUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLFNBQVM7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQyxNQUFjO2FBQzdCLGVBQWUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNoQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUyxDQUFDLE1BQThDO1FBQzNELE1BQU0sSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQztZQUM3QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtTQUFDLEVBQUU7WUFDcEIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsR0FBRztTQUNmLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7O3dGQW5IUSxvQkFBb0IsY0FXVCxPQUFPOzBFQVhsQixvQkFBb0IsV0FBcEIsb0JBQW9CLG1CQUZqQixNQUFNO3VGQUVULG9CQUFvQjtjQUhoQyxVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7O3NCQVlnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG4gICAgTWFya2VyUG9seSwgIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlLCBNYXJrZXJSZWN0IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnO1xuaW1wb3J0ICogYXMgT3BlblNlYWRyYWdvbiBmcm9tICdvcGVuc2VhZHJhZ29uJztcblxuXG4vLyBMb2FkIHR5cGUgZm9yIG9wZW5zZWFkcmFnb25cbmRlY2xhcmUgdHlwZSBUeXBlT3BlblNlYWRyYWdvbiA9IHR5cGVvZiBpbXBvcnQoJ29wZW5zZWFkcmFnb24nKTtcbmRlY2xhcmUgbGV0IE9wZW5TZWFkcmFnb25UOiBUeXBlT3BlblNlYWRyYWdvbjtcbi8vIExvYWQgdHlwZSBmb3IgZmFicmljXG5kZWNsYXJlIHR5cGUgVHlwZUZhYnJpYyA9IHR5cGVvZiBpbXBvcnQoJ2ZhYnJpYy9mYWJyaWMtaW1wbCcpO1xuZGVjbGFyZSBsZXQgZmFicmljVDogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyO1xuICAgIHByb3RlY3RlZCBjYW52YXM6IGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBERUJVRyA6Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5ZXJGYWN0b3J5KHR5cGU6IFBsYXllclR5cGUsIGlkOiBzdHJpbmcsIGxpbms6IHN0cmluZyk6IFByb21pc2U8VGhpc1R5cGU8YW55Pj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvblQoe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VzOiB0eXBlID09PSAnZHppJyA/IGxpbmsgOiB7IHR5cGU6ICdpbWFnZScsIHVybDogbGluayB9LFxuICAgICAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiB7IHBpbmNoUm90YXRlOiBmYWxzZSB9IGFzIE9wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNob3dSb3RhdGlvbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0ZsaXBDb250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB6b29tUGVyQ2xpY2s6IDEsXG4gICAgICAgICAgICAgICAgaW1hZ2VMb2FkZXJMaW1pdDogMSxcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5EdXJpbmdQYW46IHRydWUsXG4gICAgICAgICAgICAgICAgZGVidWdNb2RlOiB0aGlzLkRFQlVHLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29wZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdWJqZWN0UmVzaXplOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcigncmVzaXplJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3RSZXNpemUubmV4dChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5waXBlKGRlYm91bmNlVGltZSgyMDApKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZ29Ib21lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgLy8gcHVibGljIHNldEhvbWUocG9pbnQ6IFBvaW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIC8vICAgY29uc3QgaG9tZVBvaW50ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhuZXcgT1NELlBvaW50KHRoaXMuaW1hZ2VXaWR0aCAvIDIsIHRoaXMuaW1hZ2VIZWlnaHQgLyAyKSk7XG4gICAgLy8gICBjb25zdCB3ID0gdGhpcy5pbWFnZVdpZHRoIC8gd2lkdGg7XG4gICAgLy8gICBjb25zdCBoID0gdGhpcy5pbWFnZUhlaWdodCAvIGhlaWdodDtcbiAgICAvLyAgIGNvbnN0IHpvb20gPSA0OyAvLyB3ID4gaCA/IGggOiB3O1xuICAgIC8vICAgY29uc29sZS5sb2coaG9tZVBvaW50LCB6b29tLCB0aGlzLmltYWdlV2lkdGgsIHRoaXMuaW1hZ2VIZWlnaHQpO1xuICAgIC8vICAgdGhpcy52aWV3ZXIudmlld3BvcnQuem9vbVRvKDEuMiwgaG9tZVBvaW50LCBmYWxzZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkge1xuICAgIC8vICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgLy8gICAgIGNvbnN0IHcgPSAyOyAvLyBkZXNpcmVkIHdpZHRoIGluIHBpeGVsc1xuICAgIC8vICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHcgLyB0aGlzLmNhbnZhcy5nZXRab29tKCk7XG4gICAgLy8gICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAvLyAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAvLyAgICAgICBpZiAob2JqZWN0LmdldCgncmFkaXVzJykpIHtcbiAgICAvLyAgICAgICAgIG9iamVjdC5zZXQoJ3JhZGl1cycsIDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCkpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICAvLyBjYW4gYWxzbyB1cGRhdGUgb3RoZXIgdGhpbmdzIGhlcmVcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH1cblxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgLy8gdGhpcy5pbWFnZVdpZHRoID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueDtcbiAgICAvLyB0aGlzLmltYWdlSGVpZ2h0ID0gdGhpcy52aWV3ZXIuc291cmNlLmRpbWVuc2lvbnMueTtcbiAgICAvLyB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgLy8gdGhpcy5jb250YWluZXJIZWlnaHQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueTtcbiAgICAvLyB0aGlzLnpvb21Ub1pvb21MZXZlbFJhdGlvID0gdGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuaW1hZ2VXaWR0aDtcbiAgICAvLyB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdvSG9tZSgpIHtcbiAgICAvLyBpZiAoIXRoaXMuaG9tZSkgdGhpcy52aWV3ZXIudmlld3BvcnQuZ29Ib21lKGZhbHNlKTtcbiAgICAvLyBlbHNlIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kcyh0aGlzLmhvbWUsIGZhbHNlKTtcbiAgICAvLyB0aGlzLnNldEhvbWUobnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDYW52YXMoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRGFtYWdlKGRhbWFnZSA6IE1hcmtlclJvdW5kIHwgTWFya2VyUmVjdCB8IE1hcmtlclBvbHkpIHtcbiAgICAgICAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWNULlBvbHlnb24oW1xuICAgICAgICAgICAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gICAgICAgICAgICB7IHg6IDI1MCwgeTogNTAgfSxcbiAgICAgICAgICAgIHsgeDogMjUwLCB5OiAxODAgfSxcbiAgICAgICAgICAgIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgICAgICAgICAgIHsgeDogMTUwLCB5OiA1MCB9XSwge1xuICAgICAgICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuICAgIH1cbiAgICAvKlxuICAgIG1pbiA9IDk5O1xuICAgIG1heCA9IDk5OTk5OTtcbiAgICBwb2x5Z29uTW9kZSA9IHRydWU7XG4gICAgcG9pbnRBcnJheSA9IFtdO1xuICAgIGxpbmVBcnJheSA9IFtdO1xuICAgIGFjdGl2ZUxpbmU7XG4gICAgYWN0aXZlU2hhcGUgO1xuXG4gICAgcHVibGljIGFkZERhbWFnZShkYW1hZ2UgOiBNYXJrZXJSb3VuZCB8IE1hcmtlclJlY3QgfCBNYXJrZXJQb2x5KSB7XG4gIGNvbnN0IHN0cm9rZVdpZHRoID0gMjtcbiAgbGV0IG9iajtcbiAgaWYgKCEoZGFtYWdlIGluc3RhbmNlb2YgTWFya2VyUG9seSkpIHtcbiAgb2JqID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgaWQ6IDEsXG4gIGxlZnQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWCAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHRvcDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWSAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWSAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHdpZHRoOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS53aWR0aCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS53aWR0aCAqIHRoaXMuc2NhbGUpLFxuICBoZWlnaHQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmhlaWdodCAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuaGVpZ2h0ICogdGhpcy5zY2FsZSksXG4gIHN0cm9rZVdpZHRoLFxuICBzdHJva2VVbmlmb3JtOiB0cnVlLFxuICBzdHJva2VEYXNoQXJyYXk6IHVuZGVmaW5lZCxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBjb3JuZXJTdHlsZTogJ2NpcmNsZScsXG5cbiAgLy8gQWRkIGRhdGEgb3B0aW9uIGZvciBzdHlsZSBzZXR0aW5nc1xuICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICBzdHJva2U6ICdyZWQnLFxuICBzZWxlY3RhYmxlOiB0cnVlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgY29ybmVyQ29sb3I6ICdyZWQnLFxuICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGxvY2tSb3RhdGlvbjogdHJ1ZSxcbiAgaGFzQ29udHJvbHM6IHRydWUsXG5cbiAgfSk7XG4gIH1cbiAgb2JqLnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuXG4gIG9iai5zZXRDb250cm9sc1Zpc2liaWxpdHkoeyBtdHI6IGZhbHNlIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQob2JqKTtcblxuICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gIHsgeDogMjUwLCB5OiA1MCB9LFxuICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICB9KTtcblxuICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG5cbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOmRvd24nLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKG9wdGlvbnMudGFyZ2V0ICYmIG9wdGlvbnMudGFyZ2V0LmlkID09PSB0aGlzLnBvaW50QXJyYXlbMF0uaWQpIHtcbiAgLy8gICAgICAgICB0aGlzLmdlbmVyYXRlUG9seWdvbih0aGlzLnBvaW50QXJyYXkpO1xuICAvLyAgICAgfVxuICAvLyAgICAgaWYgKHRoaXMucG9seWdvbk1vZGUpIHtcbiAgLy8gICAgICAgICB0aGlzLmFkZFBvaW50KG9wdGlvbnMpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOnVwJywgKG9wdGlvbnMpID0+IHtcbiAgLy9cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmICh0aGlzLmFjdGl2ZUxpbmUgJiYgdGhpcy5hY3RpdmVMaW5lLmNsYXNzID09PSAnbGluZScpIHtcbiAgLy8gICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlTGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xuICAvL1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKTtcbiAgLy8gICAgICAgICBwb2ludHNbdGhpcy5wb2ludEFycmF5Lmxlbmd0aF0gPSB7XG4gIC8vICAgICAgICAgICAgIHg6IHBvaW50ZXIueCxcbiAgLy8gICAgICAgICAgICAgeTogcG9pbnRlci55LFxuICAvLyAgICAgICAgIH07XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5zZXQoe1xuICAvLyAgICAgICAgICAgICBwb2ludHMsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vICAgICB9XG4gIC8vICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gfSk7XG5cbiAgLyEqICAgICAgICB0aGlzLmNhbnZhcy5vbignb2JqZWN0OnNjYWxpbmcnLCAoZSkgPT4ge1xuICBjb25zb2xlLmxvZygnc2NhbGxpbmcgJyk7XG4gIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICB9KTsgKiEvXG4gIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UG9seWdvbigpIHtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IHRydWU7XG4gIHRoaXMucG9pbnRBcnJheSA9IFtdO1xuICB0aGlzLmxpbmVBcnJheSA9IFtdO1xuICB0aGlzLmFjdGl2ZUxpbmU7XG4gIH1cblxuICBwcml2YXRlIGFkZFBvaW50KG9wdGlvbnMpIHtcbiAgY29uc29sZS5sb2cob3B0aW9ucyk7XG4gIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heCAtIHRoaXMubWluICsgMSkpICsgdGhpcy5taW47XG4gIGNvbnN0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyByYW5kb207XG4gIGNvbnN0IHBvcyA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgY29uc3QgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICByYWRpdXM6IDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCksXG4gIGZpbGw6ICcjZmZmZmZmJyxcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIGxlZnQ6IHBvcy54LFxuICB0b3A6IHBvcy55LFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBpZCxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBpZiAodGhpcy5wb2ludEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICBjaXJjbGUuc2V0KHtcbiAgZmlsbDogJ3JlZCcsXG4gIH0pO1xuICB9XG4gIGNvbnN0IHBvaW50c0EgPSBbcG9zLngsIHBvcy55LCBwb3MueCwgcG9zLnldO1xuICBjb25zdCBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKHBvaW50c0EsIHtcbiAgc3Ryb2tlV2lkdGg6IDIsXG4gIGZpbGw6ICcjOTk5OTk5JyxcbiAgc3Ryb2tlOiAnIzk5OTk5OScsXG4gIGNsYXNzOiAnbGluZScsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIGV2ZW50ZWQ6IGZhbHNlLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlU2hhcGUpO1xuICBpZiAodGhpcy5hY3RpdmVTaGFwZSkge1xuICAgICAgY29uc3QgcG9pbnRzQiA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKSBhcyBhbnlbXTtcbiAgICAgICAgICBwb2ludHNCLnB1c2goe1xuICAgICAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICAgICAgeTogcG9zLnksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcG9seWdvbkEgPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzQiwge1xuICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbkEpO1xuICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uQTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb2x5UG9pbnQgPSBbeyB4OiBwb3MueCwgeTogcG9zLnkgfV07XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2x5UG9pbnQsIHtcbiAgICAgICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb247XG4gICAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuICAgICAgICAgIH1cbiAgdGhpcy5hY3RpdmVMaW5lID0gbGluZTtcblxuICB0aGlzLnBvaW50QXJyYXkucHVzaChjaXJjbGUpO1xuICB0aGlzLmxpbmVBcnJheS5wdXNoKGxpbmUpO1xuXG4gIHRoaXMuY2FudmFzLmFkZChsaW5lKTtcbiAgdGhpcy5jYW52YXMuYWRkKGNpcmNsZSk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUG9seWdvbihwb2ludEFycmF5KSB7XG4gIGNvbnNvbGUubG9nKHBvaW50QXJyYXksIHRoaXMubGluZUFycmF5KTtcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIHBvaW50QXJyYXkuZm9yRWFjaCgocG9pbnQpID0+IHtcbiAgcG9pbnRzLnB1c2goe1xuICB4OiBwb2ludC5sZWZ0LFxuICB5OiBwb2ludC50b3AsXG4gIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZShwb2ludCk7XG4gIH0pO1xuICB0aGlzLmxpbmVBcnJheS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gIHRoaXMuY2FudmFzLnJlbW92ZShsaW5lKTtcbiAgfSk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKS5yZW1vdmUodGhpcy5hY3RpdmVMaW5lKTtcbiAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHMsIHtcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIG9wYWNpdHk6IDAuMyxcbiAgZmlsbDogJ3JlZCcsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG5cbiAgdGhpcy5hY3RpdmVMaW5lID0gbnVsbDtcbiAgdGhpcy5hY3RpdmVTaGFwZSA9IG51bGw7XG4gIHRoaXMucG9seWdvbk1vZGUgPSBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBkZWxldGUoKSB7XG4gIHRoaXMuY2FudmFzLmNsZWFyKCk7XG4gIHRoaXMuY2FudmFzLmRpc3Bvc2UoKTtcbiAgdGhpcy5jYW52YXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gIHRoaXMudmlld2VyLmRlc3Ryb3koKTtcbiAgfSovXG59Il19","originalSourcemap":{"version":3,"file":"annotation-osd.service.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[15,0,0,15],[17,0,0,17],[27,0,0,27],[29,0,0,29],[35,0,0,35],[50,0,0,50],[51,0,0,51]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[16,0,1,16],[18,0,1,18],[24,0,1,24],[30,0,1,30],[31,0,1,31]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,23],[29,0,2,29],[45,0,2,45],[46,0,2,46]],[],[[0,0,19,0],[6,0,19,6],[13,0,19,13],[33,0,19,33]],[[4,0,30,4],[16,0,30,33],[24,0,30,51],[29,0,30,56]],[[8,0,31,8],[12,0,31,12],[13,0,31,13],[18,0,31,18],[21,0,31,21],[26,0,31,26],[27,0,31,27]],[[4,0,32,4],[5,0,32,5]],[[4,0,34,11],[17,0,34,24],[18,0,34,25],[22,0,34,41],[24,0,34,43],[26,0,34,53],[28,0,34,55],[32,0,34,67]],[[8,0,35,8],[15,0,35,15],[19,0,35,19],[26,0,35,26],[27,0,35,27],[28,0,35,28],[35,0,35,35],[37,0,35,37],[39,0,35,39]],[[12,0,36,12],[16,0,36,16],[17,0,36,17],[23,0,36,23],[26,0,36,26],[40,0,36,40],[41,0,36,41]],[[16,0,37,16],[18,0,37,18]],[[16,0,38,16],[27,0,38,27],[29,0,38,29],[33,0,38,33],[38,0,38,38],[43,0,38,43],[44,0,38,44],[45,0,38,45],[46,0,38,46],[50,0,38,50],[51,0,38,51],[52,0,38,52],[53,0,38,53],[55,0,38,55],[59,0,38,59],[61,0,38,61],[68,0,38,68],[70,0,38,70],[73,0,38,73],[75,0,38,75],[79,0,38,79],[81,0,38,81]],[[16,0,39,16],[36,0,39,36],[38,0,39,38],[40,0,39,40],[51,0,39,51],[53,0,39,53],[58,0,39,58],[60,0,39,93]],[[16,0,40,16],[35,0,40,35],[37,0,40,37],[42,0,40,42]],[[16,0,41,16],[37,0,41,37],[39,0,41,39],[44,0,41,44]],[[16,0,42,16],[31,0,42,31],[33,0,42,33],[38,0,42,38]],[[16,0,43,16],[28,0,43,28],[30,0,43,30],[31,0,43,31]],[[16,0,44,16],[32,0,44,32],[34,0,44,34],[35,0,44,35]],[[16,0,45,16],[34,0,45,34],[36,0,45,36],[40,0,45,40]],[[16,0,46,16],[25,0,46,25],[27,0,46,27],[31,0,46,31],[32,0,46,32],[37,0,46,37]],[[13,0,47,13],[14,0,47,14],[15,0,47,15]],[[12,0,49,12],[18,0,49,18],[29,0,49,29],[32,0,49,46],[36,0,49,50],[43,0,49,57],[45,0,49,59],[46,0,49,60]],[[12,0,50,12],[16,0,50,16],[17,0,50,17],[23,0,50,23],[24,0,50,24],[34,0,50,34],[35,0,50,35],[41,0,50,41],[43,0,50,43],[44,0,50,44],[45,0,50,50],[47,0,50,52],[49,0,50,54]],[[16,0,51,16],[27,0,51,27],[28,0,51,28],[32,0,51,32],[33,0,51,33],[34,0,51,34],[35,0,51,35],[36,0,51,36]],[[12,0,52,12],[13,0,52,13],[14,0,52,14],[15,0,52,15]],[[12,0,53,12],[23,0,53,23],[24,0,53,24],[28,0,53,28],[29,0,53,29],[41,0,53,41],[42,0,53,42],[44,0,53,44],[45,0,53,45],[46,0,53,46],[47,0,53,47],[56,0,53,56],[57,0,53,57],[60,0,53,60],[62,0,53,62]],[[16,0,54,16],[20,0,54,20],[21,0,54,21],[35,0,54,35],[37,0,54,37],[38,0,54,38]],[[16,0,55,16],[43,0,55,43]],[[12,0,56,12],[13,0,56,13],[14,0,56,14],[15,0,56,15]],[[12,0,59,12],[16,0,59,16],[17,0,59,17],[23,0,59,23],[24,0,59,24],[38,0,59,38],[39,0,59,39],[45,0,59,45],[47,0,59,47],[50,0,59,50],[52,0,59,52]],[[16,0,60,16],[23,0,60,23],[24,0,60,24],[27,0,60,27],[28,0,60,28],[34,0,60,34],[35,0,60,35],[36,0,60,36]],[[16,0,61,16],[20,0,61,20],[21,0,61,21],[35,0,61,35],[37,0,61,37],[38,0,61,38]],[[16,0,62,16],[23,0,62,23],[24,0,62,24],[28,0,62,28],[29,0,62,29],[30,0,62,30]],[[12,0,63,12],[13,0,63,13],[14,0,63,14],[15,0,63,15]],[[12,0,65,12],[18,0,65,18],[31,0,65,31],[34,0,65,48],[38,0,65,52],[45,0,65,59],[47,0,65,61],[48,0,65,62]],[[12,0,66,12],[16,0,66,16],[17,0,66,17],[23,0,66,23],[24,0,66,24],[34,0,66,34],[35,0,66,35],[43,0,66,43],[45,0,66,45],[46,0,66,46],[47,0,66,52],[49,0,66,54],[51,0,66,56]],[[16,0,67,16],[29,0,67,29],[30,0,67,30],[34,0,67,34],[35,0,67,35],[36,0,67,36],[37,0,67,37],[38,0,67,38]],[[12,0,68,12],[13,0,68,13],[14,0,68,14],[15,0,68,15]],[[12,0,69,12],[25,0,69,25],[26,0,69,26],[30,0,69,30],[31,0,69,31],[43,0,69,43],[44,0,69,44],[47,0,69,47],[48,0,69,48],[49,0,69,49],[50,0,69,50],[59,0,69,59],[60,0,69,60],[63,0,69,63],[65,0,69,65]],[[16,0,70,16],[20,0,70,20],[21,0,70,21],[27,0,70,27],[29,0,70,29],[30,0,70,30]],[[12,0,71,12],[13,0,71,13],[14,0,71,14],[15,0,71,15]],[[8,0,72,8],[9,0,72,9],[10,0,72,10],[11,0,72,11]],[[4,0,73,4],[5,0,73,5]],[[4,0,74,4],[6,0,74,6]],[[4,0,75,4],[68,0,75,68]],[[4,0,76,4],[138,0,76,138]],[[4,0,77,4],[43,0,77,43]],[[4,0,78,4],[45,0,78,45]],[[4,0,79,4],[42,0,79,42]],[[4,0,80,4],[73,0,80,73]],[[4,0,81,4],[60,0,81,60]],[[4,0,82,4],[8,0,82,8]],[[4,0,84,4],[35,0,84,35]],[[4,0,85,4],[27,0,85,27]],[[4,0,86,4],[50,0,86,50]],[[4,0,87,4],[57,0,87,57]],[[4,0,88,4],[59,0,88,59]],[[4,0,89,4],[47,0,89,47]],[[4,0,90,4],[52,0,90,52]],[[4,0,91,4],[40,0,91,40]],[[4,0,92,4],[63,0,92,63]],[[4,0,93,4],[14,0,93,14]],[[4,0,94,4],[49,0,94,49]],[[4,0,95,4],[12,0,95,12]],[[4,0,96,4],[10,0,96,10]],[[4,0,97,4],[8,0,97,8]],[[4,0,99,12],[18,0,99,26]],[[8,0,100,4],[61,0,100,57]],[[8,0,101,4],[62,0,101,58]],[[8,0,102,4],[75,0,102,71]],[[8,0,103,4],[76,0,103,72]],[[8,0,104,4],[77,0,104,73]],[[8,0,105,4],[87,0,105,83]],[[4,0,106,4],[5,0,106,5]],[[4,0,108,11],[9,0,108,16],[10,0,108,17],[16,0,108,23]],[[8,0,109,4],[62,0,109,58]],[[8,0,110,4],[65,0,110,61]],[[8,0,111,4],[42,0,111,38]],[[8,0,112,8],[15,0,112,15],[19,0,112,19],[20,0,112,20]],[[4,0,113,4],[5,0,113,5]],[[4,0,115,11],[13,0,115,20]],[[8,0,116,8],[12,0,116,12],[13,0,116,13],[19,0,116,19],[22,0,116,23],[26,0,116,27],[27,0,116,28],[33,0,116,42]],[[13,0,117,13],[28,0,117,28],[29,0,117,29],[31,0,117,31],[36,0,117,36],[38,0,117,38],[42,0,117,42],[44,0,117,44],[45,0,117,45]],[[13,0,118,13],[25,0,118,25],[27,0,118,27],[28,0,118,28]],[[8,0,119,8],[15,0,119,15],[19,0,119,19],[20,0,119,20]],[[4,0,120,4],[5,0,120,5]],[[4,0,122,11],[13,0,122,20],[14,0,122,21],[20,0,122,67]],[[8,0,123,8],[14,0,123,14],[18,0,123,18],[21,0,123,21],[25,0,123,25],[32,0,123,32],[33,0,123,33],[40,0,123,40],[41,0,123,41]],[[12,0,124,12],[14,0,124,14],[15,0,124,15],[17,0,124,17],[20,0,124,20],[22,0,124,22],[23,0,124,23],[25,0,124,25],[27,0,124,27],[29,0,124,29]],[[12,0,125,12],[14,0,125,14],[15,0,125,15],[17,0,125,17],[20,0,125,20],[22,0,125,22],[23,0,125,23],[25,0,125,25],[27,0,125,27],[29,0,125,29]],[[12,0,126,12],[14,0,126,14],[15,0,126,15],[17,0,126,17],[20,0,126,20],[22,0,126,22],[23,0,126,23],[25,0,126,25],[28,0,126,28],[30,0,126,30]],[[12,0,127,12],[14,0,127,14],[15,0,127,15],[17,0,127,17],[20,0,127,20],[22,0,127,22],[23,0,127,23],[25,0,127,25],[28,0,127,28],[30,0,127,30]],[[12,0,128,12],[14,0,128,14],[15,0,128,15],[17,0,128,17],[20,0,128,20],[22,0,128,22],[23,0,128,23],[25,0,128,25],[27,0,128,27],[29,0,128,29]],[[9,0,128,30],[11,0,128,32]],[[12,0,129,12],[16,0,129,16],[18,0,129,18],[25,0,129,25]],[[12,0,130,12],[19,0,130,19],[21,0,130,21],[24,0,130,24]],[[9,0,131,9],[10,0,131,10],[11,0,131,11]],[[8,0,133,8],[12,0,133,12],[13,0,133,13],[19,0,133,19],[20,0,133,20],[23,0,133,23],[24,0,133,24],[28,0,133,28],[29,0,133,29],[30,0,133,30]],[[4,0,134,4],[5,0,134,5]],[],[[88,0,19,13],[108,0,19,33],[122,0,30,24],[129,0,30,31]],[[74,0,19,13],[94,0,19,33],[105,0,19,13],[125,0,19,33],[144,0,17,16],[150,0,17,22]],[[87,0,19,13],[107,0,19,33]],[[14,0,16,1],[24,0,16,11]],[[15,0,16,12]],[[16,0,17,4],[26,0,17,14],[28,0,17,16],[34,0,17,22]],[[13,0,18,1]],[],[[22,0,30,17],[28,0,30,23]],[[23,0,30,24],[30,0,30,31]]],"sourcesContent":["import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport {\n    MarkerPoly,  MarkerRound, PlayerType, MarkerRect } from './annotation-osd.model';\nimport { fabric } from 'fabric';\nimport * as OpenSeadragon from 'openseadragon';\n\n\n// Load type for openseadragon\ndeclare type TypeOpenSeadragon = typeof import('openseadragon');\ndeclare let OpenSeadragonT: TypeOpenSeadragon;\n// Load type for fabric\ndeclare type TypeFabric = typeof import('fabric/fabric-impl');\ndeclare let fabricT: TypeFabric;\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AnnotationOSDService {\n    protected viewer: OpenSeadragon.Viewer;\n    protected canvas: fabric.Canvas;\n    protected imageWidth: number;\n    protected imageHeight: number;\n    protected containerWidth: number;\n    protected containerHeight: number;\n    protected zoomToZoomLevelRatio: number;\n    protected scale: number;\n    private readonly DEBUG :boolean;\n\n    constructor(@Inject(Boolean) debug : boolean = false) {\n        this.DEBUG = debug;\n    }\n\n    public playerFactory(type: PlayerType, id: string, link: string): Promise<ThisType<any>> {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragonT({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false } as OpenSeadragon.GestureSettings,\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n\n            const subjectZoom: Subject<any> = new Subject();\n            this.viewer.addHandler('zoom', (e: any) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n\n\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n\n            const subjectResize: Subject<any> = new Subject();\n            this.viewer.addHandler('resize', (e: any) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n\n    private calculateRatio() {\n    // this.imageWidth = this.viewer.source.dimensions.x;\n    // this.imageHeight = this.viewer.source.dimensions.y;\n    // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n    // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n    // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n    // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n\n    public async goHome() {\n    // if (!this.home) this.viewer.viewport.goHome(false);\n    // else this.viewer.viewport.fitBounds(this.home, false);\n    // this.setHome(null, null, null);\n        return this;\n    }\n\n    public addCanvas() {\n        this.canvas = (this.viewer as any)\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n        const poly = new fabricT.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n\n        this.canvas.add(poly);\n    }\n    /*\n    min = 99;\n    max = 999999;\n    polygonMode = true;\n    pointArray = [];\n    lineArray = [];\n    activeLine;\n    activeShape ;\n\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n  const strokeWidth = 2;\n  let obj;\n  if (!(damage instanceof MarkerPoly)) {\n  obj = new fabric.Rect({\n  id: 1,\n  left: (damage.unit === 'percent' ? damage.centerX * (this.imageWidth * this.scale)\n  : damage.centerX * this.scale) + strokeWidth,\n  top: (damage.unit === 'percent' ? damage.centerY * (this.imageHeight * this.scale)\n  : damage.centerY * this.scale) + strokeWidth,\n  width: (damage.unit === 'percent' ? damage.width * (this.imageWidth * this.scale)\n  : damage.width * this.scale),\n  height: (damage.unit === 'percent' ? damage.height * (this.imageHeight * this.scale)\n  : damage.height * this.scale),\n  strokeWidth,\n  strokeUniform: true,\n  strokeDashArray: undefined,\n  originX: 'center',\n  originY: 'center',\n  cornerStyle: 'circle',\n\n  // Add data option for style settings\n  fill: 'transparent',\n  stroke: 'red',\n  selectable: true,\n  hasBorders: false,\n  cornerColor: 'red',\n  transparentCorners: false,\n  draggable: true,\n  lockRotation: true,\n  hasControls: true,\n\n  });\n  }\n  obj.set('strokeUniform', true);\n\n  obj.setControlsVisibility({ mtr: false });\n  this.canvas.add(obj);\n\n  const poly = new fabric.Polygon([\n  { x: 200, y: 10 },\n  { x: 250, y: 50 },\n  { x: 250, y: 180 },\n  { x: 150, y: 180 },\n  { x: 150, y: 50 }], {\n      fill: 'green',\n          opacity: 0.3,\n          });\n\n  this.canvas.add(poly);\n\n  // this.canvas.on('mouse:down', (options) => {\n  //     if (options.target && options.target.id === this.pointArray[0].id) {\n  //         this.generatePolygon(this.pointArray);\n  //     }\n  //     if (this.polygonMode) {\n  //         this.addPoint(options);\n  //     }\n  // });\n  // this.canvas.on('mouse:up', (options) => {\n  //\n  // });\n  // this.canvas.on('mouse:move', (options) => {\n  //     if (this.activeLine && this.activeLine.class === 'line') {\n  //         const pointer = this.canvas.getPointer(options.e);\n  //         this.activeLine.set({ x2: pointer.x, y2: pointer.y });\n  //\n  //         const points = this.activeShape.get('points');\n  //         points[this.pointArray.length] = {\n  //             x: pointer.x,\n  //             y: pointer.y,\n  //         };\n  //         this.activeShape.set({\n  //             points,\n  //         });\n  //         this.canvas.renderAll();\n  //     }\n  //     this.canvas.renderAll();\n  // });\n\n  /!*        this.canvas.on('object:scaling', (e) => {\n  console.log('scalling ');\n  this.resetStrokeWidth();\n  }); *!/\n  return this;\n  }\n\n  private drawPolygon() {\n  this.polygonMode = true;\n  this.pointArray = [];\n  this.lineArray = [];\n  this.activeLine;\n  }\n\n  private addPoint(options) {\n  console.log(options);\n  const random = Math.floor(Math.random() * (this.max - this.min + 1)) + this.min;\n  const id = new Date().getTime() + random;\n  const pos = this.canvas.getPointer(options.e);\n  const circle = new fabric.Circle({\n  radius: 5 / this.canvas.getZoom(),\n  fill: '#ffffff',\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  left: pos.x,\n  top: pos.y,\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  originX: 'center',\n  originY: 'center',\n  id,\n  objectCaching: false,\n  });\n  if (this.pointArray.length === 0) {\n  circle.set({\n  fill: 'red',\n  });\n  }\n  const pointsA = [pos.x, pos.y, pos.x, pos.y];\n  const line = new fabric.Line(pointsA, {\n  strokeWidth: 2,\n  fill: '#999999',\n  stroke: '#999999',\n  class: 'line',\n  originX: 'center',\n  originY: 'center',\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  evented: false,\n  objectCaching: false,\n  });\n  console.log(this.activeShape);\n  if (this.activeShape) {\n      const pointsB = this.activeShape.get('points') as any[];\n          pointsB.push({\n              x: pos.x,\n              y: pos.y,\n          });\n          const polygonA = new fabric.Polygon(pointsB, {\n      stroke: '#333333',\n      strokeWidth: 1,\n      fill: '#cccccc',\n      opacity: 0.3,\n      selectable: false,\n      hasBorders: false,\n      hasControls: false,\n      evented: false,\n      objectCaching: false,\n    });\n    this.canvas.remove(this.activeShape);\n    this.canvas.add(polygonA);\n    this.activeShape = polygonA;\n    this.canvas.renderAll();\n  } else {\n    const polyPoint = [{ x: pos.x, y: pos.y }];\n    const polygon = new fabric.Polygon(polyPoint, {\n          stroke: '#333333',\n                  strokeWidth: 1,\n                  fill: '#cccccc',\n                  opacity: 0.3,\n                  selectable: false,\n                  hasBorders: false,\n                  hasControls: false,\n                  evented: false,\n                  objectCaching: false,\n          });\n          this.activeShape = polygon;\n          this.canvas.add(polygon);\n          }\n  this.activeLine = line;\n\n  this.pointArray.push(circle);\n  this.lineArray.push(line);\n\n  this.canvas.add(line);\n  this.canvas.add(circle);\n  }\n\n  private generatePolygon(pointArray) {\n  console.log(pointArray, this.lineArray);\n  const points = [];\n  pointArray.forEach((point) => {\n  points.push({\n  x: point.left,\n  y: point.top,\n  });\n    this.canvas.remove(point);\n  });\n  this.lineArray.forEach((line) => {\n  this.canvas.remove(line);\n  });\n  this.canvas.remove(this.activeShape).remove(this.activeLine);\n  const polygon = new fabric.Polygon(points, {\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  opacity: 0.3,\n  fill: 'red',\n  hasBorders: false,\n  hasControls: false,\n  });\n  this.canvas.add(polygon);\n\n  this.activeLine = null;\n  this.activeShape = null;\n  this.polygonMode = false;\n  }\n\n  public delete() {\n  this.canvas.clear();\n  this.canvas.dispose();\n  this.canvas.removeListeners();\n  this.viewer.destroy();\n  }*/\n}"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2110,"body":[{"type":"ImportDeclaration","start":0,"end":42,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"Component"},"local":{"type":"Identifier","start":9,"end":18,"name":"Component"}}],"source":{"type":"Literal","start":26,"end":41,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":43,"end":79,"specifiers":[{"type":"ImportNamespaceSpecifier","start":50,"end":57,"local":{"type":"Identifier","start":55,"end":57,"name":"i0"}}],"source":{"type":"Literal","start":63,"end":78,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":80,"end":164,"declaration":{"type":"ClassDeclaration","start":87,"end":164,"id":{"type":"Identifier","start":93,"end":115,"name":"AnnotationOSDComponent"},"superClass":null,"body":{"type":"ClassBody","start":116,"end":164,"body":[{"type":"MethodDefinition","start":122,"end":139,"static":false,"computed":false,"key":{"type":"Identifier","start":122,"end":133,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":133,"end":139,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":136,"end":139,"body":[]}}},{"type":"MethodDefinition","start":144,"end":162,"static":false,"computed":false,"key":{"type":"Identifier","start":144,"end":152,"name":"ngOnInit"},"kind":"method","value":{"type":"FunctionExpression","start":152,"end":162,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":155,"end":162,"body":[]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":165,"end":286,"expression":{"type":"AssignmentExpression","start":165,"end":285,"operator":"=","left":{"type":"MemberExpression","start":165,"end":192,"object":{"type":"Identifier","start":165,"end":187,"name":"AnnotationOSDComponent"},"property":{"type":"Identifier","start":188,"end":192,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":195,"end":285,"id":{"type":"Identifier","start":204,"end":234,"name":"AnnotationOSDComponent_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":235,"end":236,"name":"t"}],"body":{"type":"BlockStatement","start":238,"end":285,"body":[{"type":"ReturnStatement","start":240,"end":283,"argument":{"type":"NewExpression","start":247,"end":282,"callee":{"type":"LogicalExpression","start":252,"end":279,"left":{"type":"Identifier","start":252,"end":253,"name":"t"},"operator":"||","right":{"type":"Identifier","start":257,"end":279,"name":"AnnotationOSDComponent"}},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":287,"end":655,"expression":{"type":"AssignmentExpression","start":287,"end":654,"operator":"=","left":{"type":"MemberExpression","start":287,"end":314,"object":{"type":"Identifier","start":287,"end":309,"name":"AnnotationOSDComponent"},"property":{"type":"Identifier","start":310,"end":314,"name":"ɵcmp"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":331,"end":654,"callee":{"type":"MemberExpression","start":331,"end":351,"object":{"type":"Identifier","start":331,"end":333,"name":"i0"},"property":{"type":"Identifier","start":334,"end":351,"name":"ɵɵdefineComponent"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":352,"end":653,"properties":[{"type":"Property","start":354,"end":382,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":354,"end":358,"name":"type"},"value":{"type":"Identifier","start":360,"end":382,"name":"AnnotationOSDComponent"},"kind":"init"},{"type":"Property","start":384,"end":418,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":384,"end":393,"name":"selectors"},"value":{"type":"ArrayExpression","start":395,"end":418,"elements":[{"type":"ArrayExpression","start":396,"end":417,"elements":[{"type":"Literal","start":397,"end":416,"value":"lib-AnnotationOSD","raw":"\"lib-AnnotationOSD\""}]}]},"kind":"init"},{"type":"Property","start":420,"end":428,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":420,"end":425,"name":"decls"},"value":{"type":"Literal","start":427,"end":428,"value":2,"raw":"2"},"kind":"init"},{"type":"Property","start":430,"end":437,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":430,"end":434,"name":"vars"},"value":{"type":"Literal","start":436,"end":437,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":439,"end":633,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":439,"end":447,"name":"template"},"value":{"type":"FunctionExpression","start":449,"end":633,"id":{"type":"Identifier","start":458,"end":489,"name":"AnnotationOSDComponent_Template"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":490,"end":492,"name":"rf"},{"type":"Identifier","start":494,"end":497,"name":"ctx"}],"body":{"type":"BlockStatement","start":499,"end":633,"body":[{"type":"IfStatement","start":501,"end":631,"test":{"type":"BinaryExpression","start":505,"end":511,"left":{"type":"Identifier","start":505,"end":507,"name":"rf"},"operator":"&","right":{"type":"Literal","start":510,"end":511,"value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","start":513,"end":631,"body":[{"type":"ExpressionStatement","start":523,"end":549,"expression":{"type":"CallExpression","start":523,"end":548,"callee":{"type":"MemberExpression","start":523,"end":540,"object":{"type":"Identifier","start":523,"end":525,"name":"i0"},"property":{"type":"Identifier","start":526,"end":540,"name":"ɵɵelementStart"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":541,"end":542,"value":0,"raw":"0"},{"type":"Literal","start":544,"end":547,"value":"p","raw":"\"p\""}],"optional":false}},{"type":"ExpressionStatement","start":558,"end":598,"expression":{"type":"CallExpression","start":558,"end":597,"callee":{"type":"MemberExpression","start":558,"end":567,"object":{"type":"Identifier","start":558,"end":560,"name":"i0"},"property":{"type":"Identifier","start":561,"end":567,"name":"ɵɵtext"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":568,"end":569,"value":1,"raw":"1"},{"type":"Literal","start":571,"end":596,"value":" annotation-osd works! ","raw":"\" annotation-osd works! \""}],"optional":false}},{"type":"ExpressionStatement","start":607,"end":625,"expression":{"type":"CallExpression","start":607,"end":624,"callee":{"type":"MemberExpression","start":607,"end":622,"object":{"type":"Identifier","start":607,"end":609,"name":"i0"},"property":{"type":"Identifier","start":610,"end":622,"name":"ɵɵelementEnd"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}},"kind":"init"},{"type":"Property","start":635,"end":651,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":635,"end":648,"name":"encapsulation"},"value":{"type":"Literal","start":650,"end":651,"value":2,"raw":"2"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":317,"end":330}]}}},{"type":"ExpressionStatement","start":656,"end":1027,"expression":{"type":"CallExpression","start":656,"end":1026,"callee":{"type":"FunctionExpression","start":657,"end":1023,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":669,"end":1023,"body":[{"type":"ExpressionStatement","start":671,"end":1021,"expression":{"type":"LogicalExpression","start":671,"end":1020,"left":{"type":"LogicalExpression","start":672,"end":717,"left":{"type":"BinaryExpression","start":672,"end":704,"left":{"type":"UnaryExpression","start":672,"end":688,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":679,"end":688,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":693,"end":704,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":708,"end":717,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":722,"end":1020,"callee":{"type":"MemberExpression","start":722,"end":742,"object":{"type":"Identifier","start":722,"end":724,"name":"i0"},"property":{"type":"Identifier","start":725,"end":742,"name":"ɵsetClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":743,"end":765,"name":"AnnotationOSDComponent"},{"type":"ArrayExpression","start":767,"end":985,"elements":[{"type":"ObjectExpression","start":768,"end":984,"properties":[{"type":"Property","start":778,"end":793,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":778,"end":782,"name":"type"},"value":{"type":"Identifier","start":784,"end":793,"name":"Component"},"kind":"init"},{"type":"Property","start":803,"end":978,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":803,"end":807,"name":"args"},"value":{"type":"ArrayExpression","start":809,"end":978,"elements":[{"type":"ObjectExpression","start":810,"end":977,"properties":[{"type":"Property","start":828,"end":857,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":828,"end":836,"name":"selector"},"value":{"type":"Literal","start":838,"end":857,"value":"lib-AnnotationOSD","raw":"'lib-AnnotationOSD'"},"kind":"init"},{"type":"Property","start":875,"end":935,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":875,"end":883,"name":"template"},"value":{"type":"TemplateLiteral","start":885,"end":935,"expressions":[],"quasis":[{"type":"TemplateElement","start":886,"end":934,"value":{"raw":"\n    <p>\n      annotation-osd works!\n    </p>\n  ","cooked":"\n    <p>\n      annotation-osd works!\n    </p>\n  "},"tail":true}]},"kind":"init"},{"type":"Property","start":953,"end":963,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":953,"end":959,"name":"styles"},"value":{"type":"ArrayExpression","start":961,"end":963,"elements":[]},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"FunctionExpression","start":987,"end":1013,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":999,"end":1013,"body":[{"type":"ReturnStatement","start":1001,"end":1011,"argument":{"type":"ArrayExpression","start":1008,"end":1010,"elements":[]}}]}},{"type":"Literal","start":1015,"end":1019,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7NEZBTFUsc0JBQXNCO3lFQUF0QixzQkFBc0I7UUFQL0IseUJBQUc7UUFDRCx1Q0FDRjtRQUFBLGlCQUFJOzt1RkFLSyxzQkFBc0I7Y0FWbEMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxtQkFBbUI7Z0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO2dCQUNELE1BQU0sRUFBRSxFQUNQO2FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItQW5ub3RhdGlvbk9TRCcsXG4gIHRlbXBsYXRlOiBgXG4gICAgPHA+XG4gICAgICBhbm5vdGF0aW9uLW9zZCB3b3JrcyFcbiAgICA8L3A+XG4gIGAsXG4gIHN0eWxlczogW1xuICBdXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gIH1cblxufVxuIl19","start":1028,"end":2110}]},"code":"import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n}\nAnnotationOSDComponent.ɵfac = function AnnotationOSDComponent_Factory(t) { return new (t || AnnotationOSDComponent)(); };\nAnnotationOSDComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AnnotationOSDComponent, selectors: [[\"lib-AnnotationOSD\"]], decls: 2, vars: 0, template: function AnnotationOSDComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \" annotation-osd works! \");\n        i0.ɵɵelementEnd();\n    } }, encapsulation: 2 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDComponent, [{\n        type: Component,\n        args: [{\n                selector: 'lib-AnnotationOSD',\n                template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n                styles: []\n            }]\n    }], function () { return []; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7NEZBTFUsc0JBQXNCO3lFQUF0QixzQkFBc0I7UUFQL0IseUJBQUc7UUFDRCx1Q0FDRjtRQUFBLGlCQUFJOzt1RkFLSyxzQkFBc0I7Y0FWbEMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxtQkFBbUI7Z0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO2dCQUNELE1BQU0sRUFBRSxFQUNQO2FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItQW5ub3RhdGlvbk9TRCcsXG4gIHRlbXBsYXRlOiBgXG4gICAgPHA+XG4gICAgICBhbm5vdGF0aW9uLW9zZCB3b3JrcyFcbiAgICA8L3A+XG4gIGAsXG4gIHN0eWxlczogW1xuICBdXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gIH1cblxufVxuIl19","customTransformCache":false,"dependencies":["@angular/core"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n}\nAnnotationOSDComponent.ɵfac = function AnnotationOSDComponent_Factory(t) { return new (t || AnnotationOSDComponent)(); };\nAnnotationOSDComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AnnotationOSDComponent, selectors: [[\"lib-AnnotationOSD\"]], decls: 2, vars: 0, template: function AnnotationOSDComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \" annotation-osd works! \");\n        i0.ɵɵelementEnd();\n    } }, encapsulation: 2 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDComponent, [{\n        type: Component,\n        args: [{\n                selector: 'lib-AnnotationOSD',\n                template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n                styles: []\n            }]\n    }], function () { return []; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7NEZBTFUsc0JBQXNCO3lFQUF0QixzQkFBc0I7UUFQL0IseUJBQUc7UUFDRCx1Q0FDRjtRQUFBLGlCQUFJOzt1RkFLSyxzQkFBc0I7Y0FWbEMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxtQkFBbUI7Z0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO2dCQUNELE1BQU0sRUFBRSxFQUNQO2FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItQW5ub3RhdGlvbk9TRCcsXG4gIHRlbXBsYXRlOiBgXG4gICAgPHA+XG4gICAgICBhbm5vdGF0aW9uLW9zZCB3b3JrcyFcbiAgICA8L3A+XG4gIGAsXG4gIHN0eWxlczogW1xuICBdXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gIH1cblxufVxuIl19","originalSourcemap":{"version":3,"file":"annotation-osd.component.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.component.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[18,0,0,18],[20,0,0,28],[26,0,0,34],[41,0,0,49],[42,0,0,50]],[],[[0,0,12,0],[6,0,12,6],[13,0,12,13],[35,0,12,35]],[[4,0,14,2],[20,0,14,18],[21,0,14,19]],[[4,0,16,2],[12,0,16,10]],[[4,0,17,2],[5,0,17,3]],[],[[92,0,12,13],[114,0,12,35]],[[73,0,12,13],[95,0,12,35]],[[8,0,5,4],[33,0,5,7]],[[8,0,6,6],[47,0,7,4]],[[8,0,7,4],[25,0,7,8]],[],[[87,0,12,13],[109,0,12,35]],[[14,0,2,1],[23,0,2,10]],[[15,0,2,11]],[[16,0,3,2],[24,0,3,10],[26,0,3,12],[45,0,3,31]],[[16,0,4,2],[24,0,4,10],[26,0,4,12]],[],[],[],[[3,0,8,3]],[[16,0,9,2],[22,0,9,8],[24,0,9,10],[26,0,10,3]],[[13,0,11,1]]],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-AnnotationOSD',\n  template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class AnnotationOSDComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2387,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":42,"end":110,"specifiers":[{"type":"ImportSpecifier","start":51,"end":73,"imported":{"type":"Identifier","start":51,"end":73,"name":"AnnotationOSDComponent"},"local":{"type":"Identifier","start":51,"end":73,"name":"AnnotationOSDComponent"}}],"source":{"type":"Literal","start":81,"end":109,"value":"./annotation-osd.component","raw":"'./annotation-osd.component'"}},{"type":"ImportDeclaration","start":111,"end":175,"specifiers":[{"type":"ImportSpecifier","start":120,"end":140,"imported":{"type":"Identifier","start":120,"end":140,"name":"AnnotationOSDService"},"local":{"type":"Identifier","start":120,"end":140,"name":"AnnotationOSDService"}}],"source":{"type":"Literal","start":148,"end":174,"value":"./annotation-osd.service","raw":"'./annotation-osd.service'"}},{"type":"ImportDeclaration","start":176,"end":212,"specifiers":[{"type":"ImportNamespaceSpecifier","start":183,"end":190,"local":{"type":"Identifier","start":188,"end":190,"name":"i0"}}],"source":{"type":"Literal","start":196,"end":211,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":213,"end":249,"declaration":{"type":"ClassDeclaration","start":220,"end":249,"id":{"type":"Identifier","start":226,"end":245,"name":"AnnotationOSDModule"},"superClass":null,"body":{"type":"ClassBody","start":246,"end":249,"body":[]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":250,"end":362,"expression":{"type":"AssignmentExpression","start":250,"end":361,"operator":"=","left":{"type":"MemberExpression","start":250,"end":274,"object":{"type":"Identifier","start":250,"end":269,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":270,"end":274,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":277,"end":361,"id":{"type":"Identifier","start":286,"end":313,"name":"AnnotationOSDModule_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":314,"end":315,"name":"t"}],"body":{"type":"BlockStatement","start":317,"end":361,"body":[{"type":"ReturnStatement","start":319,"end":359,"argument":{"type":"NewExpression","start":326,"end":358,"callee":{"type":"LogicalExpression","start":331,"end":355,"left":{"type":"Identifier","start":331,"end":332,"name":"t"},"operator":"||","right":{"type":"Identifier","start":336,"end":355,"name":"AnnotationOSDModule"}},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":363,"end":455,"expression":{"type":"AssignmentExpression","start":363,"end":454,"operator":"=","left":{"type":"MemberExpression","start":363,"end":387,"object":{"type":"Identifier","start":363,"end":382,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":383,"end":387,"name":"ɵmod"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":404,"end":454,"callee":{"type":"MemberExpression","start":404,"end":423,"object":{"type":"Identifier","start":404,"end":406,"name":"i0"},"property":{"type":"Identifier","start":407,"end":423,"name":"ɵɵdefineNgModule"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":424,"end":453,"properties":[{"type":"Property","start":426,"end":451,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":426,"end":430,"name":"type"},"value":{"type":"Identifier","start":432,"end":451,"name":"AnnotationOSDModule"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":390,"end":403}]}}},{"type":"ExpressionStatement","start":456,"end":571,"expression":{"type":"AssignmentExpression","start":456,"end":570,"operator":"=","left":{"type":"MemberExpression","start":456,"end":480,"object":{"type":"Identifier","start":456,"end":475,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":476,"end":480,"name":"ɵinj"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":497,"end":570,"callee":{"type":"MemberExpression","start":497,"end":516,"object":{"type":"Identifier","start":497,"end":499,"name":"i0"},"property":{"type":"Identifier","start":500,"end":516,"name":"ɵɵdefineInjector"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":517,"end":569,"properties":[{"type":"Property","start":519,"end":552,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":519,"end":528,"name":"providers"},"value":{"type":"ArrayExpression","start":530,"end":552,"elements":[{"type":"Identifier","start":531,"end":551,"name":"AnnotationOSDService"}]},"kind":"init"},{"type":"Property","start":554,"end":567,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":554,"end":561,"name":"imports"},"value":{"type":"ArrayExpression","start":563,"end":567,"elements":[{"type":"ArrayExpression","start":564,"end":566,"elements":[]}]},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":483,"end":496}]}}},{"type":"ExpressionStatement","start":572,"end":940,"expression":{"type":"CallExpression","start":572,"end":939,"callee":{"type":"FunctionExpression","start":573,"end":936,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":585,"end":936,"body":[{"type":"ExpressionStatement","start":587,"end":934,"expression":{"type":"LogicalExpression","start":587,"end":933,"left":{"type":"LogicalExpression","start":588,"end":633,"left":{"type":"BinaryExpression","start":588,"end":620,"left":{"type":"UnaryExpression","start":588,"end":604,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":595,"end":604,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":609,"end":620,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":624,"end":633,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":638,"end":933,"callee":{"type":"MemberExpression","start":638,"end":658,"object":{"type":"Identifier","start":638,"end":640,"name":"i0"},"property":{"type":"Identifier","start":641,"end":658,"name":"ɵsetClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":659,"end":678,"name":"AnnotationOSDModule"},{"type":"ArrayExpression","start":680,"end":920,"elements":[{"type":"ObjectExpression","start":681,"end":919,"properties":[{"type":"Property","start":691,"end":705,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":691,"end":695,"name":"type"},"value":{"type":"Identifier","start":697,"end":705,"name":"NgModule"},"kind":"init"},{"type":"Property","start":715,"end":913,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":715,"end":719,"name":"args"},"value":{"type":"ArrayExpression","start":721,"end":913,"elements":[{"type":"ObjectExpression","start":722,"end":912,"properties":[{"type":"Property","start":740,"end":817,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":740,"end":752,"name":"declarations"},"value":{"type":"ArrayExpression","start":754,"end":817,"elements":[{"type":"Identifier","start":776,"end":798,"name":"AnnotationOSDComponent"}]},"kind":"init"},{"type":"Property","start":835,"end":846,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":835,"end":842,"name":"imports"},"value":{"type":"ArrayExpression","start":844,"end":846,"elements":[]},"kind":"init"},{"type":"Property","start":864,"end":897,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":864,"end":873,"name":"providers"},"value":{"type":"ArrayExpression","start":875,"end":897,"elements":[{"type":"Identifier","start":876,"end":896,"name":"AnnotationOSDService"}]},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"Literal","start":922,"end":926,"value":null,"raw":"null"},{"type":"Literal","start":928,"end":932,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":941,"end":1100,"expression":{"type":"CallExpression","start":941,"end":1099,"callee":{"type":"FunctionExpression","start":942,"end":1096,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":954,"end":1096,"body":[{"type":"ExpressionStatement","start":956,"end":1094,"expression":{"type":"LogicalExpression","start":956,"end":1093,"left":{"type":"LogicalExpression","start":957,"end":1002,"left":{"type":"BinaryExpression","start":957,"end":989,"left":{"type":"UnaryExpression","start":957,"end":973,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":964,"end":973,"name":"ngJitMode"}},"operator":"===","right":{"type":"Literal","start":978,"end":989,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":993,"end":1002,"name":"ngJitMode"}},"operator":"&&","right":{"type":"CallExpression","start":1007,"end":1093,"callee":{"type":"MemberExpression","start":1007,"end":1028,"object":{"type":"Identifier","start":1007,"end":1009,"name":"i0"},"property":{"type":"Identifier","start":1010,"end":1028,"name":"ɵɵsetNgModuleScope"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1029,"end":1048,"name":"AnnotationOSDModule"},{"type":"ObjectExpression","start":1050,"end":1092,"properties":[{"type":"Property","start":1052,"end":1090,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1052,"end":1064,"name":"declarations"},"value":{"type":"ArrayExpression","start":1066,"end":1090,"elements":[{"type":"Identifier","start":1067,"end":1089,"name":"AnnotationOSDComponent"}]},"kind":"init"}]}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFVaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRnpCLEVBQ1I7dUZBR1EsbUJBQW1CO2NBUi9CLFFBQVE7ZUFBQztnQkFDTixZQUFZLEVBQUU7b0JBQ1Ysc0JBQXNCO2lCQUN6QjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQzs7d0ZBQ1ksbUJBQW1CLG1CQU54QixzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbk9TRENvbXBvbmVudCB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50JztcbmltcG9ydCB7IEFubm90YXRpb25PU0RTZXJ2aWNlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQW5ub3RhdGlvbk9TRENvbXBvbmVudCxcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICBdLFxuICAgIHByb3ZpZGVycyA6IFtBbm5vdGF0aW9uT1NEU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","start":1101,"end":2387}]},"code":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport { AnnotationOSDService } from './annotation-osd.service';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.ɵfac = function AnnotationOSDModule_Factory(t) { return new (t || AnnotationOSDModule)(); };\nAnnotationOSDModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: AnnotationOSDModule });\nAnnotationOSDModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ providers: [AnnotationOSDService], imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    AnnotationOSDComponent,\n                ],\n                imports: [],\n                providers: [AnnotationOSDService],\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(AnnotationOSDModule, { declarations: [AnnotationOSDComponent] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFVaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRnpCLEVBQ1I7dUZBR1EsbUJBQW1CO2NBUi9CLFFBQVE7ZUFBQztnQkFDTixZQUFZLEVBQUU7b0JBQ1Ysc0JBQXNCO2lCQUN6QjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQzs7d0ZBQ1ksbUJBQW1CLG1CQU54QixzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbk9TRENvbXBvbmVudCB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50JztcbmltcG9ydCB7IEFubm90YXRpb25PU0RTZXJ2aWNlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQW5ub3RhdGlvbk9TRENvbXBvbmVudCxcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICBdLFxuICAgIHByb3ZpZGVycyA6IFtBbm5vdGF0aW9uT1NEU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","customTransformCache":false,"dependencies":["@angular/core","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport { AnnotationOSDService } from './annotation-osd.service';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.ɵfac = function AnnotationOSDModule_Factory(t) { return new (t || AnnotationOSDModule)(); };\nAnnotationOSDModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: AnnotationOSDModule });\nAnnotationOSDModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ providers: [AnnotationOSDService], imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    AnnotationOSDComponent,\n                ],\n                imports: [],\n                providers: [AnnotationOSDService],\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(AnnotationOSDModule, { declarations: [AnnotationOSDComponent] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFVaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRnpCLEVBQ1I7dUZBR1EsbUJBQW1CO2NBUi9CLFFBQVE7ZUFBQztnQkFDTixZQUFZLEVBQUU7b0JBQ1Ysc0JBQXNCO2lCQUN6QjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQzs7d0ZBQ1ksbUJBQW1CLG1CQU54QixzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbk9TRENvbXBvbmVudCB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50JztcbmltcG9ydCB7IEFubm90YXRpb25PU0RTZXJ2aWNlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQW5ub3RhdGlvbk9TRENvbXBvbmVudCxcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICBdLFxuICAgIHByb3ZpZGVycyA6IFtBbm5vdGF0aW9uT1NEU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.module.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[31,0,1,31],[33,0,1,33],[39,0,1,39],[67,0,1,67],[68,0,1,68]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[29,0,2,29],[31,0,2,31],[37,0,2,37],[63,0,2,63],[64,0,2,64]],[],[[0,0,12,0],[6,0,12,6],[13,0,12,13],[32,0,12,32]],[],[[86,0,12,13],[105,0,12,32]],[[69,0,12,13],[88,0,12,32]],[[74,0,10,16],[75,0,10,17],[95,0,10,37],[96,0,10,38],[108,0,8,13],[110,0,9,5]],[[87,0,12,13],[106,0,12,32]],[[14,0,4,1],[22,0,4,9]],[[15,0,4,10]],[[16,0,5,4],[28,0,5,16],[30,0,5,18]],[[20,0,6,8],[42,0,6,30]],[[17,0,7,5]],[[16,0,8,4],[23,0,8,11],[25,0,8,13],[27,0,9,5]],[[16,0,10,4],[25,0,10,13],[27,0,10,16],[28,0,10,17],[48,0,10,37],[49,0,10,38]],[[13,0,11,1]],[],[[88,0,12,13],[107,0,12,32],[126,0,6,8],[148,0,6,30]]],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport { AnnotationOSDService } from './annotation-osd.service';\n\n@NgModule({\n    declarations: [\n        AnnotationOSDComponent,\n    ],\n    imports: [\n    ],\n    providers : [AnnotationOSDService],\n})\nexport class AnnotationOSDModule { }\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./annotation-osd.component":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./annotation-osd.service":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":952,"body":[{"type":"ExportAllDeclaration","start":47,"end":90,"exported":null,"source":{"type":"Literal","start":61,"end":89,"value":"./lib/annotation-osd.model","raw":"'./lib/annotation-osd.model'"}},{"type":"ExportAllDeclaration","start":91,"end":136,"exported":null,"source":{"type":"Literal","start":105,"end":135,"value":"./lib/annotation-osd.service","raw":"'./lib/annotation-osd.service'"}},{"type":"ExportAllDeclaration","start":137,"end":184,"exported":null,"source":{"type":"Literal","start":151,"end":183,"value":"./lib/annotation-osd.component","raw":"'./lib/annotation-osd.component'"}},{"type":"ExportAllDeclaration","start":185,"end":229,"exported":null,"source":{"type":"Literal","start":199,"end":228,"value":"./lib/annotation-osd.module","raw":"'./lib/annotation-osd.module'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","start":230,"end":952}]},"code":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[42,0,4,42],[43,0,4,43]],[[0,0,5,0],[14,0,5,14],[44,0,5,44],[45,0,5,45]],[[0,0,6,0],[14,0,6,14],[46,0,6,46],[47,0,6,47]],[[0,0,7,0],[14,0,7,14],[43,0,7,43],[44,0,7,44]]],"sourcesContent":["/*\n * Public API Surface of annotation-osd\n */\n\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n"]},"resolvedIds":{"./lib/annotation-osd.service":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.model":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.component":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.module":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":512,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","start":78,"end":512}]},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/annotation-osd.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/annotation-osd.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"sourcemaps":{},"json":{}}}