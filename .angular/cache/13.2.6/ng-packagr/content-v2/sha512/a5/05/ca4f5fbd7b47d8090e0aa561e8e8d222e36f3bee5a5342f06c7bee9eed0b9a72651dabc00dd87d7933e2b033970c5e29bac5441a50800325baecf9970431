{"modules":[{"ast":{"type":"Program","start":0,"end":5366,"body":[{"type":"ClassDeclaration","start":0,"end":473,"id":{"type":"Identifier","start":6,"end":20,"name":"AnnotateMarker"},"superClass":null,"body":{"type":"ClassBody","start":21,"end":473,"body":[{"type":"MethodDefinition","start":27,"end":471,"static":false,"computed":false,"key":{"type":"Identifier","start":27,"end":38,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":38,"end":471,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":39,"end":41,"name":"id"},{"type":"Identifier","start":43,"end":47,"name":"unit"},{"type":"Identifier","start":49,"end":56,"name":"centerY"},{"type":"Identifier","start":58,"end":65,"name":"centerX"},{"type":"Identifier","start":67,"end":72,"name":"width"},{"type":"Identifier","start":74,"end":80,"name":"height"},{"type":"Identifier","start":82,"end":86,"name":"type"}],"body":{"type":"BlockStatement","start":88,"end":471,"body":[{"type":"IfStatement","start":98,"end":269,"test":{"type":"LogicalExpression","start":102,"end":179,"left":{"type":"BinaryExpression","start":102,"end":120,"left":{"type":"Identifier","start":102,"end":106,"name":"unit"},"operator":"===","right":{"type":"Literal","start":111,"end":120,"value":"percent","raw":"'percent'"}},"operator":"&&","right":{"type":"LogicalExpression","start":125,"end":178,"left":{"type":"LogicalExpression","start":125,"end":164,"left":{"type":"LogicalExpression","start":125,"end":151,"left":{"type":"BinaryExpression","start":125,"end":136,"left":{"type":"Identifier","start":125,"end":132,"name":"centerX"},"operator":">","right":{"type":"Literal","start":135,"end":136,"value":1,"raw":"1"}},"operator":"||","right":{"type":"BinaryExpression","start":140,"end":151,"left":{"type":"Identifier","start":140,"end":147,"name":"centerY"},"operator":">","right":{"type":"Literal","start":150,"end":151,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":155,"end":164,"left":{"type":"Identifier","start":155,"end":160,"name":"width"},"operator":">","right":{"type":"Literal","start":163,"end":164,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":168,"end":178,"left":{"type":"Identifier","start":168,"end":174,"name":"height"},"operator":">","right":{"type":"Literal","start":177,"end":178,"value":1,"raw":"1"}}}},"consequent":{"type":"BlockStatement","start":181,"end":269,"body":[{"type":"ThrowStatement","start":195,"end":259,"argument":{"type":"NewExpression","start":201,"end":258,"callee":{"type":"Identifier","start":205,"end":210,"name":"Error"},"arguments":[{"type":"Literal","start":211,"end":257,"value":"AnnotateMarker unit is percent but value > 1","raw":"'AnnotateMarker unit is percent but value > 1'"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":278,"end":291,"expression":{"type":"AssignmentExpression","start":278,"end":290,"operator":"=","left":{"type":"MemberExpression","start":278,"end":285,"object":{"type":"ThisExpression","start":278,"end":282},"property":{"type":"Identifier","start":283,"end":285,"name":"id"},"computed":false,"optional":false},"right":{"type":"Identifier","start":288,"end":290,"name":"id"}}},{"type":"ExpressionStatement","start":300,"end":317,"expression":{"type":"AssignmentExpression","start":300,"end":316,"operator":"=","left":{"type":"MemberExpression","start":300,"end":309,"object":{"type":"ThisExpression","start":300,"end":304},"property":{"type":"Identifier","start":305,"end":309,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":312,"end":316,"name":"unit"}}},{"type":"ExpressionStatement","start":326,"end":349,"expression":{"type":"AssignmentExpression","start":326,"end":348,"operator":"=","left":{"type":"MemberExpression","start":326,"end":338,"object":{"type":"ThisExpression","start":326,"end":330},"property":{"type":"Identifier","start":331,"end":338,"name":"centerY"},"computed":false,"optional":false},"right":{"type":"Identifier","start":341,"end":348,"name":"centerY"}}},{"type":"ExpressionStatement","start":358,"end":381,"expression":{"type":"AssignmentExpression","start":358,"end":380,"operator":"=","left":{"type":"MemberExpression","start":358,"end":370,"object":{"type":"ThisExpression","start":358,"end":362},"property":{"type":"Identifier","start":363,"end":370,"name":"centerX"},"computed":false,"optional":false},"right":{"type":"Identifier","start":373,"end":380,"name":"centerX"}}},{"type":"ExpressionStatement","start":390,"end":409,"expression":{"type":"AssignmentExpression","start":390,"end":408,"operator":"=","left":{"type":"MemberExpression","start":390,"end":400,"object":{"type":"ThisExpression","start":390,"end":394},"property":{"type":"Identifier","start":395,"end":400,"name":"width"},"computed":false,"optional":false},"right":{"type":"Identifier","start":403,"end":408,"name":"width"}}},{"type":"ExpressionStatement","start":418,"end":439,"expression":{"type":"AssignmentExpression","start":418,"end":438,"operator":"=","left":{"type":"MemberExpression","start":418,"end":429,"object":{"type":"ThisExpression","start":418,"end":422},"property":{"type":"Identifier","start":423,"end":429,"name":"height"},"computed":false,"optional":false},"right":{"type":"Identifier","start":432,"end":438,"name":"height"}}},{"type":"ExpressionStatement","start":448,"end":465,"expression":{"type":"AssignmentExpression","start":448,"end":464,"operator":"=","left":{"type":"MemberExpression","start":448,"end":457,"object":{"type":"ThisExpression","start":448,"end":452},"property":{"type":"Identifier","start":453,"end":457,"name":"type"},"computed":false,"optional":false},"right":{"type":"Identifier","start":460,"end":464,"name":"type"}}}]}}}]}},{"type":"ExportNamedDeclaration","start":474,"end":702,"declaration":{"type":"ClassDeclaration","start":481,"end":702,"id":{"type":"Identifier","start":487,"end":497,"name":"MarkerRect"},"superClass":{"type":"Identifier","start":506,"end":520,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":521,"end":702,"body":[{"type":"MethodDefinition","start":527,"end":700,"static":false,"computed":false,"key":{"type":"Identifier","start":527,"end":538,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":538,"end":700,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":539,"end":541,"name":"id"},{"type":"Identifier","start":543,"end":550,"name":"centerY"},{"type":"Identifier","start":552,"end":559,"name":"centerX"},{"type":"Identifier","start":561,"end":566,"name":"width"},{"type":"Identifier","start":568,"end":574,"name":"height"},{"type":"AssignmentPattern","start":576,"end":592,"left":{"type":"Identifier","start":576,"end":580,"name":"unit"},"right":{"type":"Literal","start":583,"end":592,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":594,"end":700,"body":[{"type":"VariableDeclaration","start":604,"end":630,"declarations":[{"type":"VariableDeclarator","start":610,"end":629,"id":{"type":"Identifier","start":610,"end":614,"name":"type"},"init":{"type":"Literal","start":617,"end":629,"value":"MarkerRect","raw":"'MarkerRect'"}}],"kind":"const"},{"type":"ExpressionStatement","start":639,"end":694,"expression":{"type":"CallExpression","start":639,"end":693,"callee":{"type":"Super","start":639,"end":644},"arguments":[{"type":"Identifier","start":645,"end":647,"name":"id"},{"type":"Identifier","start":649,"end":653,"name":"unit"},{"type":"Identifier","start":655,"end":662,"name":"centerY"},{"type":"Identifier","start":664,"end":671,"name":"centerX"},{"type":"Identifier","start":673,"end":678,"name":"width"},{"type":"Identifier","start":680,"end":686,"name":"height"},{"type":"Identifier","start":688,"end":692,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":703,"end":933,"declaration":{"type":"ClassDeclaration","start":710,"end":933,"id":{"type":"Identifier","start":716,"end":727,"name":"MarkerRound"},"superClass":{"type":"Identifier","start":736,"end":750,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":751,"end":933,"body":[{"type":"MethodDefinition","start":757,"end":931,"static":false,"computed":false,"key":{"type":"Identifier","start":757,"end":768,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":768,"end":931,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":769,"end":771,"name":"id"},{"type":"Identifier","start":773,"end":780,"name":"centerY"},{"type":"Identifier","start":782,"end":789,"name":"centerX"},{"type":"Identifier","start":791,"end":796,"name":"width"},{"type":"Identifier","start":798,"end":804,"name":"height"},{"type":"AssignmentPattern","start":806,"end":822,"left":{"type":"Identifier","start":806,"end":810,"name":"unit"},"right":{"type":"Literal","start":813,"end":822,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":824,"end":931,"body":[{"type":"VariableDeclaration","start":834,"end":861,"declarations":[{"type":"VariableDeclarator","start":840,"end":860,"id":{"type":"Identifier","start":840,"end":844,"name":"type"},"init":{"type":"Literal","start":847,"end":860,"value":"MarkerRound","raw":"'MarkerRound'"}}],"kind":"const"},{"type":"ExpressionStatement","start":870,"end":925,"expression":{"type":"CallExpression","start":870,"end":924,"callee":{"type":"Super","start":870,"end":875},"arguments":[{"type":"Identifier","start":876,"end":878,"name":"id"},{"type":"Identifier","start":880,"end":884,"name":"unit"},{"type":"Identifier","start":886,"end":893,"name":"centerY"},{"type":"Identifier","start":895,"end":902,"name":"centerX"},{"type":"Identifier","start":904,"end":909,"name":"width"},{"type":"Identifier","start":911,"end":917,"name":"height"},{"type":"Identifier","start":919,"end":923,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":934,"end":1095,"declaration":{"type":"ClassDeclaration","start":941,"end":1095,"id":{"type":"Identifier","start":947,"end":957,"name":"MarkerPoly"},"superClass":null,"body":{"type":"ClassBody","start":958,"end":1095,"body":[{"type":"MethodDefinition","start":964,"end":1093,"static":false,"computed":false,"key":{"type":"Identifier","start":964,"end":975,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":975,"end":1093,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":976,"end":980,"name":"dots"},{"type":"AssignmentPattern","start":982,"end":998,"left":{"type":"Identifier","start":982,"end":986,"name":"unit"},"right":{"type":"Literal","start":989,"end":998,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":1000,"end":1093,"body":[{"type":"ExpressionStatement","start":1010,"end":1035,"expression":{"type":"AssignmentExpression","start":1010,"end":1034,"operator":"=","left":{"type":"MemberExpression","start":1010,"end":1019,"object":{"type":"ThisExpression","start":1010,"end":1014},"property":{"type":"Identifier","start":1015,"end":1019,"name":"type"},"computed":false,"optional":false},"right":{"type":"Literal","start":1022,"end":1034,"value":"MarkerPoly","raw":"'MarkerPoly'"}}},{"type":"ExpressionStatement","start":1044,"end":1061,"expression":{"type":"AssignmentExpression","start":1044,"end":1060,"operator":"=","left":{"type":"MemberExpression","start":1044,"end":1053,"object":{"type":"ThisExpression","start":1044,"end":1048},"property":{"type":"Identifier","start":1049,"end":1053,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1056,"end":1060,"name":"unit"}}},{"type":"ExpressionStatement","start":1070,"end":1087,"expression":{"type":"AssignmentExpression","start":1070,"end":1086,"operator":"=","left":{"type":"MemberExpression","start":1070,"end":1079,"object":{"type":"ThisExpression","start":1070,"end":1074},"property":{"type":"Identifier","start":1075,"end":1079,"name":"dots"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1082,"end":1086,"name":"dots"}}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBS3BCLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG5cbiAgICBjb25zdHJ1Y3Rvcihkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=","start":1096,"end":5258},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","start":5259,"end":5366}]},"code":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBS3BCLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG5cbiAgICBjb25zdHJ1Y3Rvcihkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","customTransformCache":false,"dependencies":[],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBS3BCLFlBQVksSUFBYSxFQUFFLE9BQWlCLFNBQVM7UUFKckQsU0FBSSxHQUFHLFlBQVksQ0FBQztRQUtoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBQbGF5ZXJUeXBlID0gJ2ltYWdlJyB8ICdkemknO1xuZXhwb3J0IHR5cGUgVW5pdFR5cGUgPSAncGVyY2VudCcgfCAncGl4ZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHt4IDogbnVtYmVyLCB5IDogbnVtYmVyfVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG5cbiAgICBjb25zdHJ1Y3Rvcihkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.model.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.model.ts"],"names":[],"mappings":[[[0,0,5,0],[6,0,5,15],[20,0,5,29]],[[4,0,14,4],[16,0,14,26],[18,0,14,36],[20,0,14,38],[24,0,14,52],[26,0,14,54],[33,0,14,69],[35,0,14,71],[42,0,14,86],[44,0,14,88],[49,0,14,101],[51,0,14,103],[57,0,14,117],[59,0,14,119],[63,0,14,131]],[[8,0,15,8],[12,0,15,12],[16,0,15,16],[21,0,15,21],[30,0,15,30],[34,0,15,34],[35,0,15,35],[42,0,15,42],[45,0,15,45],[46,0,15,46],[50,0,15,50],[57,0,15,57],[60,0,15,60],[61,0,15,61],[65,0,15,65],[70,0,15,70],[73,0,15,73],[74,0,15,74],[78,0,15,78],[84,0,15,84],[87,0,15,87],[88,0,15,88],[89,0,15,89],[91,0,15,91]],[[12,0,16,12],[18,0,16,18],[22,0,16,22],[27,0,16,27],[28,0,16,28],[74,0,16,74],[75,0,16,75],[76,0,16,76]],[[9,0,17,9]],[[8,0,18,8],[12,0,18,12],[13,0,18,13],[15,0,18,15],[18,0,18,18],[20,0,18,20],[21,0,18,21]],[[8,0,19,8],[12,0,19,12],[13,0,19,13],[17,0,19,17],[20,0,19,20],[24,0,19,24],[25,0,19,25]],[[8,0,20,8],[12,0,20,12],[13,0,20,13],[20,0,20,20],[23,0,20,23],[30,0,20,30],[31,0,20,31]],[[8,0,21,8],[12,0,21,12],[13,0,21,13],[20,0,21,20],[23,0,21,23],[30,0,21,30],[31,0,21,31]],[[8,0,22,8],[12,0,22,12],[13,0,22,13],[18,0,22,18],[21,0,22,21],[26,0,22,26],[27,0,22,27]],[[8,0,23,8],[12,0,23,12],[13,0,23,13],[19,0,23,19],[22,0,23,22],[28,0,23,28],[29,0,23,29]],[[8,0,24,8],[12,0,24,12],[13,0,24,13],[17,0,24,17],[20,0,24,20],[24,0,24,24],[25,0,24,25]],[[4,0,25,4],[5,0,25,5]],[[1,0,26,1]],[[0,0,28,0],[6,0,28,6],[13,0,28,13],[23,0,28,24],[32,0,28,32],[46,0,28,46]],[[4,0,29,4],[16,0,29,16],[18,0,29,26],[20,0,29,28],[27,0,29,43],[29,0,29,45],[36,0,29,60],[38,0,29,62],[43,0,29,75],[45,0,29,77],[51,0,29,91],[53,0,29,93],[60,0,29,110],[69,0,29,119]],[[8,0,30,8],[14,0,30,14],[18,0,30,18],[21,0,30,21],[33,0,30,33],[34,0,30,34]],[[8,0,31,8],[13,0,31,13],[14,0,31,14],[16,0,31,16],[18,0,31,18],[22,0,31,22],[24,0,31,24],[31,0,31,31],[33,0,31,33],[40,0,31,40],[42,0,31,42],[47,0,31,47],[49,0,31,49],[55,0,31,55],[57,0,31,57],[61,0,31,61],[62,0,31,62],[63,0,31,63]],[[4,0,32,4],[5,0,32,5]],[[1,0,33,1]],[[0,0,35,0],[6,0,35,6],[13,0,35,13],[24,0,35,25],[33,0,35,33],[47,0,35,47]],[[4,0,36,4],[16,0,36,16],[18,0,36,26],[20,0,36,28],[27,0,36,43],[29,0,36,45],[36,0,36,60],[38,0,36,62],[43,0,36,75],[45,0,36,77],[51,0,36,91],[53,0,36,93],[60,0,36,110],[69,0,36,119]],[[8,0,37,8],[14,0,37,14],[18,0,37,18],[21,0,37,21],[34,0,37,34],[35,0,37,35]],[[8,0,38,8],[13,0,38,13],[14,0,38,14],[16,0,38,16],[18,0,38,18],[22,0,38,22],[24,0,38,24],[31,0,38,31],[33,0,38,33],[40,0,38,40],[42,0,38,42],[47,0,38,47],[49,0,38,49],[55,0,38,55],[57,0,38,57],[61,0,38,61],[62,0,38,62],[63,0,38,63]],[[4,0,39,4],[5,0,39,5]],[[1,0,40,1]],[[0,0,42,0],[6,0,42,6],[13,0,42,14],[23,0,42,24]],[[4,0,47,4],[16,0,47,16],[20,0,47,29],[22,0,47,31],[29,0,47,48],[38,0,47,57]],[[8,0,43,4],[17,0,43,8],[20,0,43,11],[32,0,43,23],[33,0,43,24]],[[8,0,48,8],[12,0,48,12],[13,0,48,13],[17,0,48,17],[20,0,48,20],[24,0,48,24],[25,0,48,25]],[[8,0,49,8],[12,0,49,12],[13,0,49,13],[17,0,49,17],[20,0,49,20],[24,0,49,24],[25,0,49,25]],[[4,0,50,4],[5,0,50,5]],[[1,0,51,1]]],"sourcesContent":["export type PlayerType = 'image' | 'dzi';\nexport type UnitType = 'percent' | 'pixel';\n\nexport interface Point {x : number, y : number}\n\nabstract class AnnotateMarker {\n    readonly id : number;\n    readonly unit : UnitType;\n    readonly centerY : number;\n    readonly centerX : number;\n    readonly width : number;\n    readonly height : number;\n    readonly type : string;\n\n    protected constructor(id: number, unit: UnitType, centerY: number, centerX: number, width: number, height: number, type: string) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\n\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id: number, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id: number, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport  class MarkerPoly {\n    type = 'MarkerPoly';\n    unit: UnitType;\n    dots: Point[];\n\n    constructor(dots: Point[], unit: UnitType = 'percent') {\n        this.unit = unit;\n        this.dots = dots;\n    }\n}"]},"resolvedIds":{},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0],[6,0,0,6],[20,0,0,20]],[[4,0,1,4],[16,0,1,16],[18,0,1,18],[20,0,1,20],[24,0,1,24],[26,0,1,26],[33,0,1,33],[35,0,1,35],[42,0,1,42],[44,0,1,44],[49,0,1,49],[51,0,1,51],[57,0,1,57],[59,0,1,59],[63,0,1,63]],[[8,0,2,8],[12,0,2,12],[16,0,2,16],[21,0,2,21],[30,0,2,30],[34,0,2,34],[35,0,2,35],[42,0,2,42],[45,0,2,45],[46,0,2,46],[50,0,2,50],[57,0,2,57],[60,0,2,60],[61,0,2,61],[65,0,2,65],[70,0,2,70],[73,0,2,73],[74,0,2,74],[78,0,2,78],[84,0,2,84],[87,0,2,87],[88,0,2,88],[89,0,2,89],[91,0,2,91]],[[12,0,3,12],[18,0,3,18],[22,0,3,22],[27,0,3,27],[28,0,3,28],[74,0,3,74],[75,0,3,75],[76,0,3,76]],[[9,0,4,9]],[[8,0,5,8],[12,0,5,12],[13,0,5,13],[15,0,5,15],[18,0,5,18],[20,0,5,20],[21,0,5,21]],[[8,0,6,8],[12,0,6,12],[13,0,6,13],[17,0,6,17],[20,0,6,20],[24,0,6,24],[25,0,6,25]],[[8,0,7,8],[12,0,7,12],[13,0,7,13],[20,0,7,20],[23,0,7,23],[30,0,7,30],[31,0,7,31]],[[8,0,8,8],[12,0,8,12],[13,0,8,13],[20,0,8,20],[23,0,8,23],[30,0,8,30],[31,0,8,31]],[[8,0,9,8],[12,0,9,12],[13,0,9,13],[18,0,9,18],[21,0,9,21],[26,0,9,26],[27,0,9,27]],[[8,0,10,8],[12,0,10,12],[13,0,10,13],[19,0,10,19],[22,0,10,22],[28,0,10,28],[29,0,10,29]],[[8,0,11,8],[12,0,11,12],[13,0,11,13],[17,0,11,17],[20,0,11,20],[24,0,11,24],[25,0,11,25]],[[4,0,12,4],[5,0,12,5]],[[1,0,13,1]],[[0,0,14,0],[6,0,14,6],[13,0,14,13],[23,0,14,24],[32,0,14,32],[46,0,14,46]],[[4,0,15,4],[16,0,15,16],[18,0,15,18],[20,0,15,20],[27,0,15,27],[29,0,15,29],[36,0,15,36],[38,0,15,38],[43,0,15,43],[45,0,15,45],[51,0,15,51],[53,0,15,53],[57,0,15,57],[60,0,15,60],[69,0,15,69]],[[8,0,16,8],[14,0,16,14],[18,0,16,18],[21,0,16,21],[33,0,16,33],[34,0,16,34]],[[8,0,17,8],[13,0,17,13],[14,0,17,14],[16,0,17,16],[18,0,17,18],[22,0,17,22],[24,0,17,24],[31,0,17,31],[33,0,17,33],[40,0,17,40],[42,0,17,42],[47,0,17,47],[49,0,17,49],[55,0,17,55],[57,0,17,57],[61,0,17,61],[62,0,17,62],[63,0,17,63]],[[4,0,18,4],[5,0,18,5]],[[1,0,19,1]],[[0,0,20,0],[6,0,20,6],[13,0,20,13],[24,0,20,25],[33,0,20,33],[47,0,20,47]],[[4,0,21,4],[16,0,21,16],[18,0,21,18],[20,0,21,20],[27,0,21,27],[29,0,21,29],[36,0,21,36],[38,0,21,38],[43,0,21,43],[45,0,21,45],[51,0,21,51],[53,0,21,53],[57,0,21,57],[60,0,21,60],[69,0,21,69]],[[8,0,22,8],[14,0,22,14],[18,0,22,18],[21,0,22,21],[34,0,22,34],[35,0,22,35]],[[8,0,23,8],[13,0,23,13],[14,0,23,14],[16,0,23,16],[18,0,23,18],[22,0,23,22],[24,0,23,24],[31,0,23,31],[33,0,23,33],[40,0,23,40],[42,0,23,42],[47,0,23,47],[49,0,23,49],[55,0,23,55],[57,0,23,57],[61,0,23,61],[62,0,23,62],[63,0,23,63]],[[4,0,24,4],[5,0,24,5]],[[1,0,25,1]],[[0,0,26,0],[6,0,26,6],[13,0,26,13],[23,0,26,23]],[[4,0,27,4],[16,0,27,16],[20,0,27,20],[22,0,27,22],[26,0,27,26],[29,0,27,29],[38,0,27,38]],[[8,0,28,8],[12,0,28,12],[13,0,28,13],[17,0,28,17],[20,0,28,20],[32,0,28,32],[33,0,28,33]],[[8,0,29,8],[12,0,29,12],[13,0,29,13],[17,0,29,17],[20,0,29,20],[24,0,29,24],[25,0,29,25]],[[8,0,30,8],[12,0,30,12],[13,0,30,13],[17,0,30,17],[20,0,30,20],[24,0,30,24],[25,0,30,25]],[[4,0,31,4],[5,0,31,5]],[[1,0,32,1]],[[0,0,33,0],[4162,0,33,4162]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":23296,"body":[{"type":"ImportDeclaration","start":0,"end":34,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"__awaiter"},"local":{"type":"Identifier","start":9,"end":18,"name":"__awaiter"}}],"source":{"type":"Literal","start":26,"end":33,"value":"tslib","raw":"\"tslib\""}},{"type":"ImportDeclaration","start":35,"end":86,"specifiers":[{"type":"ImportSpecifier","start":44,"end":50,"imported":{"type":"Identifier","start":44,"end":50,"name":"Inject"},"local":{"type":"Identifier","start":44,"end":50,"name":"Inject"}},{"type":"ImportSpecifier","start":52,"end":62,"imported":{"type":"Identifier","start":52,"end":62,"name":"Injectable"},"local":{"type":"Identifier","start":52,"end":62,"name":"Injectable"}}],"source":{"type":"Literal","start":70,"end":85,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":87,"end":118,"specifiers":[{"type":"ImportSpecifier","start":96,"end":103,"imported":{"type":"Identifier","start":96,"end":103,"name":"Subject"},"local":{"type":"Identifier","start":96,"end":103,"name":"Subject"}}],"source":{"type":"Literal","start":111,"end":117,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":119,"end":165,"specifiers":[{"type":"ImportSpecifier","start":128,"end":140,"imported":{"type":"Identifier","start":128,"end":140,"name":"debounceTime"},"local":{"type":"Identifier","start":128,"end":140,"name":"debounceTime"}}],"source":{"type":"Literal","start":148,"end":164,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":166,"end":202,"specifiers":[{"type":"ImportNamespaceSpecifier","start":173,"end":180,"local":{"type":"Identifier","start":178,"end":180,"name":"i0"}}],"source":{"type":"Literal","start":186,"end":201,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":203,"end":3971,"declaration":{"type":"ClassDeclaration","start":210,"end":3971,"id":{"type":"Identifier","start":216,"end":236,"name":"AnnotationOSDService"},"superClass":null,"body":{"type":"ClassBody","start":237,"end":3971,"body":[{"type":"MethodDefinition","start":243,"end":305,"static":false,"computed":false,"key":{"type":"Identifier","start":243,"end":254,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":254,"end":305,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":255,"end":268,"left":{"type":"Identifier","start":255,"end":260,"name":"debug"},"right":{"type":"Literal","start":263,"end":268,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":270,"end":305,"body":[{"type":"ExpressionStatement","start":280,"end":299,"expression":{"type":"AssignmentExpression","start":280,"end":298,"operator":"=","left":{"type":"MemberExpression","start":280,"end":290,"object":{"type":"ThisExpression","start":280,"end":284},"property":{"type":"Identifier","start":285,"end":290,"name":"DEBUG"},"computed":false,"optional":false},"right":{"type":"Identifier","start":293,"end":298,"name":"debug"}}}]}}},{"type":"MethodDefinition","start":310,"end":1672,"static":false,"computed":false,"key":{"type":"Identifier","start":310,"end":323,"name":"playerFactory"},"kind":"method","value":{"type":"FunctionExpression","start":323,"end":1672,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":324,"end":328,"name":"type"},{"type":"Identifier","start":330,"end":332,"name":"id"},{"type":"Identifier","start":334,"end":338,"name":"link"}],"body":{"type":"BlockStatement","start":340,"end":1672,"body":[{"type":"ReturnStatement","start":350,"end":1666,"argument":{"type":"NewExpression","start":357,"end":1665,"callee":{"type":"Identifier","start":361,"end":368,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":369,"end":1664,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":370,"end":377,"name":"resolve"}],"body":{"type":"BlockStatement","start":382,"end":1664,"body":[{"type":"ExpressionStatement","start":396,"end":887,"expression":{"type":"AssignmentExpression","start":396,"end":886,"operator":"=","left":{"type":"MemberExpression","start":396,"end":407,"object":{"type":"ThisExpression","start":396,"end":400},"property":{"type":"Identifier","start":401,"end":407,"name":"viewer"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":410,"end":886,"callee":{"type":"Identifier","start":410,"end":423,"name":"OpenSeadragon"},"arguments":[{"type":"ObjectExpression","start":424,"end":885,"properties":[{"type":"Property","start":442,"end":444,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":442,"end":444,"name":"id"},"kind":"init","value":{"type":"Identifier","start":442,"end":444,"name":"id"}},{"type":"Property","start":462,"end":527,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":462,"end":473,"name":"tileSources"},"value":{"type":"ConditionalExpression","start":475,"end":527,"test":{"type":"BinaryExpression","start":475,"end":489,"left":{"type":"Identifier","start":475,"end":479,"name":"type"},"operator":"===","right":{"type":"Literal","start":484,"end":489,"value":"dzi","raw":"'dzi'"}},"consequent":{"type":"Identifier","start":492,"end":496,"name":"link"},"alternate":{"type":"ObjectExpression","start":499,"end":527,"properties":[{"type":"Property","start":501,"end":514,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":501,"end":505,"name":"type"},"value":{"type":"Literal","start":507,"end":514,"value":"image","raw":"'image'"},"kind":"init"},{"type":"Property","start":516,"end":525,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":516,"end":519,"name":"url"},"value":{"type":"Identifier","start":521,"end":525,"name":"link"},"kind":"init"}]}},"kind":"init"},{"type":"Property","start":545,"end":589,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":545,"end":565,"name":"gestureSettingsTouch"},"value":{"type":"ObjectExpression","start":567,"end":589,"properties":[{"type":"Property","start":569,"end":587,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":569,"end":580,"name":"pinchRotate"},"value":{"type":"Literal","start":582,"end":587,"value":false,"raw":"false"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":607,"end":633,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":607,"end":626,"name":"showRotationControl"},"value":{"type":"Literal","start":628,"end":633,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":651,"end":679,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":651,"end":672,"name":"showNavigationControl"},"value":{"type":"Literal","start":674,"end":679,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":697,"end":719,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":697,"end":712,"name":"showFlipControl"},"value":{"type":"Literal","start":714,"end":719,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":737,"end":752,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":737,"end":749,"name":"zoomPerClick"},"value":{"type":"Literal","start":751,"end":752,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":770,"end":789,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":770,"end":786,"name":"imageLoaderLimit"},"value":{"type":"Literal","start":788,"end":789,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":807,"end":831,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":807,"end":825,"name":"constrainDuringPan"},"value":{"type":"Literal","start":827,"end":831,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":849,"end":870,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":849,"end":858,"name":"debugMode"},"value":{"type":"MemberExpression","start":860,"end":870,"object":{"type":"ThisExpression","start":860,"end":864},"property":{"type":"Identifier","start":865,"end":870,"name":"DEBUG"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"VariableDeclaration","start":900,"end":934,"declarations":[{"type":"VariableDeclarator","start":906,"end":933,"id":{"type":"Identifier","start":906,"end":917,"name":"subjectZoom"},"init":{"type":"NewExpression","start":920,"end":933,"callee":{"type":"Identifier","start":924,"end":931,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":947,"end":1039,"expression":{"type":"CallExpression","start":947,"end":1038,"callee":{"type":"MemberExpression","start":947,"end":969,"object":{"type":"MemberExpression","start":947,"end":958,"object":{"type":"ThisExpression","start":947,"end":951},"property":{"type":"Identifier","start":952,"end":958,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":959,"end":969,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":970,"end":976,"value":"zoom","raw":"'zoom'"},{"type":"ArrowFunctionExpression","start":978,"end":1037,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":979,"end":980,"name":"e"}],"body":{"type":"BlockStatement","start":985,"end":1037,"body":[{"type":"ExpressionStatement","start":1003,"end":1023,"expression":{"type":"CallExpression","start":1003,"end":1022,"callee":{"type":"MemberExpression","start":1003,"end":1019,"object":{"type":"Identifier","start":1003,"end":1014,"name":"subjectZoom"},"property":{"type":"Identifier","start":1015,"end":1019,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1020,"end":1021,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1052,"end":1203,"expression":{"type":"CallExpression","start":1052,"end":1202,"callee":{"type":"MemberExpression","start":1052,"end":1096,"object":{"type":"CallExpression","start":1052,"end":1086,"callee":{"type":"MemberExpression","start":1052,"end":1068,"object":{"type":"Identifier","start":1052,"end":1063,"name":"subjectZoom"},"property":{"type":"Identifier","start":1064,"end":1068,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1069,"end":1085,"callee":{"type":"Identifier","start":1069,"end":1081,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1082,"end":1084,"value":50,"raw":"50"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1087,"end":1096,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1097,"end":1201,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1103,"end":1201,"body":[{"type":"ExpressionStatement","start":1121,"end":1143,"expression":{"type":"CallExpression","start":1121,"end":1142,"callee":{"type":"MemberExpression","start":1121,"end":1140,"object":{"type":"ThisExpression","start":1121,"end":1125},"property":{"type":"Identifier","start":1126,"end":1140,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1216,"end":1381,"expression":{"type":"CallExpression","start":1216,"end":1380,"callee":{"type":"MemberExpression","start":1216,"end":1242,"object":{"type":"MemberExpression","start":1216,"end":1227,"object":{"type":"ThisExpression","start":1216,"end":1220},"property":{"type":"Identifier","start":1221,"end":1227,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1228,"end":1242,"name":"addOnceHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1243,"end":1249,"value":"open","raw":"'open'"},{"type":"ArrowFunctionExpression","start":1251,"end":1379,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1257,"end":1379,"body":[{"type":"ExpressionStatement","start":1275,"end":1295,"expression":{"type":"CallExpression","start":1275,"end":1294,"callee":{"type":"MemberExpression","start":1275,"end":1286,"object":{"type":"Identifier","start":1275,"end":1282,"name":"console"},"property":{"type":"Identifier","start":1283,"end":1286,"name":"log"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1287,"end":1293,"value":"open","raw":"'open'"}],"optional":false}},{"type":"ExpressionStatement","start":1312,"end":1334,"expression":{"type":"CallExpression","start":1312,"end":1333,"callee":{"type":"MemberExpression","start":1312,"end":1331,"object":{"type":"ThisExpression","start":1312,"end":1316},"property":{"type":"Identifier","start":1317,"end":1331,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1351,"end":1365,"expression":{"type":"CallExpression","start":1351,"end":1364,"callee":{"type":"Identifier","start":1351,"end":1358,"name":"resolve"},"arguments":[{"type":"ThisExpression","start":1359,"end":1363}],"optional":false}}]}}],"optional":false}},{"type":"VariableDeclaration","start":1394,"end":1430,"declarations":[{"type":"VariableDeclarator","start":1400,"end":1429,"id":{"type":"Identifier","start":1400,"end":1413,"name":"subjectResize"},"init":{"type":"NewExpression","start":1416,"end":1429,"callee":{"type":"Identifier","start":1420,"end":1427,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1443,"end":1539,"expression":{"type":"CallExpression","start":1443,"end":1538,"callee":{"type":"MemberExpression","start":1443,"end":1465,"object":{"type":"MemberExpression","start":1443,"end":1454,"object":{"type":"ThisExpression","start":1443,"end":1447},"property":{"type":"Identifier","start":1448,"end":1454,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1455,"end":1465,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1466,"end":1474,"value":"resize","raw":"'resize'"},{"type":"ArrowFunctionExpression","start":1476,"end":1537,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1477,"end":1478,"name":"e"}],"body":{"type":"BlockStatement","start":1483,"end":1537,"body":[{"type":"ExpressionStatement","start":1501,"end":1523,"expression":{"type":"CallExpression","start":1501,"end":1522,"callee":{"type":"MemberExpression","start":1501,"end":1519,"object":{"type":"Identifier","start":1501,"end":1514,"name":"subjectResize"},"property":{"type":"Identifier","start":1515,"end":1519,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1520,"end":1521,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1552,"end":1654,"expression":{"type":"CallExpression","start":1552,"end":1653,"callee":{"type":"MemberExpression","start":1552,"end":1599,"object":{"type":"CallExpression","start":1552,"end":1589,"callee":{"type":"MemberExpression","start":1552,"end":1570,"object":{"type":"Identifier","start":1552,"end":1565,"name":"subjectResize"},"property":{"type":"Identifier","start":1566,"end":1570,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1571,"end":1588,"callee":{"type":"Identifier","start":1571,"end":1583,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1584,"end":1587,"value":200,"raw":"200"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1590,"end":1599,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1600,"end":1652,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1606,"end":1652,"body":[{"type":"ExpressionStatement","start":1624,"end":1638,"expression":{"type":"CallExpression","start":1624,"end":1637,"callee":{"type":"MemberExpression","start":1624,"end":1635,"object":{"type":"ThisExpression","start":1624,"end":1628},"property":{"type":"Identifier","start":1629,"end":1635,"name":"goHome"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":2706,"end":3174,"static":false,"computed":false,"key":{"type":"Identifier","start":2706,"end":2720,"name":"calculateRatio"},"kind":"method","value":{"type":"FunctionExpression","start":2720,"end":3174,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2723,"end":3174,"body":[]}}},{"type":"MethodDefinition","start":3179,"end":3478,"static":false,"computed":false,"key":{"type":"Identifier","start":3179,"end":3185,"name":"goHome"},"kind":"method","value":{"type":"FunctionExpression","start":3185,"end":3478,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3188,"end":3478,"body":[{"type":"ReturnStatement","start":3198,"end":3472,"argument":{"type":"CallExpression","start":3205,"end":3471,"callee":{"type":"Identifier","start":3205,"end":3214,"name":"__awaiter"},"arguments":[{"type":"ThisExpression","start":3215,"end":3219},{"type":"UnaryExpression","start":3221,"end":3227,"operator":"void","prefix":true,"argument":{"type":"Literal","start":3226,"end":3227,"value":0,"raw":"0"}},{"type":"UnaryExpression","start":3229,"end":3235,"operator":"void","prefix":true,"argument":{"type":"Literal","start":3234,"end":3235,"value":0,"raw":"0"}},{"type":"FunctionExpression","start":3237,"end":3470,"id":null,"expression":false,"generator":true,"async":false,"params":[],"body":{"type":"BlockStatement","start":3250,"end":3470,"body":[{"type":"ReturnStatement","start":3448,"end":3460,"argument":{"type":"ThisExpression","start":3455,"end":3459}}]}}],"optional":false}}]}}},{"type":"MethodDefinition","start":3483,"end":3632,"static":false,"computed":false,"key":{"type":"Identifier","start":3483,"end":3492,"name":"addCanvas"},"kind":"method","value":{"type":"FunctionExpression","start":3492,"end":3632,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3495,"end":3632,"body":[{"type":"ExpressionStatement","start":3505,"end":3605,"expression":{"type":"AssignmentExpression","start":3505,"end":3604,"operator":"=","left":{"type":"MemberExpression","start":3505,"end":3516,"object":{"type":"ThisExpression","start":3505,"end":3509},"property":{"type":"Identifier","start":3510,"end":3516,"name":"canvas"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":3519,"end":3604,"callee":{"type":"MemberExpression","start":3519,"end":3602,"object":{"type":"CallExpression","start":3519,"end":3576,"callee":{"type":"MemberExpression","start":3519,"end":3559,"object":{"type":"MemberExpression","start":3519,"end":3530,"object":{"type":"ThisExpression","start":3519,"end":3523},"property":{"type":"Identifier","start":3524,"end":3530,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3544,"end":3559,"name":"fabricjsOverlay"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":3560,"end":3575,"properties":[{"type":"Property","start":3562,"end":3573,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3562,"end":3567,"name":"scale"},"value":{"type":"Literal","start":3569,"end":3573,"value":1000,"raw":"1000"},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":3590,"end":3602,"name":"fabricCanvas"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"ReturnStatement","start":3614,"end":3626,"argument":{"type":"ThisExpression","start":3621,"end":3625}}]}}},{"type":"MethodDefinition","start":3637,"end":3969,"static":false,"computed":false,"key":{"type":"Identifier","start":3637,"end":3646,"name":"addDamage"},"kind":"method","value":{"type":"FunctionExpression","start":3646,"end":3969,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3647,"end":3653,"name":"damage"}],"body":{"type":"BlockStatement","start":3655,"end":3969,"body":[{"type":"VariableDeclaration","start":3665,"end":3932,"declarations":[{"type":"VariableDeclarator","start":3671,"end":3931,"id":{"type":"Identifier","start":3671,"end":3675,"name":"poly"},"init":{"type":"NewExpression","start":3678,"end":3931,"callee":{"type":"MemberExpression","start":3682,"end":3696,"object":{"type":"Identifier","start":3682,"end":3688,"name":"fabric"},"property":{"type":"Identifier","start":3689,"end":3696,"name":"Polygon"},"computed":false,"optional":false},"arguments":[{"type":"ArrayExpression","start":3697,"end":3864,"elements":[{"type":"ObjectExpression","start":3711,"end":3728,"properties":[{"type":"Property","start":3713,"end":3719,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3713,"end":3714,"name":"x"},"value":{"type":"Literal","start":3716,"end":3719,"value":200,"raw":"200"},"kind":"init"},{"type":"Property","start":3721,"end":3726,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3721,"end":3722,"name":"y"},"value":{"type":"Literal","start":3724,"end":3726,"value":10,"raw":"10"},"kind":"init"}]},{"type":"ObjectExpression","start":3742,"end":3759,"properties":[{"type":"Property","start":3744,"end":3750,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3744,"end":3745,"name":"x"},"value":{"type":"Literal","start":3747,"end":3750,"value":250,"raw":"250"},"kind":"init"},{"type":"Property","start":3752,"end":3757,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3752,"end":3753,"name":"y"},"value":{"type":"Literal","start":3755,"end":3757,"value":50,"raw":"50"},"kind":"init"}]},{"type":"ObjectExpression","start":3773,"end":3791,"properties":[{"type":"Property","start":3775,"end":3781,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3775,"end":3776,"name":"x"},"value":{"type":"Literal","start":3778,"end":3781,"value":250,"raw":"250"},"kind":"init"},{"type":"Property","start":3783,"end":3789,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3783,"end":3784,"name":"y"},"value":{"type":"Literal","start":3786,"end":3789,"value":180,"raw":"180"},"kind":"init"}]},{"type":"ObjectExpression","start":3805,"end":3823,"properties":[{"type":"Property","start":3807,"end":3813,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3807,"end":3808,"name":"x"},"value":{"type":"Literal","start":3810,"end":3813,"value":150,"raw":"150"},"kind":"init"},{"type":"Property","start":3815,"end":3821,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3815,"end":3816,"name":"y"},"value":{"type":"Literal","start":3818,"end":3821,"value":180,"raw":"180"},"kind":"init"}]},{"type":"ObjectExpression","start":3837,"end":3854,"properties":[{"type":"Property","start":3839,"end":3845,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3839,"end":3840,"name":"x"},"value":{"type":"Literal","start":3842,"end":3845,"value":150,"raw":"150"},"kind":"init"},{"type":"Property","start":3847,"end":3852,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3847,"end":3848,"name":"y"},"value":{"type":"Literal","start":3850,"end":3852,"value":50,"raw":"50"},"kind":"init"}]}]},{"type":"ObjectExpression","start":3866,"end":3930,"properties":[{"type":"Property","start":3880,"end":3893,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3880,"end":3884,"name":"fill"},"value":{"type":"Literal","start":3886,"end":3893,"value":"green","raw":"'green'"},"kind":"init"},{"type":"Property","start":3907,"end":3919,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3907,"end":3914,"name":"opacity"},"value":{"type":"Literal","start":3916,"end":3919,"value":0.3,"raw":"0.3"},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3941,"end":3963,"expression":{"type":"CallExpression","start":3941,"end":3962,"callee":{"type":"MemberExpression","start":3941,"end":3956,"object":{"type":"MemberExpression","start":3941,"end":3952,"object":{"type":"ThisExpression","start":3941,"end":3945},"property":{"type":"Identifier","start":3946,"end":3952,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3953,"end":3956,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3957,"end":3961,"name":"poly"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":3972,"end":4107,"expression":{"type":"AssignmentExpression","start":3972,"end":4106,"operator":"=","left":{"type":"MemberExpression","start":3972,"end":3997,"object":{"type":"Identifier","start":3972,"end":3992,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":3993,"end":3997,"name":"fac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":4000,"end":4106,"id":{"type":"Identifier","start":4009,"end":4037,"name":"AnnotationOSDService_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4038,"end":4039,"name":"t"}],"body":{"type":"BlockStatement","start":4041,"end":4106,"body":[{"type":"ReturnStatement","start":4043,"end":4104,"argument":{"type":"NewExpression","start":4050,"end":4103,"callee":{"type":"LogicalExpression","start":4055,"end":4080,"left":{"type":"Identifier","start":4055,"end":4056,"name":"t"},"operator":"||","right":{"type":"Identifier","start":4060,"end":4080,"name":"AnnotationOSDService"}},"arguments":[{"type":"CallExpression","start":4082,"end":4102,"callee":{"type":"MemberExpression","start":4082,"end":4093,"object":{"type":"Identifier","start":4082,"end":4084,"name":"i0"},"property":{"type":"Identifier","start":4085,"end":4093,"name":"inject"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4094,"end":4101,"name":"Boolean"}],"optional":false}]}}]}}}},{"type":"ExpressionStatement","start":4108,"end":4262,"expression":{"type":"AssignmentExpression","start":4108,"end":4261,"operator":"=","left":{"type":"MemberExpression","start":4108,"end":4134,"object":{"type":"Identifier","start":4108,"end":4128,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4129,"end":4134,"name":"prov"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":4151,"end":4261,"callee":{"type":"MemberExpression","start":4151,"end":4172,"object":{"type":"Identifier","start":4151,"end":4153,"name":"i0"},"property":{"type":"Identifier","start":4154,"end":4172,"name":"defineInjectable"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":4173,"end":4260,"properties":[{"type":"Property","start":4175,"end":4202,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4175,"end":4180,"name":"token"},"value":{"type":"Identifier","start":4182,"end":4202,"name":"AnnotationOSDService"},"kind":"init"},{"type":"Property","start":4204,"end":4238,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4204,"end":4211,"name":"factory"},"value":{"type":"MemberExpression","start":4213,"end":4238,"object":{"type":"Identifier","start":4213,"end":4233,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4234,"end":4238,"name":"fac"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":4240,"end":4258,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4240,"end":4250,"name":"providedIn"},"value":{"type":"Literal","start":4252,"end":4258,"value":"root","raw":"'root'"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":4137,"end":4150}]}}},{"type":"ExpressionStatement","start":4263,"end":4689,"expression":{"type":"CallExpression","start":4263,"end":4688,"callee":{"type":"FunctionExpression","start":4264,"end":4685,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4276,"end":4685,"body":[{"type":"ExpressionStatement","start":4282,"end":4683,"expression":{"type":"LogicalExpression","start":4282,"end":4682,"left":{"type":"LogicalExpression","start":4283,"end":4328,"left":{"type":"BinaryExpression","start":4283,"end":4315,"left":{"type":"UnaryExpression","start":4283,"end":4299,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":4290,"end":4299,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":4304,"end":4315,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":4319,"end":4328,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":4333,"end":4682,"callee":{"type":"MemberExpression","start":4333,"end":4353,"object":{"type":"Identifier","start":4333,"end":4335,"name":"i0"},"property":{"type":"Identifier","start":4336,"end":4353,"name":"setClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4354,"end":4374,"name":"AnnotationOSDService"},{"type":"ArrayExpression","start":4376,"end":4499,"elements":[{"type":"ObjectExpression","start":4377,"end":4498,"properties":[{"type":"Property","start":4391,"end":4407,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4391,"end":4395,"name":"type"},"value":{"type":"Identifier","start":4397,"end":4407,"name":"Injectable"},"kind":"init"},{"type":"Property","start":4421,"end":4488,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4421,"end":4425,"name":"args"},"value":{"type":"ArrayExpression","start":4427,"end":4488,"elements":[{"type":"ObjectExpression","start":4428,"end":4487,"properties":[{"type":"Property","start":4450,"end":4468,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4450,"end":4460,"name":"providedIn"},"value":{"type":"Literal","start":4462,"end":4468,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"FunctionExpression","start":4501,"end":4675,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4513,"end":4675,"body":[{"type":"ReturnStatement","start":4523,"end":4669,"argument":{"type":"ArrayExpression","start":4530,"end":4668,"elements":[{"type":"ObjectExpression","start":4531,"end":4667,"properties":[{"type":"Property","start":4533,"end":4548,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4533,"end":4537,"name":"type"},"value":{"type":"Identifier","start":4539,"end":4548,"name":"undefined"},"kind":"init"},{"type":"Property","start":4550,"end":4665,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4550,"end":4560,"name":"decorators"},"value":{"type":"ArrayExpression","start":4562,"end":4665,"elements":[{"type":"ObjectExpression","start":4563,"end":4664,"properties":[{"type":"Property","start":4589,"end":4601,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4589,"end":4593,"name":"type"},"value":{"type":"Identifier","start":4595,"end":4601,"name":"Inject"},"kind":"init"},{"type":"Property","start":4627,"end":4642,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4627,"end":4631,"name":"args"},"value":{"type":"ArrayExpression","start":4633,"end":4642,"elements":[{"type":"Identifier","start":4634,"end":4641,"name":"Boolean"}]},"kind":"init"}]}]},"kind":"init"}]}]}}]}},{"type":"Literal","start":4677,"end":4681,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFnQjlDLE1BQU0sT0FBTyxvQkFBb0I7SUFXN0IsWUFBNkIsUUFBa0IsS0FBSztRQUNoRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sYUFBYSxDQUFDLElBQWdCLEVBQUUsRUFBVSxFQUFFLElBQVk7UUFDM0QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO2dCQUN4QixFQUFFO2dCQUNGLFdBQVcsRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUNqRSxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQW1DO2dCQUM3RSxtQkFBbUIsRUFBRSxLQUFLO2dCQUMxQixxQkFBcUIsRUFBRSxLQUFLO2dCQUM1QixlQUFlLEVBQUUsS0FBSztnQkFDdEIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDbkIsa0JBQWtCLEVBQUUsSUFBSTtnQkFDeEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ3hCLENBQUMsQ0FBQztZQUVILE1BQU0sV0FBVyxHQUFpQixJQUFJLE9BQU8sRUFBRSxDQUFDO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFO2dCQUN0QyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO2dCQUM5QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLDJCQUEyQjtZQUMvQixDQUFDLENBQUMsQ0FBQztZQUdILElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3hDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELEVBQUU7SUFDRixnRUFBZ0U7SUFDaEUsc0lBQXNJO0lBQ3RJLHVDQUF1QztJQUN2Qyx5Q0FBeUM7SUFDekMsc0NBQXNDO0lBQ3RDLHFFQUFxRTtJQUNyRSx3REFBd0Q7SUFDeEQsSUFBSTtJQUVKLCtCQUErQjtJQUMvQix1QkFBdUI7SUFDdkIsOENBQThDO0lBQzlDLHFEQUFxRDtJQUNyRCx1REFBdUQ7SUFDdkQsMkNBQTJDO0lBQzNDLGdEQUFnRDtJQUNoRCxvQ0FBb0M7SUFDcEMsMkRBQTJEO0lBQzNELFVBQVU7SUFDViw2Q0FBNkM7SUFDN0MsUUFBUTtJQUNSLE1BQU07SUFDTixJQUFJO0lBRUksY0FBYztRQUN0QixxREFBcUQ7UUFDckQsc0RBQXNEO1FBQ3RELG1FQUFtRTtRQUNuRSxvRUFBb0U7UUFDcEUscUVBQXFFO1FBQ3JFLCtFQUErRTtJQUMvRSxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU07UUFDbkIsc0RBQXNEO1FBQ3RELHlEQUF5RDtRQUN6RCxrQ0FBa0M7UUFDOUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLFNBQVM7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQyxNQUFjO2FBQzdCLGVBQWUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNoQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUyxDQUFDLE1BQThDO1FBQzNELE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQztZQUM1QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtTQUFDLEVBQUU7WUFDcEIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsR0FBRztTQUNmLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7O3dGQW5IUSxvQkFBb0IsY0FXVCxPQUFPOzBFQVhsQixvQkFBb0IsV0FBcEIsb0JBQW9CLG1CQUZqQixNQUFNO3VGQUVULG9CQUFvQjtjQUhoQyxVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7O3NCQVlnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG4gICAgTWFya2VyUG9seSwgIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlLCBNYXJrZXJSZWN0IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG4gXG4gXG5cbi8vIExvYWQgdHlwZSBmb3Igb3BlbnNlYWRyYWdvblxuZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZGVjbGFyZSBsZXQgT3BlblNlYWRyYWdvbjogVHlwZU9wZW5TZWFkcmFnb247XG4vLyBMb2FkIHR5cGUgZm9yIGZhYnJpY1xuZGVjbGFyZSB0eXBlIFR5cGVGYWJyaWMgPSB0eXBlb2YgaW1wb3J0KCdmYWJyaWMvZmFicmljLWltcGwnKTtcbmRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IGFueTsgLy9PcGVuU2VhZHJhZ29uLlZpZXdlcjtcbiAgICBwcm90ZWN0ZWQgY2FudmFzOmFueTsgLy8gZmFicmljLkNhbnZhcztcbiAgICBwcm90ZWN0ZWQgaW1hZ2VXaWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBpbWFnZUhlaWdodDogbnVtYmVyOyBcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBERUJVRyA6Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5ZXJGYWN0b3J5KHR5cGU6IFBsYXllclR5cGUsIGlkOiBzdHJpbmcsIGxpbms6IHN0cmluZyk6IFByb21pc2U8VGhpc1R5cGU8YW55Pj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvbih7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZXM6IHR5cGUgPT09ICdkemknID8gbGluayA6IHsgdHlwZTogJ2ltYWdlJywgdXJsOiBsaW5rIH0sXG4gICAgICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzVG91Y2g6IHsgcGluY2hSb3RhdGU6IGZhbHNlIH0gYXMgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2hvd1JvdGF0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93RmxpcENvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHpvb21QZXJDbGljazogMSxcbiAgICAgICAgICAgICAgICBpbWFnZUxvYWRlckxpbWl0OiAxLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbkR1cmluZ1BhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGU6IHRoaXMuREVCVUcsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdFpvb206IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCd6b29tJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3Rab29tLm5leHQoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1YmplY3Rab29tLnBpcGUoZGVib3VuY2VUaW1lKDUwKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5yZXNldFN0cm9rZVdpZHRoKCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRPbmNlSGFuZGxlcignb3BlbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb3BlbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlUmF0aW8oKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3RSZXNpemU6IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdyZXNpemUnLCAoZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0UmVzaXplLnBpcGUoZGVib3VuY2VUaW1lKDIwMCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5nb0hvbWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy9cbiAgICAvLyBwdWJsaWMgc2V0SG9tZShwb2ludDogUG9pbnQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgLy8gICBjb25zdCBob21lUG9pbnQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5pbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzKG5ldyBPU0QuUG9pbnQodGhpcy5pbWFnZVdpZHRoIC8gMiwgdGhpcy5pbWFnZUhlaWdodCAvIDIpKTtcbiAgICAvLyAgIGNvbnN0IHcgPSB0aGlzLmltYWdlV2lkdGggLyB3aWR0aDtcbiAgICAvLyAgIGNvbnN0IGggPSB0aGlzLmltYWdlSGVpZ2h0IC8gaGVpZ2h0O1xuICAgIC8vICAgY29uc3Qgem9vbSA9IDQ7IC8vIHcgPiBoID8gaCA6IHc7XG4gICAgLy8gICBjb25zb2xlLmxvZyhob21lUG9pbnQsIHpvb20sIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5pbWFnZUhlaWdodCk7XG4gICAgLy8gICB0aGlzLnZpZXdlci52aWV3cG9ydC56b29tVG8oMS4yLCBob21lUG9pbnQsIGZhbHNlKTtcbiAgICAvLyB9XG5cbiAgICAvLyBwcml2YXRlIHJlc2V0U3Ryb2tlV2lkdGgoKSB7XG4gICAgLy8gICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAvLyAgICAgY29uc3QgdyA9IDI7IC8vIGRlc2lyZWQgd2lkdGggaW4gcGl4ZWxzXG4gICAgLy8gICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gdyAvIHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAvLyAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YgdGhpcy5jYW52YXMuZ2V0T2JqZWN0cygpKSB7XG4gICAgLy8gICAgICAgb2JqZWN0LnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgIC8vICAgICAgIGlmIChvYmplY3QuZ2V0KCdyYWRpdXMnKSkge1xuICAgIC8vICAgICAgICAgb2JqZWN0LnNldCgncmFkaXVzJywgNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSk7XG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICAgIC8vIGNhbiBhbHNvIHVwZGF0ZSBvdGhlciB0aGluZ3MgaGVyZVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVSYXRpbygpIHtcbiAgICAvLyB0aGlzLmltYWdlV2lkdGggPSB0aGlzLnZpZXdlci5zb3VyY2UuZGltZW5zaW9ucy54O1xuICAgIC8vIHRoaXMuaW1hZ2VIZWlnaHQgPSB0aGlzLnZpZXdlci5zb3VyY2UuZGltZW5zaW9ucy55O1xuICAgIC8vIHRoaXMuY29udGFpbmVyV2lkdGggPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueDtcbiAgICAvLyB0aGlzLmNvbnRhaW5lckhlaWdodCA9IHRoaXMudmlld2VyLnZpZXdwb3J0LmdldENvbnRhaW5lclNpemUoKS55O1xuICAgIC8vIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW8gPSB0aGlzLmNvbnRhaW5lcldpZHRoIC8gdGhpcy5pbWFnZVdpZHRoO1xuICAgIC8vIHRoaXMuc2NhbGUgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRab29tKHRydWUpICogdGhpcy56b29tVG9ab29tTGV2ZWxSYXRpbztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ29Ib21lKCkge1xuICAgIC8vIGlmICghdGhpcy5ob21lKSB0aGlzLnZpZXdlci52aWV3cG9ydC5nb0hvbWUoZmFsc2UpO1xuICAgIC8vIGVsc2UgdGhpcy52aWV3ZXIudmlld3BvcnQuZml0Qm91bmRzKHRoaXMuaG9tZSwgZmFsc2UpO1xuICAgIC8vIHRoaXMuc2V0SG9tZShudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENhbnZhcygpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSAodGhpcy52aWV3ZXIgYXMgYW55KVxuICAgICAgICAgICAgLmZhYnJpY2pzT3ZlcmxheSh7IHNjYWxlOiAxMDAwIH0pXG4gICAgICAgICAgICAuZmFicmljQ2FudmFzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICAgICAgICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgICAgICAgICAgIHsgeDogMjAwLCB5OiAxMCB9LFxuICAgICAgICAgICAgeyB4OiAyNTAsIHk6IDUwIH0sXG4gICAgICAgICAgICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gICAgICAgICAgICB7IHg6IDE1MCwgeTogMTgwIH0sXG4gICAgICAgICAgICB7IHg6IDE1MCwgeTogNTAgfV0sIHtcbiAgICAgICAgICAgIGZpbGw6ICdncmVlbicsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZChwb2x5KTtcbiAgICB9XG4gICAgLypcbiAgICBtaW4gPSA5OTtcbiAgICBtYXggPSA5OTk5OTk7XG4gICAgcG9seWdvbk1vZGUgPSB0cnVlO1xuICAgIHBvaW50QXJyYXkgPSBbXTtcbiAgICBsaW5lQXJyYXkgPSBbXTtcbiAgICBhY3RpdmVMaW5lO1xuICAgIGFjdGl2ZVNoYXBlIDtcblxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICBjb25zdCBzdHJva2VXaWR0aCA9IDI7XG4gIGxldCBvYmo7XG4gIGlmICghKGRhbWFnZSBpbnN0YW5jZW9mIE1hcmtlclBvbHkpKSB7XG4gIG9iaiA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gIGlkOiAxLFxuICBsZWZ0OiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5jZW50ZXJYICogKHRoaXMuaW1hZ2VXaWR0aCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmNlbnRlclggKiB0aGlzLnNjYWxlKSArIHN0cm9rZVdpZHRoLFxuICB0b3A6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclkgKiAodGhpcy5pbWFnZUhlaWdodCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmNlbnRlclkgKiB0aGlzLnNjYWxlKSArIHN0cm9rZVdpZHRoLFxuICB3aWR0aDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2Uud2lkdGggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2Uud2lkdGggKiB0aGlzLnNjYWxlKSxcbiAgaGVpZ2h0OiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5oZWlnaHQgKiAodGhpcy5pbWFnZUhlaWdodCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmhlaWdodCAqIHRoaXMuc2NhbGUpLFxuICBzdHJva2VXaWR0aCxcbiAgc3Ryb2tlVW5pZm9ybTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaEFycmF5OiB1bmRlZmluZWQsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgY29ybmVyU3R5bGU6ICdjaXJjbGUnLFxuXG4gIC8vIEFkZCBkYXRhIG9wdGlvbiBmb3Igc3R5bGUgc2V0dGluZ3NcbiAgZmlsbDogJ3RyYW5zcGFyZW50JyxcbiAgc3Ryb2tlOiAncmVkJyxcbiAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGNvcm5lckNvbG9yOiAncmVkJyxcbiAgdHJhbnNwYXJlbnRDb3JuZXJzOiBmYWxzZSxcbiAgZHJhZ2dhYmxlOiB0cnVlLFxuICBsb2NrUm90YXRpb246IHRydWUsXG4gIGhhc0NvbnRyb2xzOiB0cnVlLFxuXG4gIH0pO1xuICB9XG4gIG9iai5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcblxuICBvYmouc2V0Q29udHJvbHNWaXNpYmlsaXR5KHsgbXRyOiBmYWxzZSB9KTtcbiAgdGhpcy5jYW52YXMuYWRkKG9iaik7XG5cbiAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWMuUG9seWdvbihbXG4gIHsgeDogMjAwLCB5OiAxMCB9LFxuICB7IHg6IDI1MCwgeTogNTAgfSxcbiAgeyB4OiAyNTAsIHk6IDE4MCB9LFxuICB7IHg6IDE1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiA1MCB9XSwge1xuICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgICAgfSk7XG5cbiAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuXG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTpkb3duJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmIChvcHRpb25zLnRhcmdldCAmJiBvcHRpb25zLnRhcmdldC5pZCA9PT0gdGhpcy5wb2ludEFycmF5WzBdLmlkKSB7XG4gIC8vICAgICAgICAgdGhpcy5nZW5lcmF0ZVBvbHlnb24odGhpcy5wb2ludEFycmF5KTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIGlmICh0aGlzLnBvbHlnb25Nb2RlKSB7XG4gIC8vICAgICAgICAgdGhpcy5hZGRQb2ludChvcHRpb25zKTtcbiAgLy8gICAgIH1cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTp1cCcsIChvcHRpb25zKSA9PiB7XG4gIC8vXG4gIC8vIH0pO1xuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6bW92ZScsIChvcHRpb25zKSA9PiB7XG4gIC8vICAgICBpZiAodGhpcy5hY3RpdmVMaW5lICYmIHRoaXMuYWN0aXZlTGluZS5jbGFzcyA9PT0gJ2xpbmUnKSB7XG4gIC8vICAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgLy8gICAgICAgICB0aGlzLmFjdGl2ZUxpbmUuc2V0KHsgeDI6IHBvaW50ZXIueCwgeTI6IHBvaW50ZXIueSB9KTtcbiAgLy9cbiAgLy8gICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmFjdGl2ZVNoYXBlLmdldCgncG9pbnRzJyk7XG4gIC8vICAgICAgICAgcG9pbnRzW3RoaXMucG9pbnRBcnJheS5sZW5ndGhdID0ge1xuICAvLyAgICAgICAgICAgICB4OiBwb2ludGVyLngsXG4gIC8vICAgICAgICAgICAgIHk6IHBvaW50ZXIueSxcbiAgLy8gICAgICAgICB9O1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuc2V0KHtcbiAgLy8gICAgICAgICAgICAgcG9pbnRzLFxuICAvLyAgICAgICAgIH0pO1xuICAvLyAgICAgICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICAvLyAgICAgfVxuICAvLyAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vIH0pO1xuXG4gIC8hKiAgICAgICAgdGhpcy5jYW52YXMub24oJ29iamVjdDpzY2FsaW5nJywgKGUpID0+IHtcbiAgY29uc29sZS5sb2coJ3NjYWxsaW5nICcpO1xuICB0aGlzLnJlc2V0U3Ryb2tlV2lkdGgoKTtcbiAgfSk7ICohL1xuICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1BvbHlnb24oKSB7XG4gIHRoaXMucG9seWdvbk1vZGUgPSB0cnVlO1xuICB0aGlzLnBvaW50QXJyYXkgPSBbXTtcbiAgdGhpcy5saW5lQXJyYXkgPSBbXTtcbiAgdGhpcy5hY3RpdmVMaW5lO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRQb2ludChvcHRpb25zKSB7XG4gIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xuICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5tYXggLSB0aGlzLm1pbiArIDEpKSArIHRoaXMubWluO1xuICBjb25zdCBpZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgcmFuZG9tO1xuICBjb25zdCBwb3MgPSB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKG9wdGlvbnMuZSk7XG4gIGNvbnN0IGNpcmNsZSA9IG5ldyBmYWJyaWMuQ2lyY2xlKHtcbiAgcmFkaXVzOiA1IC8gdGhpcy5jYW52YXMuZ2V0Wm9vbSgpLFxuICBmaWxsOiAnI2ZmZmZmZicsXG4gIHN0cm9rZTogJyMzMzMzMzMnLFxuICBzdHJva2VXaWR0aDogMC41LFxuICBsZWZ0OiBwb3MueCxcbiAgdG9wOiBwb3MueSxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgaWQsXG4gIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICB9KTtcbiAgaWYgKHRoaXMucG9pbnRBcnJheS5sZW5ndGggPT09IDApIHtcbiAgY2lyY2xlLnNldCh7XG4gIGZpbGw6ICdyZWQnLFxuICB9KTtcbiAgfVxuICBjb25zdCBwb2ludHNBID0gW3Bvcy54LCBwb3MueSwgcG9zLngsIHBvcy55XTtcbiAgY29uc3QgbGluZSA9IG5ldyBmYWJyaWMuTGluZShwb2ludHNBLCB7XG4gIHN0cm9rZVdpZHRoOiAyLFxuICBmaWxsOiAnIzk5OTk5OScsXG4gIHN0cm9rZTogJyM5OTk5OTknLFxuICBjbGFzczogJ2xpbmUnLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIHNlbGVjdGFibGU6IGZhbHNlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICBldmVudGVkOiBmYWxzZSxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBjb25zb2xlLmxvZyh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgaWYgKHRoaXMuYWN0aXZlU2hhcGUpIHtcbiAgICAgIGNvbnN0IHBvaW50c0IgPSB0aGlzLmFjdGl2ZVNoYXBlLmdldCgncG9pbnRzJykgYXMgYW55W107XG4gICAgICAgICAgcG9pbnRzQi5wdXNoKHtcbiAgICAgICAgICAgICAgeDogcG9zLngsXG4gICAgICAgICAgICAgIHk6IHBvcy55LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBvbHlnb25BID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvaW50c0IsIHtcbiAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICBmaWxsOiAnI2NjY2NjYycsXG4gICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICAgICAgZXZlbnRlZDogZmFsc2UsXG4gICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmUodGhpcy5hY3RpdmVTaGFwZSk7XG4gICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb25BKTtcbiAgICB0aGlzLmFjdGl2ZVNoYXBlID0gcG9seWdvbkE7XG4gICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcG9seVBvaW50ID0gW3sgeDogcG9zLngsIHk6IHBvcy55IH1dO1xuICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgZmFicmljLlBvbHlnb24ocG9seVBvaW50LCB7XG4gICAgICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgICAgICAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uO1xuICAgICAgICAgIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uKTtcbiAgICAgICAgICB9XG4gIHRoaXMuYWN0aXZlTGluZSA9IGxpbmU7XG5cbiAgdGhpcy5wb2ludEFycmF5LnB1c2goY2lyY2xlKTtcbiAgdGhpcy5saW5lQXJyYXkucHVzaChsaW5lKTtcblxuICB0aGlzLmNhbnZhcy5hZGQobGluZSk7XG4gIHRoaXMuY2FudmFzLmFkZChjaXJjbGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBvbHlnb24ocG9pbnRBcnJheSkge1xuICBjb25zb2xlLmxvZyhwb2ludEFycmF5LCB0aGlzLmxpbmVBcnJheSk7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuICBwb2ludEFycmF5LmZvckVhY2goKHBvaW50KSA9PiB7XG4gIHBvaW50cy5wdXNoKHtcbiAgeDogcG9pbnQubGVmdCxcbiAgeTogcG9pbnQudG9wLFxuICB9KTtcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmUocG9pbnQpO1xuICB9KTtcbiAgdGhpcy5saW5lQXJyYXkuZm9yRWFjaCgobGluZSkgPT4ge1xuICB0aGlzLmNhbnZhcy5yZW1vdmUobGluZSk7XG4gIH0pO1xuICB0aGlzLmNhbnZhcy5yZW1vdmUodGhpcy5hY3RpdmVTaGFwZSkucmVtb3ZlKHRoaXMuYWN0aXZlTGluZSk7XG4gIGNvbnN0IHBvbHlnb24gPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzLCB7XG4gIHN0cm9rZTogJyMzMzMzMzMnLFxuICBzdHJva2VXaWR0aDogMC41LFxuICBvcGFjaXR5OiAwLjMsXG4gIGZpbGw6ICdyZWQnLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICB9KTtcbiAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuXG4gIHRoaXMuYWN0aXZlTGluZSA9IG51bGw7XG4gIHRoaXMuYWN0aXZlU2hhcGUgPSBudWxsO1xuICB0aGlzLnBvbHlnb25Nb2RlID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlKCkge1xuICB0aGlzLmNhbnZhcy5jbGVhcigpO1xuICB0aGlzLmNhbnZhcy5kaXNwb3NlKCk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZUxpc3RlbmVycygpO1xuICB0aGlzLnZpZXdlci5kZXN0cm95KCk7XG4gIH0qL1xufSJdfQ==","start":4690,"end":23188},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","start":23189,"end":23296}]},"code":"import { __awaiter } from \"tslib\";\nimport { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n    calculateRatio() {\n        // this.imageWidth = this.viewer.source.dimensions.x;\n        // this.imageHeight = this.viewer.source.dimensions.y;\n        // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    goHome() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // if (!this.home) this.viewer.viewport.goHome(false);\n            // else this.viewer.viewport.fitBounds(this.home, false);\n            // this.setHome(null, null, null);\n            return this;\n        });\n    }\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    addDamage(damage) {\n        const poly = new fabric.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }\n        ], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n        this.canvas.add(poly);\n    }\n}\nAnnotationOSDService.fac = function AnnotationOSDService_Factory(t) { return new (t || AnnotationOSDService)(i0.inject(Boolean)); };\nAnnotationOSDService.prov = /*@__PURE__*/ i0.defineInjectable({ token: AnnotationOSDService, factory: AnnotationOSDService.fac, providedIn: 'root' });\n(function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(AnnotationOSDService, [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [Boolean]\n                    }] }];\n    }, null);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFnQjlDLE1BQU0sT0FBTyxvQkFBb0I7SUFXN0IsWUFBNkIsUUFBa0IsS0FBSztRQUNoRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sYUFBYSxDQUFDLElBQWdCLEVBQUUsRUFBVSxFQUFFLElBQVk7UUFDM0QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO2dCQUN4QixFQUFFO2dCQUNGLFdBQVcsRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUNqRSxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQW1DO2dCQUM3RSxtQkFBbUIsRUFBRSxLQUFLO2dCQUMxQixxQkFBcUIsRUFBRSxLQUFLO2dCQUM1QixlQUFlLEVBQUUsS0FBSztnQkFDdEIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDbkIsa0JBQWtCLEVBQUUsSUFBSTtnQkFDeEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ3hCLENBQUMsQ0FBQztZQUVILE1BQU0sV0FBVyxHQUFpQixJQUFJLE9BQU8sRUFBRSxDQUFDO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFO2dCQUN0QyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO2dCQUM5QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLDJCQUEyQjtZQUMvQixDQUFDLENBQUMsQ0FBQztZQUdILElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3hDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELEVBQUU7SUFDRixnRUFBZ0U7SUFDaEUsc0lBQXNJO0lBQ3RJLHVDQUF1QztJQUN2Qyx5Q0FBeUM7SUFDekMsc0NBQXNDO0lBQ3RDLHFFQUFxRTtJQUNyRSx3REFBd0Q7SUFDeEQsSUFBSTtJQUVKLCtCQUErQjtJQUMvQix1QkFBdUI7SUFDdkIsOENBQThDO0lBQzlDLHFEQUFxRDtJQUNyRCx1REFBdUQ7SUFDdkQsMkNBQTJDO0lBQzNDLGdEQUFnRDtJQUNoRCxvQ0FBb0M7SUFDcEMsMkRBQTJEO0lBQzNELFVBQVU7SUFDViw2Q0FBNkM7SUFDN0MsUUFBUTtJQUNSLE1BQU07SUFDTixJQUFJO0lBRUksY0FBYztRQUN0QixxREFBcUQ7UUFDckQsc0RBQXNEO1FBQ3RELG1FQUFtRTtRQUNuRSxvRUFBb0U7UUFDcEUscUVBQXFFO1FBQ3JFLCtFQUErRTtJQUMvRSxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU07UUFDbkIsc0RBQXNEO1FBQ3RELHlEQUF5RDtRQUN6RCxrQ0FBa0M7UUFDOUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLFNBQVM7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQyxNQUFjO2FBQzdCLGVBQWUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNoQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUyxDQUFDLE1BQThDO1FBQzNELE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQztZQUM1QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtTQUFDLEVBQUU7WUFDcEIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsR0FBRztTQUNmLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7O3dGQW5IUSxvQkFBb0IsY0FXVCxPQUFPOzBFQVhsQixvQkFBb0IsV0FBcEIsb0JBQW9CLG1CQUZqQixNQUFNO3VGQUVULG9CQUFvQjtjQUhoQyxVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7O3NCQVlnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG4gICAgTWFya2VyUG9seSwgIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlLCBNYXJrZXJSZWN0IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG4gXG4gXG5cbi8vIExvYWQgdHlwZSBmb3Igb3BlbnNlYWRyYWdvblxuZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZGVjbGFyZSBsZXQgT3BlblNlYWRyYWdvbjogVHlwZU9wZW5TZWFkcmFnb247XG4vLyBMb2FkIHR5cGUgZm9yIGZhYnJpY1xuZGVjbGFyZSB0eXBlIFR5cGVGYWJyaWMgPSB0eXBlb2YgaW1wb3J0KCdmYWJyaWMvZmFicmljLWltcGwnKTtcbmRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IGFueTsgLy9PcGVuU2VhZHJhZ29uLlZpZXdlcjtcbiAgICBwcm90ZWN0ZWQgY2FudmFzOmFueTsgLy8gZmFicmljLkNhbnZhcztcbiAgICBwcm90ZWN0ZWQgaW1hZ2VXaWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBpbWFnZUhlaWdodDogbnVtYmVyOyBcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBERUJVRyA6Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5ZXJGYWN0b3J5KHR5cGU6IFBsYXllclR5cGUsIGlkOiBzdHJpbmcsIGxpbms6IHN0cmluZyk6IFByb21pc2U8VGhpc1R5cGU8YW55Pj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvbih7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZXM6IHR5cGUgPT09ICdkemknID8gbGluayA6IHsgdHlwZTogJ2ltYWdlJywgdXJsOiBsaW5rIH0sXG4gICAgICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzVG91Y2g6IHsgcGluY2hSb3RhdGU6IGZhbHNlIH0gYXMgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2hvd1JvdGF0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93RmxpcENvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHpvb21QZXJDbGljazogMSxcbiAgICAgICAgICAgICAgICBpbWFnZUxvYWRlckxpbWl0OiAxLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbkR1cmluZ1BhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGU6IHRoaXMuREVCVUcsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdFpvb206IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCd6b29tJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3Rab29tLm5leHQoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1YmplY3Rab29tLnBpcGUoZGVib3VuY2VUaW1lKDUwKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5yZXNldFN0cm9rZVdpZHRoKCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRPbmNlSGFuZGxlcignb3BlbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb3BlbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlUmF0aW8oKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3RSZXNpemU6IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdyZXNpemUnLCAoZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0UmVzaXplLnBpcGUoZGVib3VuY2VUaW1lKDIwMCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5nb0hvbWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy9cbiAgICAvLyBwdWJsaWMgc2V0SG9tZShwb2ludDogUG9pbnQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgLy8gICBjb25zdCBob21lUG9pbnQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5pbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzKG5ldyBPU0QuUG9pbnQodGhpcy5pbWFnZVdpZHRoIC8gMiwgdGhpcy5pbWFnZUhlaWdodCAvIDIpKTtcbiAgICAvLyAgIGNvbnN0IHcgPSB0aGlzLmltYWdlV2lkdGggLyB3aWR0aDtcbiAgICAvLyAgIGNvbnN0IGggPSB0aGlzLmltYWdlSGVpZ2h0IC8gaGVpZ2h0O1xuICAgIC8vICAgY29uc3Qgem9vbSA9IDQ7IC8vIHcgPiBoID8gaCA6IHc7XG4gICAgLy8gICBjb25zb2xlLmxvZyhob21lUG9pbnQsIHpvb20sIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5pbWFnZUhlaWdodCk7XG4gICAgLy8gICB0aGlzLnZpZXdlci52aWV3cG9ydC56b29tVG8oMS4yLCBob21lUG9pbnQsIGZhbHNlKTtcbiAgICAvLyB9XG5cbiAgICAvLyBwcml2YXRlIHJlc2V0U3Ryb2tlV2lkdGgoKSB7XG4gICAgLy8gICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAvLyAgICAgY29uc3QgdyA9IDI7IC8vIGRlc2lyZWQgd2lkdGggaW4gcGl4ZWxzXG4gICAgLy8gICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gdyAvIHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAvLyAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YgdGhpcy5jYW52YXMuZ2V0T2JqZWN0cygpKSB7XG4gICAgLy8gICAgICAgb2JqZWN0LnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgIC8vICAgICAgIGlmIChvYmplY3QuZ2V0KCdyYWRpdXMnKSkge1xuICAgIC8vICAgICAgICAgb2JqZWN0LnNldCgncmFkaXVzJywgNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSk7XG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICAgIC8vIGNhbiBhbHNvIHVwZGF0ZSBvdGhlciB0aGluZ3MgaGVyZVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVSYXRpbygpIHtcbiAgICAvLyB0aGlzLmltYWdlV2lkdGggPSB0aGlzLnZpZXdlci5zb3VyY2UuZGltZW5zaW9ucy54O1xuICAgIC8vIHRoaXMuaW1hZ2VIZWlnaHQgPSB0aGlzLnZpZXdlci5zb3VyY2UuZGltZW5zaW9ucy55O1xuICAgIC8vIHRoaXMuY29udGFpbmVyV2lkdGggPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueDtcbiAgICAvLyB0aGlzLmNvbnRhaW5lckhlaWdodCA9IHRoaXMudmlld2VyLnZpZXdwb3J0LmdldENvbnRhaW5lclNpemUoKS55O1xuICAgIC8vIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW8gPSB0aGlzLmNvbnRhaW5lcldpZHRoIC8gdGhpcy5pbWFnZVdpZHRoO1xuICAgIC8vIHRoaXMuc2NhbGUgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRab29tKHRydWUpICogdGhpcy56b29tVG9ab29tTGV2ZWxSYXRpbztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ29Ib21lKCkge1xuICAgIC8vIGlmICghdGhpcy5ob21lKSB0aGlzLnZpZXdlci52aWV3cG9ydC5nb0hvbWUoZmFsc2UpO1xuICAgIC8vIGVsc2UgdGhpcy52aWV3ZXIudmlld3BvcnQuZml0Qm91bmRzKHRoaXMuaG9tZSwgZmFsc2UpO1xuICAgIC8vIHRoaXMuc2V0SG9tZShudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENhbnZhcygpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSAodGhpcy52aWV3ZXIgYXMgYW55KVxuICAgICAgICAgICAgLmZhYnJpY2pzT3ZlcmxheSh7IHNjYWxlOiAxMDAwIH0pXG4gICAgICAgICAgICAuZmFicmljQ2FudmFzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICAgICAgICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgICAgICAgICAgIHsgeDogMjAwLCB5OiAxMCB9LFxuICAgICAgICAgICAgeyB4OiAyNTAsIHk6IDUwIH0sXG4gICAgICAgICAgICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gICAgICAgICAgICB7IHg6IDE1MCwgeTogMTgwIH0sXG4gICAgICAgICAgICB7IHg6IDE1MCwgeTogNTAgfV0sIHtcbiAgICAgICAgICAgIGZpbGw6ICdncmVlbicsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZChwb2x5KTtcbiAgICB9XG4gICAgLypcbiAgICBtaW4gPSA5OTtcbiAgICBtYXggPSA5OTk5OTk7XG4gICAgcG9seWdvbk1vZGUgPSB0cnVlO1xuICAgIHBvaW50QXJyYXkgPSBbXTtcbiAgICBsaW5lQXJyYXkgPSBbXTtcbiAgICBhY3RpdmVMaW5lO1xuICAgIGFjdGl2ZVNoYXBlIDtcblxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICBjb25zdCBzdHJva2VXaWR0aCA9IDI7XG4gIGxldCBvYmo7XG4gIGlmICghKGRhbWFnZSBpbnN0YW5jZW9mIE1hcmtlclBvbHkpKSB7XG4gIG9iaiA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gIGlkOiAxLFxuICBsZWZ0OiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5jZW50ZXJYICogKHRoaXMuaW1hZ2VXaWR0aCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmNlbnRlclggKiB0aGlzLnNjYWxlKSArIHN0cm9rZVdpZHRoLFxuICB0b3A6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclkgKiAodGhpcy5pbWFnZUhlaWdodCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmNlbnRlclkgKiB0aGlzLnNjYWxlKSArIHN0cm9rZVdpZHRoLFxuICB3aWR0aDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2Uud2lkdGggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2Uud2lkdGggKiB0aGlzLnNjYWxlKSxcbiAgaGVpZ2h0OiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5oZWlnaHQgKiAodGhpcy5pbWFnZUhlaWdodCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmhlaWdodCAqIHRoaXMuc2NhbGUpLFxuICBzdHJva2VXaWR0aCxcbiAgc3Ryb2tlVW5pZm9ybTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaEFycmF5OiB1bmRlZmluZWQsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgY29ybmVyU3R5bGU6ICdjaXJjbGUnLFxuXG4gIC8vIEFkZCBkYXRhIG9wdGlvbiBmb3Igc3R5bGUgc2V0dGluZ3NcbiAgZmlsbDogJ3RyYW5zcGFyZW50JyxcbiAgc3Ryb2tlOiAncmVkJyxcbiAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGNvcm5lckNvbG9yOiAncmVkJyxcbiAgdHJhbnNwYXJlbnRDb3JuZXJzOiBmYWxzZSxcbiAgZHJhZ2dhYmxlOiB0cnVlLFxuICBsb2NrUm90YXRpb246IHRydWUsXG4gIGhhc0NvbnRyb2xzOiB0cnVlLFxuXG4gIH0pO1xuICB9XG4gIG9iai5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcblxuICBvYmouc2V0Q29udHJvbHNWaXNpYmlsaXR5KHsgbXRyOiBmYWxzZSB9KTtcbiAgdGhpcy5jYW52YXMuYWRkKG9iaik7XG5cbiAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWMuUG9seWdvbihbXG4gIHsgeDogMjAwLCB5OiAxMCB9LFxuICB7IHg6IDI1MCwgeTogNTAgfSxcbiAgeyB4OiAyNTAsIHk6IDE4MCB9LFxuICB7IHg6IDE1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiA1MCB9XSwge1xuICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgICAgfSk7XG5cbiAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuXG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTpkb3duJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmIChvcHRpb25zLnRhcmdldCAmJiBvcHRpb25zLnRhcmdldC5pZCA9PT0gdGhpcy5wb2ludEFycmF5WzBdLmlkKSB7XG4gIC8vICAgICAgICAgdGhpcy5nZW5lcmF0ZVBvbHlnb24odGhpcy5wb2ludEFycmF5KTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIGlmICh0aGlzLnBvbHlnb25Nb2RlKSB7XG4gIC8vICAgICAgICAgdGhpcy5hZGRQb2ludChvcHRpb25zKTtcbiAgLy8gICAgIH1cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTp1cCcsIChvcHRpb25zKSA9PiB7XG4gIC8vXG4gIC8vIH0pO1xuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6bW92ZScsIChvcHRpb25zKSA9PiB7XG4gIC8vICAgICBpZiAodGhpcy5hY3RpdmVMaW5lICYmIHRoaXMuYWN0aXZlTGluZS5jbGFzcyA9PT0gJ2xpbmUnKSB7XG4gIC8vICAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgLy8gICAgICAgICB0aGlzLmFjdGl2ZUxpbmUuc2V0KHsgeDI6IHBvaW50ZXIueCwgeTI6IHBvaW50ZXIueSB9KTtcbiAgLy9cbiAgLy8gICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmFjdGl2ZVNoYXBlLmdldCgncG9pbnRzJyk7XG4gIC8vICAgICAgICAgcG9pbnRzW3RoaXMucG9pbnRBcnJheS5sZW5ndGhdID0ge1xuICAvLyAgICAgICAgICAgICB4OiBwb2ludGVyLngsXG4gIC8vICAgICAgICAgICAgIHk6IHBvaW50ZXIueSxcbiAgLy8gICAgICAgICB9O1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuc2V0KHtcbiAgLy8gICAgICAgICAgICAgcG9pbnRzLFxuICAvLyAgICAgICAgIH0pO1xuICAvLyAgICAgICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICAvLyAgICAgfVxuICAvLyAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vIH0pO1xuXG4gIC8hKiAgICAgICAgdGhpcy5jYW52YXMub24oJ29iamVjdDpzY2FsaW5nJywgKGUpID0+IHtcbiAgY29uc29sZS5sb2coJ3NjYWxsaW5nICcpO1xuICB0aGlzLnJlc2V0U3Ryb2tlV2lkdGgoKTtcbiAgfSk7ICohL1xuICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1BvbHlnb24oKSB7XG4gIHRoaXMucG9seWdvbk1vZGUgPSB0cnVlO1xuICB0aGlzLnBvaW50QXJyYXkgPSBbXTtcbiAgdGhpcy5saW5lQXJyYXkgPSBbXTtcbiAgdGhpcy5hY3RpdmVMaW5lO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRQb2ludChvcHRpb25zKSB7XG4gIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xuICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5tYXggLSB0aGlzLm1pbiArIDEpKSArIHRoaXMubWluO1xuICBjb25zdCBpZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgcmFuZG9tO1xuICBjb25zdCBwb3MgPSB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKG9wdGlvbnMuZSk7XG4gIGNvbnN0IGNpcmNsZSA9IG5ldyBmYWJyaWMuQ2lyY2xlKHtcbiAgcmFkaXVzOiA1IC8gdGhpcy5jYW52YXMuZ2V0Wm9vbSgpLFxuICBmaWxsOiAnI2ZmZmZmZicsXG4gIHN0cm9rZTogJyMzMzMzMzMnLFxuICBzdHJva2VXaWR0aDogMC41LFxuICBsZWZ0OiBwb3MueCxcbiAgdG9wOiBwb3MueSxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgaWQsXG4gIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICB9KTtcbiAgaWYgKHRoaXMucG9pbnRBcnJheS5sZW5ndGggPT09IDApIHtcbiAgY2lyY2xlLnNldCh7XG4gIGZpbGw6ICdyZWQnLFxuICB9KTtcbiAgfVxuICBjb25zdCBwb2ludHNBID0gW3Bvcy54LCBwb3MueSwgcG9zLngsIHBvcy55XTtcbiAgY29uc3QgbGluZSA9IG5ldyBmYWJyaWMuTGluZShwb2ludHNBLCB7XG4gIHN0cm9rZVdpZHRoOiAyLFxuICBmaWxsOiAnIzk5OTk5OScsXG4gIHN0cm9rZTogJyM5OTk5OTknLFxuICBjbGFzczogJ2xpbmUnLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIHNlbGVjdGFibGU6IGZhbHNlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICBldmVudGVkOiBmYWxzZSxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBjb25zb2xlLmxvZyh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgaWYgKHRoaXMuYWN0aXZlU2hhcGUpIHtcbiAgICAgIGNvbnN0IHBvaW50c0IgPSB0aGlzLmFjdGl2ZVNoYXBlLmdldCgncG9pbnRzJykgYXMgYW55W107XG4gICAgICAgICAgcG9pbnRzQi5wdXNoKHtcbiAgICAgICAgICAgICAgeDogcG9zLngsXG4gICAgICAgICAgICAgIHk6IHBvcy55LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBvbHlnb25BID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvaW50c0IsIHtcbiAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICBmaWxsOiAnI2NjY2NjYycsXG4gICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICAgICAgZXZlbnRlZDogZmFsc2UsXG4gICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmUodGhpcy5hY3RpdmVTaGFwZSk7XG4gICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb25BKTtcbiAgICB0aGlzLmFjdGl2ZVNoYXBlID0gcG9seWdvbkE7XG4gICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcG9seVBvaW50ID0gW3sgeDogcG9zLngsIHk6IHBvcy55IH1dO1xuICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgZmFicmljLlBvbHlnb24ocG9seVBvaW50LCB7XG4gICAgICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgICAgICAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uO1xuICAgICAgICAgIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uKTtcbiAgICAgICAgICB9XG4gIHRoaXMuYWN0aXZlTGluZSA9IGxpbmU7XG5cbiAgdGhpcy5wb2ludEFycmF5LnB1c2goY2lyY2xlKTtcbiAgdGhpcy5saW5lQXJyYXkucHVzaChsaW5lKTtcblxuICB0aGlzLmNhbnZhcy5hZGQobGluZSk7XG4gIHRoaXMuY2FudmFzLmFkZChjaXJjbGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBvbHlnb24ocG9pbnRBcnJheSkge1xuICBjb25zb2xlLmxvZyhwb2ludEFycmF5LCB0aGlzLmxpbmVBcnJheSk7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuICBwb2ludEFycmF5LmZvckVhY2goKHBvaW50KSA9PiB7XG4gIHBvaW50cy5wdXNoKHtcbiAgeDogcG9pbnQubGVmdCxcbiAgeTogcG9pbnQudG9wLFxuICB9KTtcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmUocG9pbnQpO1xuICB9KTtcbiAgdGhpcy5saW5lQXJyYXkuZm9yRWFjaCgobGluZSkgPT4ge1xuICB0aGlzLmNhbnZhcy5yZW1vdmUobGluZSk7XG4gIH0pO1xuICB0aGlzLmNhbnZhcy5yZW1vdmUodGhpcy5hY3RpdmVTaGFwZSkucmVtb3ZlKHRoaXMuYWN0aXZlTGluZSk7XG4gIGNvbnN0IHBvbHlnb24gPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzLCB7XG4gIHN0cm9rZTogJyMzMzMzMzMnLFxuICBzdHJva2VXaWR0aDogMC41LFxuICBvcGFjaXR5OiAwLjMsXG4gIGZpbGw6ICdyZWQnLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICB9KTtcbiAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuXG4gIHRoaXMuYWN0aXZlTGluZSA9IG51bGw7XG4gIHRoaXMuYWN0aXZlU2hhcGUgPSBudWxsO1xuICB0aGlzLnBvbHlnb25Nb2RlID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlKCkge1xuICB0aGlzLmNhbnZhcy5jbGVhcigpO1xuICB0aGlzLmNhbnZhcy5kaXNwb3NlKCk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZUxpc3RlbmVycygpO1xuICB0aGlzLnZpZXdlci5kZXN0cm95KCk7XG4gIH0qL1xufSJdfQ==\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","customTransformCache":false,"dependencies":["tslib","@angular/core","rxjs","rxjs/operators"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n    calculateRatio() {\n        // this.imageWidth = this.viewer.source.dimensions.x;\n        // this.imageHeight = this.viewer.source.dimensions.y;\n        // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    async goHome() {\n        // if (!this.home) this.viewer.viewport.goHome(false);\n        // else this.viewer.viewport.fitBounds(this.home, false);\n        // this.setHome(null, null, null);\n        return this;\n    }\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    addDamage(damage) {\n        const poly = new fabric.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }\n        ], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n        this.canvas.add(poly);\n    }\n}\nAnnotationOSDService.fac = function AnnotationOSDService_Factory(t) { return new (t || AnnotationOSDService)(i0.inject(Boolean)); };\nAnnotationOSDService.prov = /*@__PURE__*/ i0.defineInjectable({ token: AnnotationOSDService, factory: AnnotationOSDService.fac, providedIn: 'root' });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(AnnotationOSDService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root',\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [Boolean]\n            }] }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFnQjlDLE1BQU0sT0FBTyxvQkFBb0I7SUFXN0IsWUFBNkIsUUFBa0IsS0FBSztRQUNoRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sYUFBYSxDQUFDLElBQWdCLEVBQUUsRUFBVSxFQUFFLElBQVk7UUFDM0QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO2dCQUN4QixFQUFFO2dCQUNGLFdBQVcsRUFBRSxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO2dCQUNqRSxvQkFBb0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQW1DO2dCQUM3RSxtQkFBbUIsRUFBRSxLQUFLO2dCQUMxQixxQkFBcUIsRUFBRSxLQUFLO2dCQUM1QixlQUFlLEVBQUUsS0FBSztnQkFDdEIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDbkIsa0JBQWtCLEVBQUUsSUFBSTtnQkFDeEIsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLO2FBQ3hCLENBQUMsQ0FBQztZQUVILE1BQU0sV0FBVyxHQUFpQixJQUFJLE9BQU8sRUFBRSxDQUFDO1lBQ2hELElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFO2dCQUN0QyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO2dCQUM5QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLDJCQUEyQjtZQUMvQixDQUFDLENBQUMsQ0FBQztZQUdILElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3hDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNELEVBQUU7SUFDRixnRUFBZ0U7SUFDaEUsc0lBQXNJO0lBQ3RJLHVDQUF1QztJQUN2Qyx5Q0FBeUM7SUFDekMsc0NBQXNDO0lBQ3RDLHFFQUFxRTtJQUNyRSx3REFBd0Q7SUFDeEQsSUFBSTtJQUVKLCtCQUErQjtJQUMvQix1QkFBdUI7SUFDdkIsOENBQThDO0lBQzlDLHFEQUFxRDtJQUNyRCx1REFBdUQ7SUFDdkQsMkNBQTJDO0lBQzNDLGdEQUFnRDtJQUNoRCxvQ0FBb0M7SUFDcEMsMkRBQTJEO0lBQzNELFVBQVU7SUFDViw2Q0FBNkM7SUFDN0MsUUFBUTtJQUNSLE1BQU07SUFDTixJQUFJO0lBRUksY0FBYztRQUN0QixxREFBcUQ7UUFDckQsc0RBQXNEO1FBQ3RELG1FQUFtRTtRQUNuRSxvRUFBb0U7UUFDcEUscUVBQXFFO1FBQ3JFLCtFQUErRTtJQUMvRSxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU07UUFDbkIsc0RBQXNEO1FBQ3RELHlEQUF5RDtRQUN6RCxrQ0FBa0M7UUFDOUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLFNBQVM7UUFDWixJQUFJLENBQUMsTUFBTSxHQUFJLElBQUksQ0FBQyxNQUFjO2FBQzdCLGVBQWUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQzthQUNoQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sU0FBUyxDQUFDLE1BQThDO1FBQzNELE1BQU0sSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQztZQUM1QixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNqQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNsQixFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtTQUFDLEVBQUU7WUFDcEIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsR0FBRztTQUNmLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7O3dGQW5IUSxvQkFBb0IsY0FXVCxPQUFPOzBFQVhsQixvQkFBb0IsV0FBcEIsb0JBQW9CLG1CQUZqQixNQUFNO3VGQUVULG9CQUFvQjtjQUhoQyxVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7O3NCQVlnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG4gICAgTWFya2VyUG9seSwgIE1hcmtlclJvdW5kLCBQbGF5ZXJUeXBlLCBNYXJrZXJSZWN0IH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG4gXG4gXG5cbi8vIExvYWQgdHlwZSBmb3Igb3BlbnNlYWRyYWdvblxuZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZGVjbGFyZSBsZXQgT3BlblNlYWRyYWdvbjogVHlwZU9wZW5TZWFkcmFnb247XG4vLyBMb2FkIHR5cGUgZm9yIGZhYnJpY1xuZGVjbGFyZSB0eXBlIFR5cGVGYWJyaWMgPSB0eXBlb2YgaW1wb3J0KCdmYWJyaWMvZmFicmljLWltcGwnKTtcbmRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXI6IGFueTsgLy9PcGVuU2VhZHJhZ29uLlZpZXdlcjtcbiAgICBwcm90ZWN0ZWQgY2FudmFzOmFueTsgLy8gZmFicmljLkNhbnZhcztcbiAgICBwcm90ZWN0ZWQgaW1hZ2VXaWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBpbWFnZUhlaWdodDogbnVtYmVyOyBcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBERUJVRyA6Ym9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5ZXJGYWN0b3J5KHR5cGU6IFBsYXllclR5cGUsIGlkOiBzdHJpbmcsIGxpbms6IHN0cmluZyk6IFByb21pc2U8VGhpc1R5cGU8YW55Pj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvbih7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZXM6IHR5cGUgPT09ICdkemknID8gbGluayA6IHsgdHlwZTogJ2ltYWdlJywgdXJsOiBsaW5rIH0sXG4gICAgICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzVG91Y2g6IHsgcGluY2hSb3RhdGU6IGZhbHNlIH0gYXMgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2hvd1JvdGF0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93RmxpcENvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHpvb21QZXJDbGljazogMSxcbiAgICAgICAgICAgICAgICBpbWFnZUxvYWRlckxpbWl0OiAxLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbkR1cmluZ1BhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGU6IHRoaXMuREVCVUcsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdFpvb206IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCd6b29tJywgKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YmplY3Rab29tLm5leHQoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1YmplY3Rab29tLnBpcGUoZGVib3VuY2VUaW1lKDUwKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVJhdGlvKCk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5yZXNldFN0cm9rZVdpZHRoKCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRPbmNlSGFuZGxlcignb3BlbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb3BlbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlUmF0aW8oKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3RSZXNpemU6IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdyZXNpemUnLCAoZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViamVjdFJlc2l6ZS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0UmVzaXplLnBpcGUoZGVib3VuY2VUaW1lKDIwMCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5nb0hvbWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy9cbiAgICAvLyBwdWJsaWMgc2V0SG9tZShwb2ludDogUG9pbnQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgLy8gICBjb25zdCBob21lUG9pbnQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5pbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzKG5ldyBPU0QuUG9pbnQodGhpcy5pbWFnZVdpZHRoIC8gMiwgdGhpcy5pbWFnZUhlaWdodCAvIDIpKTtcbiAgICAvLyAgIGNvbnN0IHcgPSB0aGlzLmltYWdlV2lkdGggLyB3aWR0aDtcbiAgICAvLyAgIGNvbnN0IGggPSB0aGlzLmltYWdlSGVpZ2h0IC8gaGVpZ2h0O1xuICAgIC8vICAgY29uc3Qgem9vbSA9IDQ7IC8vIHcgPiBoID8gaCA6IHc7XG4gICAgLy8gICBjb25zb2xlLmxvZyhob21lUG9pbnQsIHpvb20sIHRoaXMuaW1hZ2VXaWR0aCwgdGhpcy5pbWFnZUhlaWdodCk7XG4gICAgLy8gICB0aGlzLnZpZXdlci52aWV3cG9ydC56b29tVG8oMS4yLCBob21lUG9pbnQsIGZhbHNlKTtcbiAgICAvLyB9XG5cbiAgICAvLyBwcml2YXRlIHJlc2V0U3Ryb2tlV2lkdGgoKSB7XG4gICAgLy8gICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAvLyAgICAgY29uc3QgdyA9IDI7IC8vIGRlc2lyZWQgd2lkdGggaW4gcGl4ZWxzXG4gICAgLy8gICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gdyAvIHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAvLyAgICAgZm9yIChjb25zdCBvYmplY3Qgb2YgdGhpcy5jYW52YXMuZ2V0T2JqZWN0cygpKSB7XG4gICAgLy8gICAgICAgb2JqZWN0LnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuICAgIC8vICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVdpZHRoJywgc3Ryb2tlV2lkdGgpO1xuICAgIC8vICAgICAgIGlmIChvYmplY3QuZ2V0KCdyYWRpdXMnKSkge1xuICAgIC8vICAgICAgICAgb2JqZWN0LnNldCgncmFkaXVzJywgNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSk7XG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICAgIC8vIGNhbiBhbHNvIHVwZGF0ZSBvdGhlciB0aGluZ3MgaGVyZVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVSYXRpbygpIHtcbiAgICAvLyB0aGlzLmltYWdlV2lkdGggPSB0aGlzLnZpZXdlci5zb3VyY2UuZGltZW5zaW9ucy54O1xuICAgIC8vIHRoaXMuaW1hZ2VIZWlnaHQgPSB0aGlzLnZpZXdlci5zb3VyY2UuZGltZW5zaW9ucy55O1xuICAgIC8vIHRoaXMuY29udGFpbmVyV2lkdGggPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCkueDtcbiAgICAvLyB0aGlzLmNvbnRhaW5lckhlaWdodCA9IHRoaXMudmlld2VyLnZpZXdwb3J0LmdldENvbnRhaW5lclNpemUoKS55O1xuICAgIC8vIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW8gPSB0aGlzLmNvbnRhaW5lcldpZHRoIC8gdGhpcy5pbWFnZVdpZHRoO1xuICAgIC8vIHRoaXMuc2NhbGUgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRab29tKHRydWUpICogdGhpcy56b29tVG9ab29tTGV2ZWxSYXRpbztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ29Ib21lKCkge1xuICAgIC8vIGlmICghdGhpcy5ob21lKSB0aGlzLnZpZXdlci52aWV3cG9ydC5nb0hvbWUoZmFsc2UpO1xuICAgIC8vIGVsc2UgdGhpcy52aWV3ZXIudmlld3BvcnQuZml0Qm91bmRzKHRoaXMuaG9tZSwgZmFsc2UpO1xuICAgIC8vIHRoaXMuc2V0SG9tZShudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENhbnZhcygpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSAodGhpcy52aWV3ZXIgYXMgYW55KVxuICAgICAgICAgICAgLmZhYnJpY2pzT3ZlcmxheSh7IHNjYWxlOiAxMDAwIH0pXG4gICAgICAgICAgICAuZmFicmljQ2FudmFzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICAgICAgICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgICAgICAgICAgIHsgeDogMjAwLCB5OiAxMCB9LFxuICAgICAgICAgICAgeyB4OiAyNTAsIHk6IDUwIH0sXG4gICAgICAgICAgICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gICAgICAgICAgICB7IHg6IDE1MCwgeTogMTgwIH0sXG4gICAgICAgICAgICB7IHg6IDE1MCwgeTogNTAgfV0sIHtcbiAgICAgICAgICAgIGZpbGw6ICdncmVlbicsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZChwb2x5KTtcbiAgICB9XG4gICAgLypcbiAgICBtaW4gPSA5OTtcbiAgICBtYXggPSA5OTk5OTk7XG4gICAgcG9seWdvbk1vZGUgPSB0cnVlO1xuICAgIHBvaW50QXJyYXkgPSBbXTtcbiAgICBsaW5lQXJyYXkgPSBbXTtcbiAgICBhY3RpdmVMaW5lO1xuICAgIGFjdGl2ZVNoYXBlIDtcblxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICBjb25zdCBzdHJva2VXaWR0aCA9IDI7XG4gIGxldCBvYmo7XG4gIGlmICghKGRhbWFnZSBpbnN0YW5jZW9mIE1hcmtlclBvbHkpKSB7XG4gIG9iaiA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gIGlkOiAxLFxuICBsZWZ0OiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5jZW50ZXJYICogKHRoaXMuaW1hZ2VXaWR0aCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmNlbnRlclggKiB0aGlzLnNjYWxlKSArIHN0cm9rZVdpZHRoLFxuICB0b3A6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclkgKiAodGhpcy5pbWFnZUhlaWdodCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmNlbnRlclkgKiB0aGlzLnNjYWxlKSArIHN0cm9rZVdpZHRoLFxuICB3aWR0aDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2Uud2lkdGggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2Uud2lkdGggKiB0aGlzLnNjYWxlKSxcbiAgaGVpZ2h0OiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS5oZWlnaHQgKiAodGhpcy5pbWFnZUhlaWdodCAqIHRoaXMuc2NhbGUpXG4gIDogZGFtYWdlLmhlaWdodCAqIHRoaXMuc2NhbGUpLFxuICBzdHJva2VXaWR0aCxcbiAgc3Ryb2tlVW5pZm9ybTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaEFycmF5OiB1bmRlZmluZWQsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgY29ybmVyU3R5bGU6ICdjaXJjbGUnLFxuXG4gIC8vIEFkZCBkYXRhIG9wdGlvbiBmb3Igc3R5bGUgc2V0dGluZ3NcbiAgZmlsbDogJ3RyYW5zcGFyZW50JyxcbiAgc3Ryb2tlOiAncmVkJyxcbiAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGNvcm5lckNvbG9yOiAncmVkJyxcbiAgdHJhbnNwYXJlbnRDb3JuZXJzOiBmYWxzZSxcbiAgZHJhZ2dhYmxlOiB0cnVlLFxuICBsb2NrUm90YXRpb246IHRydWUsXG4gIGhhc0NvbnRyb2xzOiB0cnVlLFxuXG4gIH0pO1xuICB9XG4gIG9iai5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcblxuICBvYmouc2V0Q29udHJvbHNWaXNpYmlsaXR5KHsgbXRyOiBmYWxzZSB9KTtcbiAgdGhpcy5jYW52YXMuYWRkKG9iaik7XG5cbiAgY29uc3QgcG9seSA9IG5ldyBmYWJyaWMuUG9seWdvbihbXG4gIHsgeDogMjAwLCB5OiAxMCB9LFxuICB7IHg6IDI1MCwgeTogNTAgfSxcbiAgeyB4OiAyNTAsIHk6IDE4MCB9LFxuICB7IHg6IDE1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiA1MCB9XSwge1xuICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICAgICAgfSk7XG5cbiAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuXG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTpkb3duJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmIChvcHRpb25zLnRhcmdldCAmJiBvcHRpb25zLnRhcmdldC5pZCA9PT0gdGhpcy5wb2ludEFycmF5WzBdLmlkKSB7XG4gIC8vICAgICAgICAgdGhpcy5nZW5lcmF0ZVBvbHlnb24odGhpcy5wb2ludEFycmF5KTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIGlmICh0aGlzLnBvbHlnb25Nb2RlKSB7XG4gIC8vICAgICAgICAgdGhpcy5hZGRQb2ludChvcHRpb25zKTtcbiAgLy8gICAgIH1cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTp1cCcsIChvcHRpb25zKSA9PiB7XG4gIC8vXG4gIC8vIH0pO1xuICAvLyB0aGlzLmNhbnZhcy5vbignbW91c2U6bW92ZScsIChvcHRpb25zKSA9PiB7XG4gIC8vICAgICBpZiAodGhpcy5hY3RpdmVMaW5lICYmIHRoaXMuYWN0aXZlTGluZS5jbGFzcyA9PT0gJ2xpbmUnKSB7XG4gIC8vICAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgLy8gICAgICAgICB0aGlzLmFjdGl2ZUxpbmUuc2V0KHsgeDI6IHBvaW50ZXIueCwgeTI6IHBvaW50ZXIueSB9KTtcbiAgLy9cbiAgLy8gICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmFjdGl2ZVNoYXBlLmdldCgncG9pbnRzJyk7XG4gIC8vICAgICAgICAgcG9pbnRzW3RoaXMucG9pbnRBcnJheS5sZW5ndGhdID0ge1xuICAvLyAgICAgICAgICAgICB4OiBwb2ludGVyLngsXG4gIC8vICAgICAgICAgICAgIHk6IHBvaW50ZXIueSxcbiAgLy8gICAgICAgICB9O1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUuc2V0KHtcbiAgLy8gICAgICAgICAgICAgcG9pbnRzLFxuICAvLyAgICAgICAgIH0pO1xuICAvLyAgICAgICAgIHRoaXMuY2FudmFzLnJlbmRlckFsbCgpO1xuICAvLyAgICAgfVxuICAvLyAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vIH0pO1xuXG4gIC8hKiAgICAgICAgdGhpcy5jYW52YXMub24oJ29iamVjdDpzY2FsaW5nJywgKGUpID0+IHtcbiAgY29uc29sZS5sb2coJ3NjYWxsaW5nICcpO1xuICB0aGlzLnJlc2V0U3Ryb2tlV2lkdGgoKTtcbiAgfSk7ICohL1xuICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1BvbHlnb24oKSB7XG4gIHRoaXMucG9seWdvbk1vZGUgPSB0cnVlO1xuICB0aGlzLnBvaW50QXJyYXkgPSBbXTtcbiAgdGhpcy5saW5lQXJyYXkgPSBbXTtcbiAgdGhpcy5hY3RpdmVMaW5lO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRQb2ludChvcHRpb25zKSB7XG4gIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xuICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5tYXggLSB0aGlzLm1pbiArIDEpKSArIHRoaXMubWluO1xuICBjb25zdCBpZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgcmFuZG9tO1xuICBjb25zdCBwb3MgPSB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKG9wdGlvbnMuZSk7XG4gIGNvbnN0IGNpcmNsZSA9IG5ldyBmYWJyaWMuQ2lyY2xlKHtcbiAgcmFkaXVzOiA1IC8gdGhpcy5jYW52YXMuZ2V0Wm9vbSgpLFxuICBmaWxsOiAnI2ZmZmZmZicsXG4gIHN0cm9rZTogJyMzMzMzMzMnLFxuICBzdHJva2VXaWR0aDogMC41LFxuICBsZWZ0OiBwb3MueCxcbiAgdG9wOiBwb3MueSxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgaWQsXG4gIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICB9KTtcbiAgaWYgKHRoaXMucG9pbnRBcnJheS5sZW5ndGggPT09IDApIHtcbiAgY2lyY2xlLnNldCh7XG4gIGZpbGw6ICdyZWQnLFxuICB9KTtcbiAgfVxuICBjb25zdCBwb2ludHNBID0gW3Bvcy54LCBwb3MueSwgcG9zLngsIHBvcy55XTtcbiAgY29uc3QgbGluZSA9IG5ldyBmYWJyaWMuTGluZShwb2ludHNBLCB7XG4gIHN0cm9rZVdpZHRoOiAyLFxuICBmaWxsOiAnIzk5OTk5OScsXG4gIHN0cm9rZTogJyM5OTk5OTknLFxuICBjbGFzczogJ2xpbmUnLFxuICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgb3JpZ2luWTogJ2NlbnRlcicsXG4gIHNlbGVjdGFibGU6IGZhbHNlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICBldmVudGVkOiBmYWxzZSxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBjb25zb2xlLmxvZyh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgaWYgKHRoaXMuYWN0aXZlU2hhcGUpIHtcbiAgICAgIGNvbnN0IHBvaW50c0IgPSB0aGlzLmFjdGl2ZVNoYXBlLmdldCgncG9pbnRzJykgYXMgYW55W107XG4gICAgICAgICAgcG9pbnRzQi5wdXNoKHtcbiAgICAgICAgICAgICAgeDogcG9zLngsXG4gICAgICAgICAgICAgIHk6IHBvcy55LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHBvbHlnb25BID0gbmV3IGZhYnJpYy5Qb2x5Z29uKHBvaW50c0IsIHtcbiAgICAgIHN0cm9rZTogJyMzMzMzMzMnLFxuICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICBmaWxsOiAnI2NjY2NjYycsXG4gICAgICBvcGFjaXR5OiAwLjMsXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICAgICAgZXZlbnRlZDogZmFsc2UsXG4gICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmUodGhpcy5hY3RpdmVTaGFwZSk7XG4gICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb25BKTtcbiAgICB0aGlzLmFjdGl2ZVNoYXBlID0gcG9seWdvbkE7XG4gICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcG9seVBvaW50ID0gW3sgeDogcG9zLngsIHk6IHBvcy55IH1dO1xuICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgZmFicmljLlBvbHlnb24ocG9seVBvaW50LCB7XG4gICAgICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgICAgICAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uO1xuICAgICAgICAgIHRoaXMuY2FudmFzLmFkZChwb2x5Z29uKTtcbiAgICAgICAgICB9XG4gIHRoaXMuYWN0aXZlTGluZSA9IGxpbmU7XG5cbiAgdGhpcy5wb2ludEFycmF5LnB1c2goY2lyY2xlKTtcbiAgdGhpcy5saW5lQXJyYXkucHVzaChsaW5lKTtcblxuICB0aGlzLmNhbnZhcy5hZGQobGluZSk7XG4gIHRoaXMuY2FudmFzLmFkZChjaXJjbGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBvbHlnb24ocG9pbnRBcnJheSkge1xuICBjb25zb2xlLmxvZyhwb2ludEFycmF5LCB0aGlzLmxpbmVBcnJheSk7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuICBwb2ludEFycmF5LmZvckVhY2goKHBvaW50KSA9PiB7XG4gIHBvaW50cy5wdXNoKHtcbiAgeDogcG9pbnQubGVmdCxcbiAgeTogcG9pbnQudG9wLFxuICB9KTtcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmUocG9pbnQpO1xuICB9KTtcbiAgdGhpcy5saW5lQXJyYXkuZm9yRWFjaCgobGluZSkgPT4ge1xuICB0aGlzLmNhbnZhcy5yZW1vdmUobGluZSk7XG4gIH0pO1xuICB0aGlzLmNhbnZhcy5yZW1vdmUodGhpcy5hY3RpdmVTaGFwZSkucmVtb3ZlKHRoaXMuYWN0aXZlTGluZSk7XG4gIGNvbnN0IHBvbHlnb24gPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzLCB7XG4gIHN0cm9rZTogJyMzMzMzMzMnLFxuICBzdHJva2VXaWR0aDogMC41LFxuICBvcGFjaXR5OiAwLjMsXG4gIGZpbGw6ICdyZWQnLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgaGFzQ29udHJvbHM6IGZhbHNlLFxuICB9KTtcbiAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuXG4gIHRoaXMuYWN0aXZlTGluZSA9IG51bGw7XG4gIHRoaXMuYWN0aXZlU2hhcGUgPSBudWxsO1xuICB0aGlzLnBvbHlnb25Nb2RlID0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlKCkge1xuICB0aGlzLmNhbnZhcy5jbGVhcigpO1xuICB0aGlzLmNhbnZhcy5kaXNwb3NlKCk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZUxpc3RlbmVycygpO1xuICB0aGlzLnZpZXdlci5kZXN0cm95KCk7XG4gIH0qL1xufSJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.service.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[15,0,0,15],[17,0,0,17],[27,0,0,27],[29,0,0,29],[35,0,0,35],[50,0,0,50],[51,0,0,51]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[16,0,1,16],[18,0,1,18],[24,0,1,24],[30,0,1,30],[31,0,1,31]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,23],[29,0,2,29],[45,0,2,45],[46,0,2,46]],[],[[0,0,18,0],[6,0,18,6],[13,0,18,13],[33,0,18,33]],[[4,0,29,4],[16,0,29,33],[24,0,29,51],[29,0,29,56]],[[8,0,30,8],[12,0,30,12],[13,0,30,13],[18,0,30,18],[21,0,30,21],[26,0,30,26],[27,0,30,27]],[[4,0,31,4],[5,0,31,5]],[[4,0,33,11],[17,0,33,24],[18,0,33,25],[22,0,33,41],[24,0,33,43],[26,0,33,53],[28,0,33,55],[32,0,33,67]],[[8,0,34,8],[15,0,34,15],[19,0,34,19],[26,0,34,26],[27,0,34,27],[28,0,34,28],[35,0,34,35],[37,0,34,37],[39,0,34,39]],[[12,0,35,12],[16,0,35,16],[17,0,35,17],[23,0,35,23],[26,0,35,26],[39,0,35,39],[40,0,35,40]],[[16,0,36,16],[18,0,36,18]],[[16,0,37,16],[27,0,37,27],[29,0,37,29],[33,0,37,33],[38,0,37,38],[43,0,37,43],[44,0,37,44],[45,0,37,45],[46,0,37,46],[50,0,37,50],[51,0,37,51],[52,0,37,52],[53,0,37,53],[55,0,37,55],[59,0,37,59],[61,0,37,61],[68,0,37,68],[70,0,37,70],[73,0,37,73],[75,0,37,75],[79,0,37,79],[81,0,37,81]],[[16,0,38,16],[36,0,38,36],[38,0,38,38],[40,0,38,40],[51,0,38,51],[53,0,38,53],[58,0,38,58],[60,0,38,93]],[[16,0,39,16],[35,0,39,35],[37,0,39,37],[42,0,39,42]],[[16,0,40,16],[37,0,40,37],[39,0,40,39],[44,0,40,44]],[[16,0,41,16],[31,0,41,31],[33,0,41,33],[38,0,41,38]],[[16,0,42,16],[28,0,42,28],[30,0,42,30],[31,0,42,31]],[[16,0,43,16],[32,0,43,32],[34,0,43,34],[35,0,43,35]],[[16,0,44,16],[34,0,44,34],[36,0,44,36],[40,0,44,40]],[[16,0,45,16],[25,0,45,25],[27,0,45,27],[31,0,45,31],[32,0,45,32],[37,0,45,37]],[[13,0,46,13],[14,0,46,14],[15,0,46,15]],[[12,0,48,12],[18,0,48,18],[29,0,48,29],[32,0,48,46],[36,0,48,50],[43,0,48,57],[45,0,48,59],[46,0,48,60]],[[12,0,49,12],[16,0,49,16],[17,0,49,17],[23,0,49,23],[24,0,49,24],[34,0,49,34],[35,0,49,35],[41,0,49,41],[43,0,49,43],[44,0,49,44],[45,0,49,50],[47,0,49,52],[49,0,49,54]],[[16,0,50,16],[27,0,50,27],[28,0,50,28],[32,0,50,32],[33,0,50,33],[34,0,50,34],[35,0,50,35],[36,0,50,36]],[[12,0,51,12],[13,0,51,13],[14,0,51,14],[15,0,51,15]],[[12,0,52,12],[23,0,52,23],[24,0,52,24],[28,0,52,28],[29,0,52,29],[41,0,52,41],[42,0,52,42],[44,0,52,44],[45,0,52,45],[46,0,52,46],[47,0,52,47],[56,0,52,56],[57,0,52,57],[60,0,52,60],[62,0,52,62]],[[16,0,53,16],[20,0,53,20],[21,0,53,21],[35,0,53,35],[37,0,53,37],[38,0,53,38]],[[16,0,54,16],[43,0,54,43]],[[12,0,55,12],[13,0,55,13],[14,0,55,14],[15,0,55,15]],[[12,0,58,12],[16,0,58,16],[17,0,58,17],[23,0,58,23],[24,0,58,24],[38,0,58,38],[39,0,58,39],[45,0,58,45],[47,0,58,47],[50,0,58,50],[52,0,58,52]],[[16,0,59,16],[23,0,59,23],[24,0,59,24],[27,0,59,27],[28,0,59,28],[34,0,59,34],[35,0,59,35],[36,0,59,36]],[[16,0,60,16],[20,0,60,20],[21,0,60,21],[35,0,60,35],[37,0,60,37],[38,0,60,38]],[[16,0,61,16],[23,0,61,23],[24,0,61,24],[28,0,61,28],[29,0,61,29],[30,0,61,30]],[[12,0,62,12],[13,0,62,13],[14,0,62,14],[15,0,62,15]],[[12,0,64,12],[18,0,64,18],[31,0,64,31],[34,0,64,48],[38,0,64,52],[45,0,64,59],[47,0,64,61],[48,0,64,62]],[[12,0,65,12],[16,0,65,16],[17,0,65,17],[23,0,65,23],[24,0,65,24],[34,0,65,34],[35,0,65,35],[43,0,65,43],[45,0,65,45],[46,0,65,46],[47,0,65,52],[49,0,65,54],[51,0,65,56]],[[16,0,66,16],[29,0,66,29],[30,0,66,30],[34,0,66,34],[35,0,66,35],[36,0,66,36],[37,0,66,37],[38,0,66,38]],[[12,0,67,12],[13,0,67,13],[14,0,67,14],[15,0,67,15]],[[12,0,68,12],[25,0,68,25],[26,0,68,26],[30,0,68,30],[31,0,68,31],[43,0,68,43],[44,0,68,44],[47,0,68,47],[48,0,68,48],[49,0,68,49],[50,0,68,50],[59,0,68,59],[60,0,68,60],[63,0,68,63],[65,0,68,65]],[[16,0,69,16],[20,0,69,20],[21,0,69,21],[27,0,69,27],[29,0,69,29],[30,0,69,30]],[[12,0,70,12],[13,0,70,13],[14,0,70,14],[15,0,70,15]],[[8,0,71,8],[9,0,71,9],[10,0,71,10],[11,0,71,11]],[[4,0,72,4],[5,0,72,5]],[[4,0,73,4],[6,0,73,6]],[[4,0,74,4],[68,0,74,68]],[[4,0,75,4],[138,0,75,138]],[[4,0,76,4],[43,0,76,43]],[[4,0,77,4],[45,0,77,45]],[[4,0,78,4],[42,0,78,42]],[[4,0,79,4],[73,0,79,73]],[[4,0,80,4],[60,0,80,60]],[[4,0,81,4],[8,0,81,8]],[[4,0,83,4],[35,0,83,35]],[[4,0,84,4],[27,0,84,27]],[[4,0,85,4],[50,0,85,50]],[[4,0,86,4],[57,0,86,57]],[[4,0,87,4],[59,0,87,59]],[[4,0,88,4],[47,0,88,47]],[[4,0,89,4],[52,0,89,52]],[[4,0,90,4],[40,0,90,40]],[[4,0,91,4],[63,0,91,63]],[[4,0,92,4],[14,0,92,14]],[[4,0,93,4],[49,0,93,49]],[[4,0,94,4],[12,0,94,12]],[[4,0,95,4],[10,0,95,10]],[[4,0,96,4],[8,0,96,8]],[[4,0,98,12],[18,0,98,26]],[[8,0,99,4],[61,0,99,57]],[[8,0,100,4],[62,0,100,58]],[[8,0,101,4],[75,0,101,71]],[[8,0,102,4],[76,0,102,72]],[[8,0,103,4],[77,0,103,73]],[[8,0,104,4],[87,0,104,83]],[[4,0,105,4],[5,0,105,5]],[[4,0,107,11],[9,0,107,16],[10,0,107,17],[16,0,107,23]],[[8,0,108,4],[62,0,108,58]],[[8,0,109,4],[65,0,109,61]],[[8,0,110,4],[42,0,110,38]],[[8,0,111,8],[15,0,111,15],[19,0,111,19],[20,0,111,20]],[[4,0,112,4],[5,0,112,5]],[[4,0,114,11],[13,0,114,20]],[[8,0,115,8],[12,0,115,12],[13,0,115,13],[19,0,115,19],[22,0,115,23],[26,0,115,27],[27,0,115,28],[33,0,115,42]],[[13,0,116,13],[28,0,116,28],[29,0,116,29],[31,0,116,31],[36,0,116,36],[38,0,116,38],[42,0,116,42],[44,0,116,44],[45,0,116,45]],[[13,0,117,13],[25,0,117,25],[27,0,117,27],[28,0,117,28]],[[8,0,118,8],[15,0,118,15],[19,0,118,19],[20,0,118,20]],[[4,0,119,4],[5,0,119,5]],[[4,0,121,11],[13,0,121,20],[14,0,121,21],[20,0,121,67]],[[8,0,122,8],[14,0,122,14],[18,0,122,18],[21,0,122,21],[25,0,122,25],[31,0,122,31],[32,0,122,32],[39,0,122,39],[40,0,122,40]],[[12,0,123,12],[14,0,123,14],[15,0,123,15],[17,0,123,17],[20,0,123,20],[22,0,123,22],[23,0,123,23],[25,0,123,25],[27,0,123,27],[29,0,123,29]],[[12,0,124,12],[14,0,124,14],[15,0,124,15],[17,0,124,17],[20,0,124,20],[22,0,124,22],[23,0,124,23],[25,0,124,25],[27,0,124,27],[29,0,124,29]],[[12,0,125,12],[14,0,125,14],[15,0,125,15],[17,0,125,17],[20,0,125,20],[22,0,125,22],[23,0,125,23],[25,0,125,25],[28,0,125,28],[30,0,125,30]],[[12,0,126,12],[14,0,126,14],[15,0,126,15],[17,0,126,17],[20,0,126,20],[22,0,126,22],[23,0,126,23],[25,0,126,25],[28,0,126,28],[30,0,126,30]],[[12,0,127,12],[14,0,127,14],[15,0,127,15],[17,0,127,17],[20,0,127,20],[22,0,127,22],[23,0,127,23],[25,0,127,25],[27,0,127,27],[29,0,127,29]],[[9,0,127,30],[11,0,127,32]],[[12,0,128,12],[16,0,128,16],[18,0,128,18],[25,0,128,25]],[[12,0,129,12],[19,0,129,19],[21,0,129,21],[24,0,129,24]],[[9,0,130,9],[10,0,130,10],[11,0,130,11]],[[8,0,132,8],[12,0,132,12],[13,0,132,13],[19,0,132,19],[20,0,132,20],[23,0,132,23],[24,0,132,24],[28,0,132,28],[29,0,132,29],[30,0,132,30]],[[4,0,133,4],[5,0,133,5]],[],[[88,0,18,13],[108,0,18,33],[122,0,29,24],[129,0,29,31]],[[74,0,18,13],[94,0,18,33],[105,0,18,13],[125,0,18,33],[144,0,16,16],[150,0,16,22]],[[87,0,18,13],[107,0,18,33]],[[14,0,15,1],[24,0,15,11]],[[15,0,15,12]],[[16,0,16,4],[26,0,16,14],[28,0,16,16],[34,0,16,22]],[[13,0,17,1]],[],[[22,0,29,17],[28,0,29,23]],[[23,0,29,24],[30,0,29,31]]],"sourcesContent":["import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport {\n    MarkerPoly,  MarkerRound, PlayerType, MarkerRect } from './annotation-osd.model';\n \n \n\n// Load type for openseadragon\ndeclare type TypeOpenSeadragon = typeof import('openseadragon');\ndeclare let OpenSeadragon: TypeOpenSeadragon;\n// Load type for fabric\ndeclare type TypeFabric = typeof import('fabric/fabric-impl');\ndeclare let fabric: TypeFabric;\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AnnotationOSDService {\n    protected viewer: any; //OpenSeadragon.Viewer;\n    protected canvas:any; // fabric.Canvas;\n    protected imageWidth: number;\n    protected imageHeight: number; \n    protected containerWidth: number;\n    protected containerHeight: number;\n    protected zoomToZoomLevelRatio: number;\n    protected scale: number;\n    private readonly DEBUG :boolean;\n\n    constructor(@Inject(Boolean) debug : boolean = false) {\n        this.DEBUG = debug;\n    }\n\n    public playerFactory(type: PlayerType, id: string, link: string): Promise<ThisType<any>> {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false } as OpenSeadragon.GestureSettings,\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n\n            const subjectZoom: Subject<any> = new Subject();\n            this.viewer.addHandler('zoom', (e: any) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                // this.resetStrokeWidth();\n            });\n\n\n            this.viewer.addOnceHandler('open', () => {\n                console.log('open');\n                this.calculateRatio();\n                resolve(this);\n            });\n\n            const subjectResize: Subject<any> = new Subject();\n            this.viewer.addHandler('resize', (e: any) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    //\n    // public setHome(point: Point, width: number, height: number) {\n    //   const homePoint = this.viewer.viewport.imageToViewerElementCoordinates(new OSD.Point(this.imageWidth / 2, this.imageHeight / 2));\n    //   const w = this.imageWidth / width;\n    //   const h = this.imageHeight / height;\n    //   const zoom = 4; // w > h ? h : w;\n    //   console.log(homePoint, zoom, this.imageWidth, this.imageHeight);\n    //   this.viewer.viewport.zoomTo(1.2, homePoint, false);\n    // }\n\n    // private resetStrokeWidth() {\n    //   if (this.canvas) {\n    //     const w = 2; // desired width in pixels\n    //     const strokeWidth = w / this.canvas.getZoom();\n    //     for (const object of this.canvas.getObjects()) {\n    //       object.set('strokeUniform', true);\n    //       object.set('strokeWidth', strokeWidth);\n    //       if (object.get('radius')) {\n    //         object.set('radius', 5 / this.canvas.getZoom());\n    //       }\n    //       // can also update other things here\n    //     }\n    //   }\n    // }\n\n    private calculateRatio() {\n    // this.imageWidth = this.viewer.source.dimensions.x;\n    // this.imageHeight = this.viewer.source.dimensions.y;\n    // this.containerWidth = this.viewer.viewport.getContainerSize().x;\n    // this.containerHeight = this.viewer.viewport.getContainerSize().y;\n    // this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n    // this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n\n    public async goHome() {\n    // if (!this.home) this.viewer.viewport.goHome(false);\n    // else this.viewer.viewport.fitBounds(this.home, false);\n    // this.setHome(null, null, null);\n        return this;\n    }\n\n    public addCanvas() {\n        this.canvas = (this.viewer as any)\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n        const poly = new fabric.Polygon([\n            { x: 200, y: 10 },\n            { x: 250, y: 50 },\n            { x: 250, y: 180 },\n            { x: 150, y: 180 },\n            { x: 150, y: 50 }], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n\n        this.canvas.add(poly);\n    }\n    /*\n    min = 99;\n    max = 999999;\n    polygonMode = true;\n    pointArray = [];\n    lineArray = [];\n    activeLine;\n    activeShape ;\n\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n  const strokeWidth = 2;\n  let obj;\n  if (!(damage instanceof MarkerPoly)) {\n  obj = new fabric.Rect({\n  id: 1,\n  left: (damage.unit === 'percent' ? damage.centerX * (this.imageWidth * this.scale)\n  : damage.centerX * this.scale) + strokeWidth,\n  top: (damage.unit === 'percent' ? damage.centerY * (this.imageHeight * this.scale)\n  : damage.centerY * this.scale) + strokeWidth,\n  width: (damage.unit === 'percent' ? damage.width * (this.imageWidth * this.scale)\n  : damage.width * this.scale),\n  height: (damage.unit === 'percent' ? damage.height * (this.imageHeight * this.scale)\n  : damage.height * this.scale),\n  strokeWidth,\n  strokeUniform: true,\n  strokeDashArray: undefined,\n  originX: 'center',\n  originY: 'center',\n  cornerStyle: 'circle',\n\n  // Add data option for style settings\n  fill: 'transparent',\n  stroke: 'red',\n  selectable: true,\n  hasBorders: false,\n  cornerColor: 'red',\n  transparentCorners: false,\n  draggable: true,\n  lockRotation: true,\n  hasControls: true,\n\n  });\n  }\n  obj.set('strokeUniform', true);\n\n  obj.setControlsVisibility({ mtr: false });\n  this.canvas.add(obj);\n\n  const poly = new fabric.Polygon([\n  { x: 200, y: 10 },\n  { x: 250, y: 50 },\n  { x: 250, y: 180 },\n  { x: 150, y: 180 },\n  { x: 150, y: 50 }], {\n      fill: 'green',\n          opacity: 0.3,\n          });\n\n  this.canvas.add(poly);\n\n  // this.canvas.on('mouse:down', (options) => {\n  //     if (options.target && options.target.id === this.pointArray[0].id) {\n  //         this.generatePolygon(this.pointArray);\n  //     }\n  //     if (this.polygonMode) {\n  //         this.addPoint(options);\n  //     }\n  // });\n  // this.canvas.on('mouse:up', (options) => {\n  //\n  // });\n  // this.canvas.on('mouse:move', (options) => {\n  //     if (this.activeLine && this.activeLine.class === 'line') {\n  //         const pointer = this.canvas.getPointer(options.e);\n  //         this.activeLine.set({ x2: pointer.x, y2: pointer.y });\n  //\n  //         const points = this.activeShape.get('points');\n  //         points[this.pointArray.length] = {\n  //             x: pointer.x,\n  //             y: pointer.y,\n  //         };\n  //         this.activeShape.set({\n  //             points,\n  //         });\n  //         this.canvas.renderAll();\n  //     }\n  //     this.canvas.renderAll();\n  // });\n\n  /!*        this.canvas.on('object:scaling', (e) => {\n  console.log('scalling ');\n  this.resetStrokeWidth();\n  }); *!/\n  return this;\n  }\n\n  private drawPolygon() {\n  this.polygonMode = true;\n  this.pointArray = [];\n  this.lineArray = [];\n  this.activeLine;\n  }\n\n  private addPoint(options) {\n  console.log(options);\n  const random = Math.floor(Math.random() * (this.max - this.min + 1)) + this.min;\n  const id = new Date().getTime() + random;\n  const pos = this.canvas.getPointer(options.e);\n  const circle = new fabric.Circle({\n  radius: 5 / this.canvas.getZoom(),\n  fill: '#ffffff',\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  left: pos.x,\n  top: pos.y,\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  originX: 'center',\n  originY: 'center',\n  id,\n  objectCaching: false,\n  });\n  if (this.pointArray.length === 0) {\n  circle.set({\n  fill: 'red',\n  });\n  }\n  const pointsA = [pos.x, pos.y, pos.x, pos.y];\n  const line = new fabric.Line(pointsA, {\n  strokeWidth: 2,\n  fill: '#999999',\n  stroke: '#999999',\n  class: 'line',\n  originX: 'center',\n  originY: 'center',\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  evented: false,\n  objectCaching: false,\n  });\n  console.log(this.activeShape);\n  if (this.activeShape) {\n      const pointsB = this.activeShape.get('points') as any[];\n          pointsB.push({\n              x: pos.x,\n              y: pos.y,\n          });\n          const polygonA = new fabric.Polygon(pointsB, {\n      stroke: '#333333',\n      strokeWidth: 1,\n      fill: '#cccccc',\n      opacity: 0.3,\n      selectable: false,\n      hasBorders: false,\n      hasControls: false,\n      evented: false,\n      objectCaching: false,\n    });\n    this.canvas.remove(this.activeShape);\n    this.canvas.add(polygonA);\n    this.activeShape = polygonA;\n    this.canvas.renderAll();\n  } else {\n    const polyPoint = [{ x: pos.x, y: pos.y }];\n    const polygon = new fabric.Polygon(polyPoint, {\n          stroke: '#333333',\n                  strokeWidth: 1,\n                  fill: '#cccccc',\n                  opacity: 0.3,\n                  selectable: false,\n                  hasBorders: false,\n                  hasControls: false,\n                  evented: false,\n                  objectCaching: false,\n          });\n          this.activeShape = polygon;\n          this.canvas.add(polygon);\n          }\n  this.activeLine = line;\n\n  this.pointArray.push(circle);\n  this.lineArray.push(line);\n\n  this.canvas.add(line);\n  this.canvas.add(circle);\n  }\n\n  private generatePolygon(pointArray) {\n  console.log(pointArray, this.lineArray);\n  const points = [];\n  pointArray.forEach((point) => {\n  points.push({\n  x: point.left,\n  y: point.top,\n  });\n    this.canvas.remove(point);\n  });\n  this.lineArray.forEach((line) => {\n  this.canvas.remove(line);\n  });\n  this.canvas.remove(this.activeShape).remove(this.activeLine);\n  const polygon = new fabric.Polygon(points, {\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  opacity: 0.3,\n  fill: 'red',\n  hasBorders: false,\n  hasControls: false,\n  });\n  this.canvas.add(polygon);\n\n  this.activeLine = null;\n  this.activeShape = null;\n  this.polygonMode = false;\n  }\n\n  public delete() {\n  this.canvas.clear();\n  this.canvas.dispose();\n  this.canvas.removeListeners();\n  this.viewer.destroy();\n  }*/\n}"]},"resolvedIds":{"tslib":{"external":true,"id":"tslib","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[],[[0,0,0,0],[7,0,0,7],[9,0,0,9],[15,0,0,15],[17,0,0,17],[27,0,0,27],[29,0,0,29],[35,0,0,35],[50,0,0,50],[51,0,0,51]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[16,0,1,16],[18,0,1,18],[24,0,1,24],[30,0,1,30],[31,0,1,31]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,23],[29,0,2,29],[45,0,2,45],[46,0,2,46]],[[0,0,3,0],[7,0,3,7],[12,0,3,12],[14,0,3,14],[20,0,3,20],[35,0,3,35],[36,0,3,36]],[[0,0,4,0],[6,0,4,6],[13,0,4,13],[33,0,4,33]],[[4,0,5,4],[16,0,5,16],[21,0,5,21],[24,0,5,24],[29,0,5,29]],[[8,0,6,8],[12,0,6,12],[13,0,6,13],[18,0,6,18],[21,0,6,21],[26,0,6,26],[27,0,6,27]],[[4,0,7,4],[5,0,7,5]],[[4,0,8,4],[17,0,8,17],[18,0,8,18],[22,0,8,22],[24,0,8,24],[26,0,8,26],[28,0,8,28],[32,0,8,32]],[[8,0,9,8],[15,0,9,15],[19,0,9,19],[26,0,9,26],[27,0,9,27],[28,0,9,28],[35,0,9,35],[37,0,9,37],[39,0,9,39]],[[12,0,10,12],[16,0,10,16],[17,0,10,17],[23,0,10,23],[26,0,10,26],[39,0,10,39],[40,0,10,40]],[[16,0,11,16],[18,0,11,18]],[[16,0,12,16],[27,0,12,27],[29,0,12,29],[33,0,12,33],[38,0,12,38],[43,0,12,43],[44,0,12,44],[45,0,12,45],[46,0,12,46],[50,0,12,50],[51,0,12,51],[52,0,12,52],[53,0,12,53],[55,0,12,55],[59,0,12,59],[61,0,12,61],[68,0,12,68],[70,0,12,70],[73,0,12,73],[75,0,12,75],[79,0,12,79],[81,0,12,81]],[[16,0,13,16],[36,0,13,36],[38,0,13,38],[40,0,13,40],[51,0,13,51],[53,0,13,53],[58,0,13,58],[60,0,13,60]],[[16,0,14,16],[35,0,14,35],[37,0,14,37],[42,0,14,42]],[[16,0,15,16],[37,0,15,37],[39,0,15,39],[44,0,15,44]],[[16,0,16,16],[31,0,16,31],[33,0,16,33],[38,0,16,38]],[[16,0,17,16],[28,0,17,28],[30,0,17,30],[31,0,17,31]],[[16,0,18,16],[32,0,18,32],[34,0,18,34],[35,0,18,35]],[[16,0,19,16],[34,0,19,34],[36,0,19,36],[40,0,19,40]],[[16,0,20,16],[25,0,20,25],[27,0,20,27],[31,0,20,31],[32,0,20,32],[37,0,20,37]],[[13,0,21,13],[14,0,21,14],[15,0,21,15]],[[12,0,22,12],[18,0,22,18],[29,0,22,29],[32,0,22,32],[36,0,22,36],[43,0,22,43],[45,0,22,45],[46,0,22,46]],[[12,0,23,12],[16,0,23,16],[17,0,23,17],[23,0,23,23],[24,0,23,24],[34,0,23,34],[35,0,23,35],[41,0,23,41],[43,0,23,43],[44,0,23,44],[45,0,23,45],[47,0,23,47],[49,0,23,49]],[[16,0,24,16],[27,0,24,27],[28,0,24,28],[32,0,24,32],[33,0,24,33],[34,0,24,34],[35,0,24,35],[36,0,24,36]],[[12,0,25,12],[13,0,25,13],[14,0,25,14],[15,0,25,15]],[[12,0,26,12],[23,0,26,23],[24,0,26,24],[28,0,26,28],[29,0,26,29],[41,0,26,41],[42,0,26,42],[44,0,26,44],[45,0,26,45],[46,0,26,46],[47,0,26,47],[56,0,26,56],[57,0,26,57],[60,0,26,60],[62,0,26,62]],[[16,0,27,16],[20,0,27,20],[21,0,27,21],[35,0,27,35],[37,0,27,37],[38,0,27,38]],[[16,0,28,16],[43,0,28,43]],[[12,0,29,12],[13,0,29,13],[14,0,29,14],[15,0,29,15]],[[12,0,30,12],[16,0,30,16],[17,0,30,17],[23,0,30,23],[24,0,30,24],[38,0,30,38],[39,0,30,39],[45,0,30,45],[47,0,30,47],[50,0,30,50],[52,0,30,52]],[[16,0,31,16],[23,0,31,23],[24,0,31,24],[27,0,31,27],[28,0,31,28],[34,0,31,34],[35,0,31,35],[36,0,31,36]],[[16,0,32,16],[20,0,32,20],[21,0,32,21],[35,0,32,35],[37,0,32,37],[38,0,32,38]],[[16,0,33,16],[23,0,33,23],[24,0,33,24],[28,0,33,28],[29,0,33,29],[30,0,33,30]],[[12,0,34,12],[13,0,34,13],[14,0,34,14],[15,0,34,15]],[[12,0,35,12],[18,0,35,18],[31,0,35,31],[34,0,35,34],[38,0,35,38],[45,0,35,45],[47,0,35,47],[48,0,35,48]],[[12,0,36,12],[16,0,36,16],[17,0,36,17],[23,0,36,23],[24,0,36,24],[34,0,36,34],[35,0,36,35],[43,0,36,43],[45,0,36,45],[46,0,36,46],[47,0,36,47],[49,0,36,49],[51,0,36,51]],[[16,0,37,16],[29,0,37,29],[30,0,37,30],[34,0,37,34],[35,0,37,35],[36,0,37,36],[37,0,37,37],[38,0,37,38]],[[12,0,38,12],[13,0,38,13],[14,0,38,14],[15,0,38,15]],[[12,0,39,12],[25,0,39,25],[26,0,39,26],[30,0,39,30],[31,0,39,31],[43,0,39,43],[44,0,39,44],[47,0,39,47],[48,0,39,48],[49,0,39,49],[50,0,39,50],[59,0,39,59],[60,0,39,60],[63,0,39,63],[65,0,39,65]],[[16,0,40,16],[20,0,40,20],[21,0,40,21],[27,0,40,27],[29,0,40,29],[30,0,40,30]],[[12,0,41,12],[13,0,41,13],[14,0,41,14],[15,0,41,15]],[[8,0,42,8],[9,0,42,9],[10,0,42,10],[11,0,42,11]],[[4,0,43,4],[5,0,43,5]],[[4,0,44,4],[6,0,44,6]],[[4,0,45,4],[68,0,45,68]],[[4,0,46,4],[138,0,46,138]],[[4,0,47,4],[43,0,47,43]],[[4,0,48,4],[45,0,48,45]],[[4,0,49,4],[42,0,49,42]],[[4,0,50,4],[73,0,50,73]],[[4,0,51,4],[60,0,51,60]],[[4,0,52,4],[8,0,52,8]],[[4,0,53,4],[35,0,53,35]],[[4,0,54,4],[27,0,54,27]],[[4,0,55,4],[50,0,55,50]],[[4,0,56,4],[57,0,56,57]],[[4,0,57,4],[59,0,57,59]],[[4,0,58,4],[47,0,58,47]],[[4,0,59,4],[52,0,59,52]],[[4,0,60,4],[40,0,60,40]],[[4,0,61,4],[63,0,61,63]],[[4,0,62,4],[14,0,62,14]],[[4,0,63,4],[49,0,63,49]],[[4,0,64,4],[12,0,64,12]],[[4,0,65,4],[10,0,65,10]],[[4,0,66,4],[8,0,66,8]],[[4,0,67,4],[18,0,67,18]],[[8,0,68,8],[61,0,68,61]],[[8,0,69,8],[62,0,69,62]],[[8,0,70,8],[75,0,70,75]],[[8,0,71,8],[76,0,71,76]],[[8,0,72,8],[77,0,72,77]],[[8,0,73,8],[87,0,73,87]],[[4,0,74,4],[5,0,74,5]],[[4,0,75,10],[10,0,75,16]],[],[[12,0,76,8],[66,0,76,62]],[[12,0,77,8],[69,0,77,65]],[[12,0,78,8],[46,0,78,42]],[[12,0,79,8],[19,0,79,15],[23,0,79,19],[24,0,79,20]],[[8,0,80,4],[9,0,80,5]],[[5,0,80,5]],[[4,0,81,4],[13,0,81,13]],[[8,0,82,8],[12,0,82,12],[13,0,82,13],[19,0,82,19],[22,0,82,22],[26,0,82,26],[27,0,82,27],[33,0,82,33]],[[13,0,83,13],[28,0,83,28],[29,0,83,29],[31,0,83,31],[36,0,83,36],[38,0,83,38],[42,0,83,42],[44,0,83,44],[45,0,83,45]],[[13,0,84,13],[25,0,84,25],[27,0,84,27],[28,0,84,28]],[[8,0,85,8],[15,0,85,15],[19,0,85,19],[20,0,85,20]],[[4,0,86,4],[5,0,86,5]],[[4,0,87,4],[13,0,87,13],[14,0,87,14],[20,0,87,20]],[[8,0,88,8],[14,0,88,14],[18,0,88,18],[21,0,88,21],[25,0,88,25],[31,0,88,31],[32,0,88,32],[39,0,88,39],[40,0,88,40]],[[12,0,89,12],[14,0,89,14],[15,0,89,15],[17,0,89,17],[20,0,89,20],[22,0,89,22],[23,0,89,23],[25,0,89,25],[27,0,89,27],[29,0,89,29]],[[12,0,90,12],[14,0,90,14],[15,0,90,15],[17,0,90,17],[20,0,90,20],[22,0,90,22],[23,0,90,23],[25,0,90,25],[27,0,90,27],[29,0,90,29]],[[12,0,91,12],[14,0,91,14],[15,0,91,15],[17,0,91,17],[20,0,91,20],[22,0,91,22],[23,0,91,23],[25,0,91,25],[28,0,91,28],[30,0,91,30]],[[12,0,92,12],[14,0,92,14],[15,0,92,15],[17,0,92,17],[20,0,92,20],[22,0,92,22],[23,0,92,23],[25,0,92,25],[28,0,92,28],[30,0,92,30]],[[12,0,93,12],[14,0,93,14],[15,0,93,15],[17,0,93,17],[20,0,93,20],[22,0,93,22],[23,0,93,23],[25,0,93,25],[27,0,93,27],[29,0,93,29]],[[9,0,94,9],[11,0,94,11]],[[12,0,95,12],[16,0,95,16],[18,0,95,18],[25,0,95,25]],[[12,0,96,12],[19,0,96,19],[21,0,96,21],[24,0,96,24]],[[9,0,97,9],[10,0,97,10],[11,0,97,11]],[[8,0,98,8],[12,0,98,12],[13,0,98,13],[19,0,98,19],[20,0,98,20],[23,0,98,23],[24,0,98,24],[28,0,98,28],[29,0,98,29],[30,0,98,30]],[[4,0,99,4],[5,0,99,5]],[[1,0,100,1]],[[0,0,101,0],[20,0,101,20],[21,0,101,21],[25,0,101,25],[28,0,101,28],[37,0,101,37],[65,0,101,65],[66,0,101,66],[67,0,101,67],[71,0,101,71],[78,0,101,78],[82,0,101,82],[83,0,101,83],[84,0,101,84],[88,0,101,88],[108,0,101,108],[109,0,101,109],[110,0,101,110],[112,0,101,112],[113,0,101,113],[121,0,101,121],[122,0,101,122],[129,0,101,129],[130,0,101,130],[131,0,101,131],[132,0,101,132],[133,0,101,133],[134,0,101,134],[135,0,101,135]],[[0,0,102,0],[20,0,102,20],[21,0,102,21],[26,0,102,26],[29,0,102,29],[42,0,102,42],[43,0,102,43],[45,0,102,45],[46,0,102,46],[64,0,102,64],[65,0,102,65],[67,0,102,67],[72,0,102,72],[74,0,102,74],[94,0,102,94],[96,0,102,96],[103,0,102,103],[105,0,102,105],[125,0,102,125],[126,0,102,126],[130,0,102,130],[132,0,102,132],[142,0,102,142],[144,0,102,144],[150,0,102,150],[152,0,102,152],[153,0,102,153],[154,0,102,154]],[[0,0,103,0],[1,0,103,1]],[[4,0,103,15],[5,0,103,16],[12,0,103,23],[21,0,103,32],[26,0,103,37],[37,0,103,48],[41,0,103,52],[50,0,103,61],[51,0,103,62],[55,0,103,66],[57,0,103,68],[58,0,103,69],[75,0,103,86],[76,0,103,87],[96,0,103,107],[98,0,103,109],[99,0,103,110]],[[12,0,104,8],[16,0,104,12],[18,0,104,14],[28,0,104,24]],[[12,0,105,8],[16,0,105,12],[18,0,105,14],[19,0,105,15]],[[20,0,106,16],[30,0,106,26],[32,0,106,28],[38,0,106,34]],[[17,0,107,13],[18,0,107,14]],[[9,0,108,5],[10,0,108,6],[12,0,108,8]],[[8,0,108,22],[15,0,108,29],[16,0,108,30],[18,0,108,32],[22,0,108,36],[24,0,108,38],[33,0,108,47],[35,0,108,49],[45,0,108,59],[47,0,108,61],[48,0,108,62]],[[24,0,109,16],[28,0,109,20],[30,0,109,22],[36,0,109,28]],[[24,0,110,16],[28,0,110,20],[30,0,110,22],[31,0,110,23],[38,0,110,30],[39,0,110,31]],[[21,0,111,13],[22,0,111,14],[24,0,111,16],[25,0,111,17],[26,0,111,18]],[[4,0,111,19],[5,0,111,20],[7,0,111,22],[11,0,111,26],[12,0,111,27],[13,0,111,28]],[[0,0,111,29],[1,0,111,30],[2,0,111,31],[4,0,111,33],[5,0,111,34]],[[0,0,112,0],[18498,0,112,18498]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2278,"body":[{"type":"ImportDeclaration","start":0,"end":42,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"Component"},"local":{"type":"Identifier","start":9,"end":18,"name":"Component"}}],"source":{"type":"Literal","start":26,"end":41,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":43,"end":79,"specifiers":[{"type":"ImportNamespaceSpecifier","start":50,"end":57,"local":{"type":"Identifier","start":55,"end":57,"name":"i0"}}],"source":{"type":"Literal","start":63,"end":78,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":80,"end":164,"declaration":{"type":"ClassDeclaration","start":87,"end":164,"id":{"type":"Identifier","start":93,"end":115,"name":"AnnotationOSDComponent"},"superClass":null,"body":{"type":"ClassBody","start":116,"end":164,"body":[{"type":"MethodDefinition","start":122,"end":139,"static":false,"computed":false,"key":{"type":"Identifier","start":122,"end":133,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":133,"end":139,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":136,"end":139,"body":[]}}},{"type":"MethodDefinition","start":144,"end":162,"static":false,"computed":false,"key":{"type":"Identifier","start":144,"end":152,"name":"ngOnInit"},"kind":"method","value":{"type":"FunctionExpression","start":152,"end":162,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":155,"end":162,"body":[]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":165,"end":286,"expression":{"type":"AssignmentExpression","start":165,"end":285,"operator":"=","left":{"type":"MemberExpression","start":165,"end":192,"object":{"type":"Identifier","start":165,"end":187,"name":"AnnotationOSDComponent"},"property":{"type":"Identifier","start":188,"end":192,"name":"fac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":195,"end":285,"id":{"type":"Identifier","start":204,"end":234,"name":"AnnotationOSDComponent_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":235,"end":236,"name":"t"}],"body":{"type":"BlockStatement","start":238,"end":285,"body":[{"type":"ReturnStatement","start":240,"end":283,"argument":{"type":"NewExpression","start":247,"end":282,"callee":{"type":"LogicalExpression","start":252,"end":279,"left":{"type":"Identifier","start":252,"end":253,"name":"t"},"operator":"||","right":{"type":"Identifier","start":257,"end":279,"name":"AnnotationOSDComponent"}},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":287,"end":683,"expression":{"type":"AssignmentExpression","start":287,"end":682,"operator":"=","left":{"type":"MemberExpression","start":287,"end":314,"object":{"type":"Identifier","start":287,"end":309,"name":"AnnotationOSDComponent"},"property":{"type":"Identifier","start":310,"end":314,"name":"cmp"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":331,"end":682,"callee":{"type":"MemberExpression","start":331,"end":351,"object":{"type":"Identifier","start":331,"end":333,"name":"i0"},"property":{"type":"Identifier","start":334,"end":351,"name":"defineComponent"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":352,"end":681,"properties":[{"type":"Property","start":354,"end":382,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":354,"end":358,"name":"type"},"value":{"type":"Identifier","start":360,"end":382,"name":"AnnotationOSDComponent"},"kind":"init"},{"type":"Property","start":384,"end":418,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":384,"end":393,"name":"selectors"},"value":{"type":"ArrayExpression","start":395,"end":418,"elements":[{"type":"ArrayExpression","start":396,"end":417,"elements":[{"type":"Literal","start":397,"end":416,"value":"lib-AnnotationOSD","raw":"\"lib-AnnotationOSD\""}]}]},"kind":"init"},{"type":"Property","start":420,"end":428,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":420,"end":425,"name":"decls"},"value":{"type":"Literal","start":427,"end":428,"value":2,"raw":"2"},"kind":"init"},{"type":"Property","start":430,"end":437,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":430,"end":434,"name":"vars"},"value":{"type":"Literal","start":436,"end":437,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":439,"end":661,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":439,"end":447,"name":"template"},"value":{"type":"FunctionExpression","start":449,"end":661,"id":{"type":"Identifier","start":458,"end":489,"name":"AnnotationOSDComponent_Template"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":490,"end":492,"name":"rf"},{"type":"Identifier","start":494,"end":497,"name":"ctx"}],"body":{"type":"BlockStatement","start":499,"end":661,"body":[{"type":"IfStatement","start":509,"end":655,"test":{"type":"BinaryExpression","start":513,"end":519,"left":{"type":"Identifier","start":513,"end":515,"name":"rf"},"operator":"&","right":{"type":"Literal","start":518,"end":519,"value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","start":521,"end":655,"body":[{"type":"ExpressionStatement","start":535,"end":561,"expression":{"type":"CallExpression","start":535,"end":560,"callee":{"type":"MemberExpression","start":535,"end":552,"object":{"type":"Identifier","start":535,"end":537,"name":"i0"},"property":{"type":"Identifier","start":538,"end":552,"name":"elementStart"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":553,"end":554,"value":0,"raw":"0"},{"type":"Literal","start":556,"end":559,"value":"p","raw":"\"p\""}],"optional":false}},{"type":"ExpressionStatement","start":574,"end":614,"expression":{"type":"CallExpression","start":574,"end":613,"callee":{"type":"MemberExpression","start":574,"end":583,"object":{"type":"Identifier","start":574,"end":576,"name":"i0"},"property":{"type":"Identifier","start":577,"end":583,"name":"text"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":584,"end":585,"value":1,"raw":"1"},{"type":"Literal","start":587,"end":612,"value":" annotation-osd works! ","raw":"\" annotation-osd works! \""}],"optional":false}},{"type":"ExpressionStatement","start":627,"end":645,"expression":{"type":"CallExpression","start":627,"end":644,"callee":{"type":"MemberExpression","start":627,"end":642,"object":{"type":"Identifier","start":627,"end":629,"name":"i0"},"property":{"type":"Identifier","start":630,"end":642,"name":"elementEnd"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}},"kind":"init"},{"type":"Property","start":663,"end":679,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":663,"end":676,"name":"encapsulation"},"value":{"type":"Literal","start":678,"end":679,"value":2,"raw":"2"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":317,"end":330}]}}},{"type":"ExpressionStatement","start":684,"end":1087,"expression":{"type":"CallExpression","start":684,"end":1086,"callee":{"type":"FunctionExpression","start":685,"end":1083,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":697,"end":1083,"body":[{"type":"ExpressionStatement","start":703,"end":1081,"expression":{"type":"LogicalExpression","start":703,"end":1080,"left":{"type":"LogicalExpression","start":704,"end":749,"left":{"type":"BinaryExpression","start":704,"end":736,"left":{"type":"UnaryExpression","start":704,"end":720,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":711,"end":720,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":725,"end":736,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":740,"end":749,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":754,"end":1080,"callee":{"type":"MemberExpression","start":754,"end":774,"object":{"type":"Identifier","start":754,"end":756,"name":"i0"},"property":{"type":"Identifier","start":757,"end":774,"name":"setClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":775,"end":797,"name":"AnnotationOSDComponent"},{"type":"ArrayExpression","start":799,"end":1045,"elements":[{"type":"ObjectExpression","start":800,"end":1044,"properties":[{"type":"Property","start":814,"end":829,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":814,"end":818,"name":"type"},"value":{"type":"Identifier","start":820,"end":829,"name":"Component"},"kind":"init"},{"type":"Property","start":843,"end":1034,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":843,"end":847,"name":"args"},"value":{"type":"ArrayExpression","start":849,"end":1034,"elements":[{"type":"ObjectExpression","start":850,"end":1033,"properties":[{"type":"Property","start":872,"end":901,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":872,"end":880,"name":"selector"},"value":{"type":"Literal","start":882,"end":901,"value":"lib-AnnotationOSD","raw":"'lib-AnnotationOSD'"},"kind":"init"},{"type":"Property","start":923,"end":983,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":923,"end":931,"name":"template"},"value":{"type":"TemplateLiteral","start":933,"end":983,"expressions":[],"quasis":[{"type":"TemplateElement","start":934,"end":982,"value":{"raw":"\n    <p>\n      annotation-osd works!\n    </p>\n  ","cooked":"\n    <p>\n      annotation-osd works!\n    </p>\n  "},"tail":true}]},"kind":"init"},{"type":"Property","start":1005,"end":1015,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1005,"end":1011,"name":"styles"},"value":{"type":"ArrayExpression","start":1013,"end":1015,"elements":[]},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"FunctionExpression","start":1047,"end":1073,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1059,"end":1073,"body":[{"type":"ReturnStatement","start":1061,"end":1071,"argument":{"type":"ArrayExpression","start":1068,"end":1070,"elements":[]}}]}},{"type":"Literal","start":1075,"end":1079,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7NEZBTFUsc0JBQXNCO3lFQUF0QixzQkFBc0I7UUFQL0IseUJBQUc7UUFDRCx1Q0FDRjtRQUFBLGlCQUFJOzt1RkFLSyxzQkFBc0I7Y0FWbEMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxtQkFBbUI7Z0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO2dCQUNELE1BQU0sRUFBRSxFQUNQO2FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItQW5ub3RhdGlvbk9TRCcsXG4gIHRlbXBsYXRlOiBgXG4gICAgPHA+XG4gICAgICBhbm5vdGF0aW9uLW9zZCB3b3JrcyFcbiAgICA8L3A+XG4gIGAsXG4gIHN0eWxlczogW1xuICBdXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gIH1cblxufVxuIl19","start":1088,"end":2170},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","start":2171,"end":2278}]},"code":"import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n}\nAnnotationOSDComponent.fac = function AnnotationOSDComponent_Factory(t) { return new (t || AnnotationOSDComponent)(); };\nAnnotationOSDComponent.cmp = /*@__PURE__*/ i0.defineComponent({ type: AnnotationOSDComponent, selectors: [[\"lib-AnnotationOSD\"]], decls: 2, vars: 0, template: function AnnotationOSDComponent_Template(rf, ctx) {\n        if (rf & 1) {\n            i0.elementStart(0, \"p\");\n            i0.text(1, \" annotation-osd works! \");\n            i0.elementEnd();\n        }\n    }, encapsulation: 2 });\n(function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(AnnotationOSDComponent, [{\n            type: Component,\n            args: [{\n                    selector: 'lib-AnnotationOSD',\n                    template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n                    styles: []\n                }]\n        }], function () { return []; }, null);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7NEZBTFUsc0JBQXNCO3lFQUF0QixzQkFBc0I7UUFQL0IseUJBQUc7UUFDRCx1Q0FDRjtRQUFBLGlCQUFJOzt1RkFLSyxzQkFBc0I7Y0FWbEMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxtQkFBbUI7Z0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO2dCQUNELE1BQU0sRUFBRSxFQUNQO2FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItQW5ub3RhdGlvbk9TRCcsXG4gIHRlbXBsYXRlOiBgXG4gICAgPHA+XG4gICAgICBhbm5vdGF0aW9uLW9zZCB3b3JrcyFcbiAgICA8L3A+XG4gIGAsXG4gIHN0eWxlczogW1xuICBdXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gIH1cblxufVxuIl19\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","customTransformCache":false,"dependencies":["@angular/core"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n}\nAnnotationOSDComponent.fac = function AnnotationOSDComponent_Factory(t) { return new (t || AnnotationOSDComponent)(); };\nAnnotationOSDComponent.cmp = /*@__PURE__*/ i0.defineComponent({ type: AnnotationOSDComponent, selectors: [[\"lib-AnnotationOSD\"]], decls: 2, vars: 0, template: function AnnotationOSDComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.elementStart(0, \"p\");\n        i0.text(1, \" annotation-osd works! \");\n        i0.elementEnd();\n    } }, encapsulation: 2 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(AnnotationOSDComponent, [{\n        type: Component,\n        args: [{\n                selector: 'lib-AnnotationOSD',\n                template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n                styles: []\n            }]\n    }], function () { return []; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQzs7QUFZbEQsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxnQkFBZ0IsQ0FBQztJQUVqQixRQUFRO0lBQ1IsQ0FBQzs7NEZBTFUsc0JBQXNCO3lFQUF0QixzQkFBc0I7UUFQL0IseUJBQUc7UUFDRCx1Q0FDRjtRQUFBLGlCQUFJOzt1RkFLSyxzQkFBc0I7Y0FWbEMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxtQkFBbUI7Z0JBQzdCLFFBQVEsRUFBRTs7OztHQUlUO2dCQUNELE1BQU0sRUFBRSxFQUNQO2FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItQW5ub3RhdGlvbk9TRCcsXG4gIHRlbXBsYXRlOiBgXG4gICAgPHA+XG4gICAgICBhbm5vdGF0aW9uLW9zZCB3b3JrcyFcbiAgICA8L3A+XG4gIGAsXG4gIHN0eWxlczogW1xuICBdXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gIH1cblxufVxuIl19","originalSourcemap":{"version":3,"file":"annotation-osd.component.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.component.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[18,0,0,18],[20,0,0,28],[26,0,0,34],[41,0,0,49],[42,0,0,50]],[],[[0,0,12,0],[6,0,12,6],[13,0,12,13],[35,0,12,35]],[[4,0,14,2],[20,0,14,18],[21,0,14,19]],[[4,0,16,2],[12,0,16,10]],[[4,0,17,2],[5,0,17,3]],[],[[92,0,12,13],[114,0,12,35]],[[73,0,12,13],[95,0,12,35]],[[8,0,5,4],[33,0,5,7]],[[8,0,6,6],[47,0,7,4]],[[8,0,7,4],[25,0,7,8]],[],[[87,0,12,13],[109,0,12,35]],[[14,0,2,1],[23,0,2,10]],[[15,0,2,11]],[[16,0,3,2],[24,0,3,10],[26,0,3,12],[45,0,3,31]],[[16,0,4,2],[24,0,4,10],[26,0,4,12]],[],[],[],[[3,0,8,3]],[[16,0,9,2],[22,0,9,8],[24,0,9,10],[26,0,10,3]],[[13,0,11,1]]],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-AnnotationOSD',\n  template: `\n    <p>\n      annotation-osd works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class AnnotationOSDComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[18,0,0,18],[20,0,0,20],[26,0,0,26],[41,0,0,41],[42,0,0,42]],[[0,0,1,0],[7,0,1,7],[12,0,1,12],[14,0,1,14],[20,0,1,20],[35,0,1,35],[36,0,1,36]],[[0,0,2,0],[6,0,2,6],[13,0,2,13],[35,0,2,35]],[[4,0,3,4],[20,0,3,20],[21,0,3,21]],[[4,0,4,4],[12,0,4,12]],[[4,0,5,4],[5,0,5,5]],[[1,0,6,1]],[[0,0,7,0],[22,0,7,22],[23,0,7,23],[27,0,7,27],[30,0,7,30],[39,0,7,39],[69,0,7,69],[70,0,7,70],[71,0,7,71],[75,0,7,75],[82,0,7,82],[86,0,7,86],[87,0,7,87],[88,0,7,88],[92,0,7,92],[114,0,7,114],[115,0,7,115],[117,0,7,117],[118,0,7,118],[119,0,7,119],[120,0,7,120],[121,0,7,121]],[[0,0,8,0],[22,0,8,22],[23,0,8,23],[27,0,8,27],[30,0,8,30],[43,0,8,43],[44,0,8,44],[46,0,8,46],[47,0,8,47],[64,0,8,64],[65,0,8,65],[67,0,8,67],[71,0,8,71],[73,0,8,73],[95,0,8,95],[97,0,8,97],[106,0,8,106],[108,0,8,108],[109,0,8,109],[110,0,8,110],[129,0,8,129],[130,0,8,130],[131,0,8,131],[133,0,8,133],[138,0,8,138],[140,0,8,140],[141,0,8,141],[143,0,8,143],[147,0,8,147],[149,0,8,149],[150,0,8,150],[152,0,8,152],[160,0,8,160],[162,0,8,162],[171,0,8,171],[202,0,8,202],[203,0,8,203],[205,0,8,205],[207,0,8,207],[210,0,8,210]],[[8,0,8,214],[12,0,8,218],[14,0,8,220],[17,0,8,223],[18,0,8,224],[20,0,8,226]],[[12,0,9,8],[14,0,9,10],[15,0,9,11],[29,0,9,25],[30,0,9,26],[31,0,9,27],[33,0,9,29],[36,0,9,32],[37,0,9,33],[38,0,9,34]],[[12,0,10,8],[14,0,10,10],[15,0,10,11],[21,0,10,17],[22,0,10,18],[23,0,10,19],[25,0,10,21],[50,0,10,46],[51,0,10,47],[52,0,10,48]],[[12,0,11,8],[14,0,11,10],[15,0,11,11],[27,0,11,23],[29,0,11,25],[30,0,11,26]],[[9,0,12,5]],[[4,0,12,6],[5,0,12,7],[7,0,12,9],[20,0,12,22],[22,0,12,24],[23,0,12,25],[25,0,12,27],[26,0,12,28],[27,0,12,29]],[[0,0,13,0],[1,0,13,1]],[[4,0,13,15],[5,0,13,16],[12,0,13,23],[21,0,13,32],[26,0,13,37],[37,0,13,48],[41,0,13,52],[50,0,13,61],[51,0,13,62],[55,0,13,66],[57,0,13,68],[58,0,13,69],[75,0,13,86],[76,0,13,87],[98,0,13,109],[100,0,13,111],[101,0,13,112]],[[12,0,14,8],[16,0,14,12],[18,0,14,14],[27,0,14,23]],[[12,0,15,8],[16,0,15,12],[18,0,15,14],[19,0,15,15]],[[20,0,16,16],[28,0,16,24],[30,0,16,26],[49,0,16,45]],[[20,0,17,16],[28,0,17,24],[30,0,17,26]],[],[],[],[[3,0,21,3]],[[20,0,22,16],[26,0,22,22],[28,0,22,24],[30,0,22,26]],[[17,0,23,13],[18,0,23,14]],[[9,0,24,5],[10,0,24,6],[12,0,24,8],[26,0,24,22],[33,0,24,29],[35,0,24,31],[36,0,24,32],[37,0,24,33],[38,0,24,34],[40,0,24,36],[44,0,24,40],[45,0,24,41],[46,0,24,42]],[[0,0,24,43],[1,0,24,44],[2,0,24,45],[4,0,24,47],[5,0,24,48]],[[0,0,25,0],[1082,0,25,1082]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2535,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":42,"end":110,"specifiers":[{"type":"ImportSpecifier","start":51,"end":73,"imported":{"type":"Identifier","start":51,"end":73,"name":"AnnotationOSDComponent"},"local":{"type":"Identifier","start":51,"end":73,"name":"AnnotationOSDComponent"}}],"source":{"type":"Literal","start":81,"end":109,"value":"./annotation-osd.component","raw":"'./annotation-osd.component'"}},{"type":"ImportDeclaration","start":111,"end":175,"specifiers":[{"type":"ImportSpecifier","start":120,"end":140,"imported":{"type":"Identifier","start":120,"end":140,"name":"AnnotationOSDService"},"local":{"type":"Identifier","start":120,"end":140,"name":"AnnotationOSDService"}}],"source":{"type":"Literal","start":148,"end":174,"value":"./annotation-osd.service","raw":"'./annotation-osd.service'"}},{"type":"ImportDeclaration","start":176,"end":212,"specifiers":[{"type":"ImportNamespaceSpecifier","start":183,"end":190,"local":{"type":"Identifier","start":188,"end":190,"name":"i0"}}],"source":{"type":"Literal","start":196,"end":211,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":213,"end":249,"declaration":{"type":"ClassDeclaration","start":220,"end":249,"id":{"type":"Identifier","start":226,"end":245,"name":"AnnotationOSDModule"},"superClass":null,"body":{"type":"ClassBody","start":246,"end":249,"body":[]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":250,"end":362,"expression":{"type":"AssignmentExpression","start":250,"end":361,"operator":"=","left":{"type":"MemberExpression","start":250,"end":274,"object":{"type":"Identifier","start":250,"end":269,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":270,"end":274,"name":"fac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":277,"end":361,"id":{"type":"Identifier","start":286,"end":313,"name":"AnnotationOSDModule_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":314,"end":315,"name":"t"}],"body":{"type":"BlockStatement","start":317,"end":361,"body":[{"type":"ReturnStatement","start":319,"end":359,"argument":{"type":"NewExpression","start":326,"end":358,"callee":{"type":"LogicalExpression","start":331,"end":355,"left":{"type":"Identifier","start":331,"end":332,"name":"t"},"operator":"||","right":{"type":"Identifier","start":336,"end":355,"name":"AnnotationOSDModule"}},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":363,"end":455,"expression":{"type":"AssignmentExpression","start":363,"end":454,"operator":"=","left":{"type":"MemberExpression","start":363,"end":387,"object":{"type":"Identifier","start":363,"end":382,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":383,"end":387,"name":"mod"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":404,"end":454,"callee":{"type":"MemberExpression","start":404,"end":423,"object":{"type":"Identifier","start":404,"end":406,"name":"i0"},"property":{"type":"Identifier","start":407,"end":423,"name":"defineNgModule"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":424,"end":453,"properties":[{"type":"Property","start":426,"end":451,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":426,"end":430,"name":"type"},"value":{"type":"Identifier","start":432,"end":451,"name":"AnnotationOSDModule"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":390,"end":403}]}}},{"type":"ExpressionStatement","start":456,"end":571,"expression":{"type":"AssignmentExpression","start":456,"end":570,"operator":"=","left":{"type":"MemberExpression","start":456,"end":480,"object":{"type":"Identifier","start":456,"end":475,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":476,"end":480,"name":"inj"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":497,"end":570,"callee":{"type":"MemberExpression","start":497,"end":516,"object":{"type":"Identifier","start":497,"end":499,"name":"i0"},"property":{"type":"Identifier","start":500,"end":516,"name":"defineInjector"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":517,"end":569,"properties":[{"type":"Property","start":519,"end":552,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":519,"end":528,"name":"providers"},"value":{"type":"ArrayExpression","start":530,"end":552,"elements":[{"type":"Identifier","start":531,"end":551,"name":"AnnotationOSDService"}]},"kind":"init"},{"type":"Property","start":554,"end":567,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":554,"end":561,"name":"imports"},"value":{"type":"ArrayExpression","start":563,"end":567,"elements":[{"type":"ArrayExpression","start":564,"end":566,"elements":[]}]},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":483,"end":496}]}}},{"type":"ExpressionStatement","start":572,"end":980,"expression":{"type":"CallExpression","start":572,"end":979,"callee":{"type":"FunctionExpression","start":573,"end":976,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":585,"end":976,"body":[{"type":"ExpressionStatement","start":591,"end":974,"expression":{"type":"LogicalExpression","start":591,"end":973,"left":{"type":"LogicalExpression","start":592,"end":637,"left":{"type":"BinaryExpression","start":592,"end":624,"left":{"type":"UnaryExpression","start":592,"end":608,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":599,"end":608,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":613,"end":624,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":628,"end":637,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":642,"end":973,"callee":{"type":"MemberExpression","start":642,"end":662,"object":{"type":"Identifier","start":642,"end":644,"name":"i0"},"property":{"type":"Identifier","start":645,"end":662,"name":"setClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":663,"end":682,"name":"AnnotationOSDModule"},{"type":"ArrayExpression","start":684,"end":960,"elements":[{"type":"ObjectExpression","start":685,"end":959,"properties":[{"type":"Property","start":699,"end":713,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":699,"end":703,"name":"type"},"value":{"type":"Identifier","start":705,"end":713,"name":"NgModule"},"kind":"init"},{"type":"Property","start":727,"end":949,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":727,"end":731,"name":"args"},"value":{"type":"ArrayExpression","start":733,"end":949,"elements":[{"type":"ObjectExpression","start":734,"end":948,"properties":[{"type":"Property","start":756,"end":841,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":756,"end":768,"name":"declarations"},"value":{"type":"ArrayExpression","start":770,"end":841,"elements":[{"type":"Identifier","start":796,"end":818,"name":"AnnotationOSDComponent"}]},"kind":"init"},{"type":"Property","start":863,"end":874,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":863,"end":870,"name":"imports"},"value":{"type":"ArrayExpression","start":872,"end":874,"elements":[]},"kind":"init"},{"type":"Property","start":896,"end":929,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":896,"end":905,"name":"providers"},"value":{"type":"ArrayExpression","start":907,"end":929,"elements":[{"type":"Identifier","start":908,"end":928,"name":"AnnotationOSDService"}]},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"Literal","start":962,"end":966,"value":null,"raw":"null"},{"type":"Literal","start":968,"end":972,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":981,"end":1140,"expression":{"type":"CallExpression","start":981,"end":1139,"callee":{"type":"FunctionExpression","start":982,"end":1136,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":994,"end":1136,"body":[{"type":"ExpressionStatement","start":996,"end":1134,"expression":{"type":"LogicalExpression","start":996,"end":1133,"left":{"type":"LogicalExpression","start":997,"end":1042,"left":{"type":"BinaryExpression","start":997,"end":1029,"left":{"type":"UnaryExpression","start":997,"end":1013,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":1004,"end":1013,"name":"ngJitMode"}},"operator":"===","right":{"type":"Literal","start":1018,"end":1029,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":1033,"end":1042,"name":"ngJitMode"}},"operator":"&&","right":{"type":"CallExpression","start":1047,"end":1133,"callee":{"type":"MemberExpression","start":1047,"end":1068,"object":{"type":"Identifier","start":1047,"end":1049,"name":"i0"},"property":{"type":"Identifier","start":1050,"end":1068,"name":"setNgModuleScope"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1069,"end":1088,"name":"AnnotationOSDModule"},{"type":"ObjectExpression","start":1090,"end":1132,"properties":[{"type":"Property","start":1092,"end":1130,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1092,"end":1104,"name":"declarations"},"value":{"type":"ArrayExpression","start":1106,"end":1130,"elements":[{"type":"Identifier","start":1107,"end":1129,"name":"AnnotationOSDComponent"}]},"kind":"init"}]}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFVaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRnpCLEVBQ1I7dUZBR1EsbUJBQW1CO2NBUi9CLFFBQVE7ZUFBQztnQkFDTixZQUFZLEVBQUU7b0JBQ1Ysc0JBQXNCO2lCQUN6QjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQzs7d0ZBQ1ksbUJBQW1CLG1CQU54QixzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbk9TRENvbXBvbmVudCB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50JztcbmltcG9ydCB7IEFubm90YXRpb25PU0RTZXJ2aWNlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQW5ub3RhdGlvbk9TRENvbXBvbmVudCxcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICBdLFxuICAgIHByb3ZpZGVycyA6IFtBbm5vdGF0aW9uT1NEU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","start":1141,"end":2427},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","start":2428,"end":2535}]},"code":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport { AnnotationOSDService } from './annotation-osd.service';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.fac = function AnnotationOSDModule_Factory(t) { return new (t || AnnotationOSDModule)(); };\nAnnotationOSDModule.mod = /*@__PURE__*/ i0.defineNgModule({ type: AnnotationOSDModule });\nAnnotationOSDModule.inj = /*@__PURE__*/ i0.defineInjector({ providers: [AnnotationOSDService], imports: [[]] });\n(function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(AnnotationOSDModule, [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        AnnotationOSDComponent,\n                    ],\n                    imports: [],\n                    providers: [AnnotationOSDService],\n                }]\n        }], null, null);\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.setNgModuleScope(AnnotationOSDModule, { declarations: [AnnotationOSDComponent] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFVaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRnpCLEVBQ1I7dUZBR1EsbUJBQW1CO2NBUi9CLFFBQVE7ZUFBQztnQkFDTixZQUFZLEVBQUU7b0JBQ1Ysc0JBQXNCO2lCQUN6QjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQzs7d0ZBQ1ksbUJBQW1CLG1CQU54QixzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbk9TRENvbXBvbmVudCB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50JztcbmltcG9ydCB7IEFubm90YXRpb25PU0RTZXJ2aWNlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQW5ub3RhdGlvbk9TRENvbXBvbmVudCxcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICBdLFxuICAgIHByb3ZpZGVycyA6IFtBbm5vdGF0aW9uT1NEU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","customTransformCache":false,"dependencies":["@angular/core","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport { AnnotationOSDService } from './annotation-osd.service';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.fac = function AnnotationOSDModule_Factory(t) { return new (t || AnnotationOSDModule)(); };\nAnnotationOSDModule.mod = /*@__PURE__*/ i0.defineNgModule({ type: AnnotationOSDModule });\nAnnotationOSDModule.inj = /*@__PURE__*/ i0.defineInjector({ providers: [AnnotationOSDService], imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(AnnotationOSDModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    AnnotationOSDComponent,\n                ],\n                imports: [],\n                providers: [AnnotationOSDService],\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.setNgModuleScope(AnnotationOSDModule, { declarations: [AnnotationOSDComponent] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFVaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRnpCLEVBQ1I7dUZBR1EsbUJBQW1CO2NBUi9CLFFBQVE7ZUFBQztnQkFDTixZQUFZLEVBQUU7b0JBQ1Ysc0JBQXNCO2lCQUN6QjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQzs7d0ZBQ1ksbUJBQW1CLG1CQU54QixzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbk9TRENvbXBvbmVudCB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2QuY29tcG9uZW50JztcbmltcG9ydCB7IEFubm90YXRpb25PU0RTZXJ2aWNlIH0gZnJvbSAnLi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQW5ub3RhdGlvbk9TRENvbXBvbmVudCxcbiAgICBdLFxuICAgIGltcG9ydHM6IFtcbiAgICBdLFxuICAgIHByb3ZpZGVycyA6IFtBbm5vdGF0aW9uT1NEU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIEFubm90YXRpb25PU0RNb2R1bGUgeyB9XG4iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.module.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[31,0,1,31],[33,0,1,33],[39,0,1,39],[67,0,1,67],[68,0,1,68]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[29,0,2,29],[31,0,2,31],[37,0,2,37],[63,0,2,63],[64,0,2,64]],[],[[0,0,12,0],[6,0,12,6],[13,0,12,13],[32,0,12,32]],[],[[86,0,12,13],[105,0,12,32]],[[69,0,12,13],[88,0,12,32]],[[74,0,10,16],[75,0,10,17],[95,0,10,37],[96,0,10,38],[108,0,8,13],[110,0,9,5]],[[87,0,12,13],[106,0,12,32]],[[14,0,4,1],[22,0,4,9]],[[15,0,4,10]],[[16,0,5,4],[28,0,5,16],[30,0,5,18]],[[20,0,6,8],[42,0,6,30]],[[17,0,7,5]],[[16,0,8,4],[23,0,8,11],[25,0,8,13],[27,0,9,5]],[[16,0,10,4],[25,0,10,13],[27,0,10,16],[28,0,10,17],[48,0,10,37],[49,0,10,38]],[[13,0,11,1]],[],[[88,0,12,13],[107,0,12,32],[126,0,6,8],[148,0,6,30]]],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { AnnotationOSDComponent } from './annotation-osd.component';\nimport { AnnotationOSDService } from './annotation-osd.service';\n\n@NgModule({\n    declarations: [\n        AnnotationOSDComponent,\n    ],\n    imports: [\n    ],\n    providers : [AnnotationOSDService],\n})\nexport class AnnotationOSDModule { }\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./annotation-osd.component":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./annotation-osd.service":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[31,0,1,31],[33,0,1,33],[39,0,1,39],[67,0,1,67],[68,0,1,68]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[29,0,2,29],[31,0,2,31],[37,0,2,37],[63,0,2,63],[64,0,2,64]],[[0,0,3,0],[7,0,3,7],[12,0,3,12],[14,0,3,14],[20,0,3,20],[35,0,3,35],[36,0,3,36]],[[0,0,4,0],[6,0,4,6],[13,0,4,13],[32,0,4,32]],[[1,0,5,1]],[[0,0,6,0],[19,0,6,19],[20,0,6,20],[24,0,6,24],[27,0,6,27],[36,0,6,36],[63,0,6,63],[64,0,6,64],[65,0,6,65],[69,0,6,69],[76,0,6,76],[80,0,6,80],[81,0,6,81],[82,0,6,82],[86,0,6,86],[105,0,6,105],[106,0,6,106],[108,0,6,108],[109,0,6,109],[110,0,6,110],[111,0,6,111],[112,0,6,112]],[[0,0,7,0],[19,0,7,19],[20,0,7,20],[24,0,7,24],[27,0,7,27],[40,0,7,40],[41,0,7,41],[43,0,7,43],[44,0,7,44],[60,0,7,60],[61,0,7,61],[63,0,7,63],[67,0,7,67],[69,0,7,69],[88,0,7,88],[90,0,7,90],[91,0,7,91],[92,0,7,92]],[[0,0,8,0],[19,0,8,19],[20,0,8,20],[24,0,8,24],[27,0,8,27],[40,0,8,40],[41,0,8,41],[43,0,8,43],[44,0,8,44],[60,0,8,60],[61,0,8,61],[63,0,8,63],[72,0,8,72],[74,0,8,74],[75,0,8,75],[95,0,8,95],[96,0,8,96],[98,0,8,98],[105,0,8,105],[107,0,8,107],[108,0,8,108],[110,0,8,110],[111,0,8,111],[113,0,8,113],[114,0,8,114],[115,0,8,115]],[[0,0,9,0],[1,0,9,1]],[[4,0,9,15],[5,0,9,16],[12,0,9,23],[21,0,9,32],[26,0,9,37],[37,0,9,48],[41,0,9,52],[50,0,9,61],[51,0,9,62],[55,0,9,66],[57,0,9,68],[58,0,9,69],[75,0,9,86],[76,0,9,87],[95,0,9,106],[97,0,9,108],[98,0,9,109]],[[12,0,10,8],[16,0,10,12],[18,0,10,14],[26,0,10,22]],[[12,0,11,8],[16,0,11,12],[18,0,11,14],[19,0,11,15]],[[20,0,12,16],[32,0,12,28],[34,0,12,30]],[[24,0,13,20],[46,0,13,42]],[[21,0,14,17]],[[20,0,15,16],[27,0,15,23],[29,0,15,25],[31,0,15,27]],[[20,0,16,16],[29,0,16,25],[31,0,16,27],[32,0,16,28],[52,0,16,48],[53,0,16,49]],[[17,0,17,13],[18,0,17,14]],[[9,0,18,5],[10,0,18,6],[12,0,18,8],[16,0,18,12],[18,0,18,14],[22,0,18,18],[23,0,18,19],[24,0,18,20]],[[0,0,18,21],[1,0,18,22],[2,0,18,23],[4,0,18,25],[5,0,18,26]],[[0,0,19,0],[1,0,19,1],[15,0,19,15],[16,0,19,16],[23,0,19,23],[32,0,19,32],[37,0,19,37],[48,0,19,48],[52,0,19,52],[61,0,19,61],[62,0,19,62],[66,0,19,66],[68,0,19,68],[69,0,19,69],[87,0,19,87],[88,0,19,88],[107,0,19,107],[109,0,19,109],[111,0,19,111],[123,0,19,123],[125,0,19,125],[126,0,19,126],[148,0,19,148],[149,0,19,149],[151,0,19,151],[152,0,19,152],[153,0,19,153],[154,0,19,154],[155,0,19,155],[156,0,19,156],[158,0,19,158],[159,0,19,159]],[[0,0,20,0],[1286,0,20,1286]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1056,"body":[{"type":"ExportAllDeclaration","start":47,"end":90,"exported":null,"source":{"type":"Literal","start":61,"end":89,"value":"./lib/annotation-osd.model","raw":"'./lib/annotation-osd.model'"}},{"type":"ExportAllDeclaration","start":91,"end":136,"exported":null,"source":{"type":"Literal","start":105,"end":135,"value":"./lib/annotation-osd.service","raw":"'./lib/annotation-osd.service'"}},{"type":"ExportAllDeclaration","start":137,"end":184,"exported":null,"source":{"type":"Literal","start":151,"end":183,"value":"./lib/annotation-osd.component","raw":"'./lib/annotation-osd.component'"}},{"type":"ExportAllDeclaration","start":185,"end":229,"exported":null,"source":{"type":"Literal","start":199,"end":228,"value":"./lib/annotation-osd.module","raw":"'./lib/annotation-osd.module'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","start":230,"end":952},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","start":953,"end":1056}]},"code":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYyw2QkFBNkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgYW5ub3RhdGlvbi1vc2RcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Fubm90YXRpb24tb3NkLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[42,0,4,42],[43,0,4,43]],[[0,0,5,0],[14,0,5,14],[44,0,5,44],[45,0,5,45]],[[0,0,6,0],[14,0,6,14],[46,0,6,46],[47,0,6,47]],[[0,0,7,0],[14,0,7,14],[43,0,7,43],[44,0,7,44]]],"sourcesContent":["/*\n * Public API Surface of annotation-osd\n */\n\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.component';\nexport * from './lib/annotation-osd.module';\n"]},"resolvedIds":{"./lib/annotation-osd.model":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.service":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.module":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.component":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.component.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,3,0],[14,0,3,14],[42,0,3,42],[43,0,3,43]],[[0,0,4,0],[14,0,4,14],[44,0,4,44],[45,0,4,45]],[[0,0,5,0],[14,0,5,14],[46,0,5,46],[47,0,5,47]],[[0,0,6,0],[14,0,6,14],[43,0,6,43],[44,0,6,44]],[[0,0,7,0],[722,0,7,722]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":616,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","start":78,"end":512},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","start":513,"end":616}]},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/annotation-osd.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/annotation-osd.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,3,0],[14,0,3,14],[28,0,3,28],[29,0,3,29]],[[0,0,4,0],[434,0,4,434]]]}],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"sourcemaps":{},"json":{},"downlevel-ts":{}}}