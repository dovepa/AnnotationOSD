{"modules":[{"ast":{"type":"Program","start":0,"end":5562,"body":[{"type":"ClassDeclaration","start":0,"end":473,"id":{"type":"Identifier","start":6,"end":20,"name":"AnnotateMarker"},"superClass":null,"body":{"type":"ClassBody","start":21,"end":473,"body":[{"type":"MethodDefinition","start":27,"end":471,"static":false,"computed":false,"key":{"type":"Identifier","start":27,"end":38,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":38,"end":471,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":39,"end":41,"name":"id"},{"type":"Identifier","start":43,"end":47,"name":"unit"},{"type":"Identifier","start":49,"end":56,"name":"centerY"},{"type":"Identifier","start":58,"end":65,"name":"centerX"},{"type":"Identifier","start":67,"end":72,"name":"width"},{"type":"Identifier","start":74,"end":80,"name":"height"},{"type":"Identifier","start":82,"end":86,"name":"type"}],"body":{"type":"BlockStatement","start":88,"end":471,"body":[{"type":"IfStatement","start":98,"end":269,"test":{"type":"LogicalExpression","start":102,"end":179,"left":{"type":"BinaryExpression","start":102,"end":120,"left":{"type":"Identifier","start":102,"end":106,"name":"unit"},"operator":"===","right":{"type":"Literal","start":111,"end":120,"value":"percent","raw":"'percent'"}},"operator":"&&","right":{"type":"LogicalExpression","start":125,"end":178,"left":{"type":"LogicalExpression","start":125,"end":164,"left":{"type":"LogicalExpression","start":125,"end":151,"left":{"type":"BinaryExpression","start":125,"end":136,"left":{"type":"Identifier","start":125,"end":132,"name":"centerX"},"operator":">","right":{"type":"Literal","start":135,"end":136,"value":1,"raw":"1"}},"operator":"||","right":{"type":"BinaryExpression","start":140,"end":151,"left":{"type":"Identifier","start":140,"end":147,"name":"centerY"},"operator":">","right":{"type":"Literal","start":150,"end":151,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":155,"end":164,"left":{"type":"Identifier","start":155,"end":160,"name":"width"},"operator":">","right":{"type":"Literal","start":163,"end":164,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":168,"end":178,"left":{"type":"Identifier","start":168,"end":174,"name":"height"},"operator":">","right":{"type":"Literal","start":177,"end":178,"value":1,"raw":"1"}}}},"consequent":{"type":"BlockStatement","start":181,"end":269,"body":[{"type":"ThrowStatement","start":195,"end":259,"argument":{"type":"NewExpression","start":201,"end":258,"callee":{"type":"Identifier","start":205,"end":210,"name":"Error"},"arguments":[{"type":"Literal","start":211,"end":257,"value":"AnnotateMarker unit is percent but value > 1","raw":"'AnnotateMarker unit is percent but value > 1'"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":278,"end":291,"expression":{"type":"AssignmentExpression","start":278,"end":290,"operator":"=","left":{"type":"MemberExpression","start":278,"end":285,"object":{"type":"ThisExpression","start":278,"end":282},"property":{"type":"Identifier","start":283,"end":285,"name":"id"},"computed":false,"optional":false},"right":{"type":"Identifier","start":288,"end":290,"name":"id"}}},{"type":"ExpressionStatement","start":300,"end":317,"expression":{"type":"AssignmentExpression","start":300,"end":316,"operator":"=","left":{"type":"MemberExpression","start":300,"end":309,"object":{"type":"ThisExpression","start":300,"end":304},"property":{"type":"Identifier","start":305,"end":309,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":312,"end":316,"name":"unit"}}},{"type":"ExpressionStatement","start":326,"end":349,"expression":{"type":"AssignmentExpression","start":326,"end":348,"operator":"=","left":{"type":"MemberExpression","start":326,"end":338,"object":{"type":"ThisExpression","start":326,"end":330},"property":{"type":"Identifier","start":331,"end":338,"name":"centerY"},"computed":false,"optional":false},"right":{"type":"Identifier","start":341,"end":348,"name":"centerY"}}},{"type":"ExpressionStatement","start":358,"end":381,"expression":{"type":"AssignmentExpression","start":358,"end":380,"operator":"=","left":{"type":"MemberExpression","start":358,"end":370,"object":{"type":"ThisExpression","start":358,"end":362},"property":{"type":"Identifier","start":363,"end":370,"name":"centerX"},"computed":false,"optional":false},"right":{"type":"Identifier","start":373,"end":380,"name":"centerX"}}},{"type":"ExpressionStatement","start":390,"end":409,"expression":{"type":"AssignmentExpression","start":390,"end":408,"operator":"=","left":{"type":"MemberExpression","start":390,"end":400,"object":{"type":"ThisExpression","start":390,"end":394},"property":{"type":"Identifier","start":395,"end":400,"name":"width"},"computed":false,"optional":false},"right":{"type":"Identifier","start":403,"end":408,"name":"width"}}},{"type":"ExpressionStatement","start":418,"end":439,"expression":{"type":"AssignmentExpression","start":418,"end":438,"operator":"=","left":{"type":"MemberExpression","start":418,"end":429,"object":{"type":"ThisExpression","start":418,"end":422},"property":{"type":"Identifier","start":423,"end":429,"name":"height"},"computed":false,"optional":false},"right":{"type":"Identifier","start":432,"end":438,"name":"height"}}},{"type":"ExpressionStatement","start":448,"end":465,"expression":{"type":"AssignmentExpression","start":448,"end":464,"operator":"=","left":{"type":"MemberExpression","start":448,"end":457,"object":{"type":"ThisExpression","start":448,"end":452},"property":{"type":"Identifier","start":453,"end":457,"name":"type"},"computed":false,"optional":false},"right":{"type":"Identifier","start":460,"end":464,"name":"type"}}}]}}}]}},{"type":"ExportNamedDeclaration","start":474,"end":702,"declaration":{"type":"ClassDeclaration","start":481,"end":702,"id":{"type":"Identifier","start":487,"end":497,"name":"MarkerRect"},"superClass":{"type":"Identifier","start":506,"end":520,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":521,"end":702,"body":[{"type":"MethodDefinition","start":527,"end":700,"static":false,"computed":false,"key":{"type":"Identifier","start":527,"end":538,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":538,"end":700,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":539,"end":541,"name":"id"},{"type":"Identifier","start":543,"end":550,"name":"centerY"},{"type":"Identifier","start":552,"end":559,"name":"centerX"},{"type":"Identifier","start":561,"end":566,"name":"width"},{"type":"Identifier","start":568,"end":574,"name":"height"},{"type":"AssignmentPattern","start":576,"end":592,"left":{"type":"Identifier","start":576,"end":580,"name":"unit"},"right":{"type":"Literal","start":583,"end":592,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":594,"end":700,"body":[{"type":"VariableDeclaration","start":604,"end":630,"declarations":[{"type":"VariableDeclarator","start":610,"end":629,"id":{"type":"Identifier","start":610,"end":614,"name":"type"},"init":{"type":"Literal","start":617,"end":629,"value":"MarkerRect","raw":"'MarkerRect'"}}],"kind":"const"},{"type":"ExpressionStatement","start":639,"end":694,"expression":{"type":"CallExpression","start":639,"end":693,"callee":{"type":"Super","start":639,"end":644},"arguments":[{"type":"Identifier","start":645,"end":647,"name":"id"},{"type":"Identifier","start":649,"end":653,"name":"unit"},{"type":"Identifier","start":655,"end":662,"name":"centerY"},{"type":"Identifier","start":664,"end":671,"name":"centerX"},{"type":"Identifier","start":673,"end":678,"name":"width"},{"type":"Identifier","start":680,"end":686,"name":"height"},{"type":"Identifier","start":688,"end":692,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":703,"end":933,"declaration":{"type":"ClassDeclaration","start":710,"end":933,"id":{"type":"Identifier","start":716,"end":727,"name":"MarkerRound"},"superClass":{"type":"Identifier","start":736,"end":750,"name":"AnnotateMarker"},"body":{"type":"ClassBody","start":751,"end":933,"body":[{"type":"MethodDefinition","start":757,"end":931,"static":false,"computed":false,"key":{"type":"Identifier","start":757,"end":768,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":768,"end":931,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":769,"end":771,"name":"id"},{"type":"Identifier","start":773,"end":780,"name":"centerY"},{"type":"Identifier","start":782,"end":789,"name":"centerX"},{"type":"Identifier","start":791,"end":796,"name":"width"},{"type":"Identifier","start":798,"end":804,"name":"height"},{"type":"AssignmentPattern","start":806,"end":822,"left":{"type":"Identifier","start":806,"end":810,"name":"unit"},"right":{"type":"Literal","start":813,"end":822,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":824,"end":931,"body":[{"type":"VariableDeclaration","start":834,"end":861,"declarations":[{"type":"VariableDeclarator","start":840,"end":860,"id":{"type":"Identifier","start":840,"end":844,"name":"type"},"init":{"type":"Literal","start":847,"end":860,"value":"MarkerRound","raw":"'MarkerRound'"}}],"kind":"const"},{"type":"ExpressionStatement","start":870,"end":925,"expression":{"type":"CallExpression","start":870,"end":924,"callee":{"type":"Super","start":870,"end":875},"arguments":[{"type":"Identifier","start":876,"end":878,"name":"id"},{"type":"Identifier","start":880,"end":884,"name":"unit"},{"type":"Identifier","start":886,"end":893,"name":"centerY"},{"type":"Identifier","start":895,"end":902,"name":"centerX"},{"type":"Identifier","start":904,"end":909,"name":"width"},{"type":"Identifier","start":911,"end":917,"name":"height"},{"type":"Identifier","start":919,"end":923,"name":"type"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":934,"end":1099,"declaration":{"type":"ClassDeclaration","start":941,"end":1099,"id":{"type":"Identifier","start":947,"end":957,"name":"MarkerPoly"},"superClass":null,"body":{"type":"ClassBody","start":958,"end":1099,"body":[{"type":"MethodDefinition","start":964,"end":1097,"static":false,"computed":false,"key":{"type":"Identifier","start":964,"end":975,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":975,"end":1097,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":976,"end":978,"name":"id"},{"type":"Identifier","start":980,"end":984,"name":"dots"},{"type":"AssignmentPattern","start":986,"end":1002,"left":{"type":"Identifier","start":986,"end":990,"name":"unit"},"right":{"type":"Literal","start":993,"end":1002,"value":"percent","raw":"'percent'"}}],"body":{"type":"BlockStatement","start":1004,"end":1097,"body":[{"type":"ExpressionStatement","start":1014,"end":1039,"expression":{"type":"AssignmentExpression","start":1014,"end":1038,"operator":"=","left":{"type":"MemberExpression","start":1014,"end":1023,"object":{"type":"ThisExpression","start":1014,"end":1018},"property":{"type":"Identifier","start":1019,"end":1023,"name":"type"},"computed":false,"optional":false},"right":{"type":"Literal","start":1026,"end":1038,"value":"MarkerPoly","raw":"'MarkerPoly'"}}},{"type":"ExpressionStatement","start":1048,"end":1065,"expression":{"type":"AssignmentExpression","start":1048,"end":1064,"operator":"=","left":{"type":"MemberExpression","start":1048,"end":1057,"object":{"type":"ThisExpression","start":1048,"end":1052},"property":{"type":"Identifier","start":1053,"end":1057,"name":"unit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1060,"end":1064,"name":"unit"}}},{"type":"ExpressionStatement","start":1074,"end":1091,"expression":{"type":"AssignmentExpression","start":1074,"end":1090,"operator":"=","left":{"type":"MemberExpression","start":1074,"end":1083,"object":{"type":"ThisExpression","start":1074,"end":1078},"property":{"type":"Identifier","start":1079,"end":1083,"name":"dots"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1086,"end":1090,"name":"dots"}}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVdBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBTXBCLFlBQVksRUFBVSxFQUFFLElBQWEsRUFBRSxPQUFpQixTQUFTO1FBTGpFLFNBQUksR0FBRyxZQUFZLENBQUM7UUFNaEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgUGxheWVyVHlwZSA9ICdpbWFnZScgfCAnZHppJztcbmV4cG9ydCB0eXBlIFVuaXRUeXBlID0gJ3BlcmNlbnQnIHwgJ3BpeGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7eCA6IG51bWJlciwgeSA6IG51bWJlcn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWdpb25PZkludGVyZXN0IHtcbiAgICBwb2ludCA6IFBvaW50LFxuICAgIHdpZHRoIDogbnVtYmVyLFxuICAgIGhlaWdodCA6IG51bWJlclxufVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG4gICAgaWQgOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihpZCA6c3RyaW5nLCBkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=","start":1100,"end":5454},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","start":5455,"end":5562}]},"code":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(id, dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVdBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBTXBCLFlBQVksRUFBVSxFQUFFLElBQWEsRUFBRSxPQUFpQixTQUFTO1FBTGpFLFNBQUksR0FBRyxZQUFZLENBQUM7UUFNaEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgUGxheWVyVHlwZSA9ICdpbWFnZScgfCAnZHppJztcbmV4cG9ydCB0eXBlIFVuaXRUeXBlID0gJ3BlcmNlbnQnIHwgJ3BpeGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7eCA6IG51bWJlciwgeSA6IG51bWJlcn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWdpb25PZkludGVyZXN0IHtcbiAgICBwb2ludCA6IFBvaW50LFxuICAgIHdpZHRoIDogbnVtYmVyLFxuICAgIGhlaWdodCA6IG51bWJlclxufVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG4gICAgaWQgOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihpZCA6c3RyaW5nLCBkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","customTransformCache":false,"dependencies":[],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"originalCode":"class AnnotateMarker {\n    constructor(id, unit, centerY, centerX, width, height, type) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id, centerY, centerX, width, height, unit = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\nexport class MarkerPoly {\n    constructor(id, dots, unit = 'percent') {\n        this.type = 'MarkerPoly';\n        this.unit = unit;\n        this.dots = dots;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvbGliL2Fubm90YXRpb24tb3NkLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVdBLE1BQWUsY0FBYztJQVN6QixZQUFzQixFQUFVLEVBQUUsSUFBYyxFQUFFLE9BQWUsRUFBRSxPQUFlLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBQzNILElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRTtZQUMvRSxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsY0FBYztJQUMxQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxZQUFZLENBQUM7UUFDMUIsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxXQUFZLFNBQVEsY0FBYztJQUMzQyxZQUFZLEVBQVUsRUFBRSxPQUFlLEVBQUUsT0FBZSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsT0FBaUIsU0FBUztRQUMvRyxNQUFNLElBQUksR0FBRyxhQUFhLENBQUM7UUFDM0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBUSxVQUFVO0lBTXBCLFlBQVksRUFBVSxFQUFFLElBQWEsRUFBRSxPQUFpQixTQUFTO1FBTGpFLFNBQUksR0FBRyxZQUFZLENBQUM7UUFNaEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgUGxheWVyVHlwZSA9ICdpbWFnZScgfCAnZHppJztcbmV4cG9ydCB0eXBlIFVuaXRUeXBlID0gJ3BlcmNlbnQnIHwgJ3BpeGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7eCA6IG51bWJlciwgeSA6IG51bWJlcn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWdpb25PZkludGVyZXN0IHtcbiAgICBwb2ludCA6IFBvaW50LFxuICAgIHdpZHRoIDogbnVtYmVyLFxuICAgIGhlaWdodCA6IG51bWJlclxufVxuXG5hYnN0cmFjdCBjbGFzcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgcmVhZG9ubHkgaWQgOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdW5pdCA6IFVuaXRUeXBlO1xuICAgIHJlYWRvbmx5IGNlbnRlclkgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgY2VudGVyWCA6IG51bWJlcjtcbiAgICByZWFkb25seSB3aWR0aCA6IG51bWJlcjtcbiAgICByZWFkb25seSBoZWlnaHQgOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgdHlwZSA6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCB1bml0OiBVbml0VHlwZSwgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVuaXQgPT09ICdwZXJjZW50JyAmJiAoY2VudGVyWCA+IDEgfHwgY2VudGVyWSA+IDEgfHwgd2lkdGggPiAxIHx8IGhlaWdodCA+IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fubm90YXRlTWFya2VyIHVuaXQgaXMgcGVyY2VudCBidXQgdmFsdWUgPiAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmNlbnRlclkgPSBjZW50ZXJZO1xuICAgICAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlclJlY3QgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJlY3QnO1xuICAgICAgICBzdXBlcihpZCwgdW5pdCwgY2VudGVyWSwgY2VudGVyWCwgd2lkdGgsIGhlaWdodCwgdHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFya2VyUm91bmQgZXh0ZW5kcyBBbm5vdGF0ZU1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY2VudGVyWTogbnVtYmVyLCBjZW50ZXJYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICBjb25zdCB0eXBlID0gJ01hcmtlclJvdW5kJztcbiAgICAgICAgc3VwZXIoaWQsIHVuaXQsIGNlbnRlclksIGNlbnRlclgsIHdpZHRoLCBoZWlnaHQsIHR5cGUpO1xuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBNYXJrZXJQb2x5IHtcbiAgICB0eXBlID0gJ01hcmtlclBvbHknO1xuICAgIHVuaXQ6IFVuaXRUeXBlO1xuICAgIGRvdHM6IFBvaW50W107XG4gICAgaWQgOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihpZCA6c3RyaW5nLCBkb3RzOiBQb2ludFtdLCB1bml0OiBVbml0VHlwZSA9ICdwZXJjZW50Jykge1xuICAgICAgICB0aGlzLnVuaXQgPSB1bml0O1xuICAgICAgICB0aGlzLmRvdHMgPSBkb3RzO1xuICAgIH1cbn0iXX0=","originalSourcemap":{"version":3,"file":"annotation-osd.model.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.model.ts"],"names":[],"mappings":[[[0,0,11,0],[6,0,11,15],[20,0,11,29]],[[4,0,20,4],[16,0,20,26],[18,0,20,36],[20,0,20,38],[24,0,20,52],[26,0,20,54],[33,0,20,69],[35,0,20,71],[42,0,20,86],[44,0,20,88],[49,0,20,101],[51,0,20,103],[57,0,20,117],[59,0,20,119],[63,0,20,131]],[[8,0,21,8],[12,0,21,12],[16,0,21,16],[21,0,21,21],[30,0,21,30],[34,0,21,34],[35,0,21,35],[42,0,21,42],[45,0,21,45],[46,0,21,46],[50,0,21,50],[57,0,21,57],[60,0,21,60],[61,0,21,61],[65,0,21,65],[70,0,21,70],[73,0,21,73],[74,0,21,74],[78,0,21,78],[84,0,21,84],[87,0,21,87],[88,0,21,88],[89,0,21,89],[91,0,21,91]],[[12,0,22,12],[18,0,22,18],[22,0,22,22],[27,0,22,27],[28,0,22,28],[74,0,22,74],[75,0,22,75],[76,0,22,76]],[[9,0,23,9]],[[8,0,24,8],[12,0,24,12],[13,0,24,13],[15,0,24,15],[18,0,24,18],[20,0,24,20],[21,0,24,21]],[[8,0,25,8],[12,0,25,12],[13,0,25,13],[17,0,25,17],[20,0,25,20],[24,0,25,24],[25,0,25,25]],[[8,0,26,8],[12,0,26,12],[13,0,26,13],[20,0,26,20],[23,0,26,23],[30,0,26,30],[31,0,26,31]],[[8,0,27,8],[12,0,27,12],[13,0,27,13],[20,0,27,20],[23,0,27,23],[30,0,27,30],[31,0,27,31]],[[8,0,28,8],[12,0,28,12],[13,0,28,13],[18,0,28,18],[21,0,28,21],[26,0,28,26],[27,0,28,27]],[[8,0,29,8],[12,0,29,12],[13,0,29,13],[19,0,29,19],[22,0,29,22],[28,0,29,28],[29,0,29,29]],[[8,0,30,8],[12,0,30,12],[13,0,30,13],[17,0,30,17],[20,0,30,20],[24,0,30,24],[25,0,30,25]],[[4,0,31,4],[5,0,31,5]],[[1,0,32,1]],[[0,0,34,0],[6,0,34,6],[13,0,34,13],[23,0,34,24],[32,0,34,32],[46,0,34,46]],[[4,0,35,4],[16,0,35,16],[18,0,35,26],[20,0,35,28],[27,0,35,43],[29,0,35,45],[36,0,35,60],[38,0,35,62],[43,0,35,75],[45,0,35,77],[51,0,35,91],[53,0,35,93],[60,0,35,110],[69,0,35,119]],[[8,0,36,8],[14,0,36,14],[18,0,36,18],[21,0,36,21],[33,0,36,33],[34,0,36,34]],[[8,0,37,8],[13,0,37,13],[14,0,37,14],[16,0,37,16],[18,0,37,18],[22,0,37,22],[24,0,37,24],[31,0,37,31],[33,0,37,33],[40,0,37,40],[42,0,37,42],[47,0,37,47],[49,0,37,49],[55,0,37,55],[57,0,37,57],[61,0,37,61],[62,0,37,62],[63,0,37,63]],[[4,0,38,4],[5,0,38,5]],[[1,0,39,1]],[[0,0,41,0],[6,0,41,6],[13,0,41,13],[24,0,41,25],[33,0,41,33],[47,0,41,47]],[[4,0,42,4],[16,0,42,16],[18,0,42,26],[20,0,42,28],[27,0,42,43],[29,0,42,45],[36,0,42,60],[38,0,42,62],[43,0,42,75],[45,0,42,77],[51,0,42,91],[53,0,42,93],[60,0,42,110],[69,0,42,119]],[[8,0,43,8],[14,0,43,14],[18,0,43,18],[21,0,43,21],[34,0,43,34],[35,0,43,35]],[[8,0,44,8],[13,0,44,13],[14,0,44,14],[16,0,44,16],[18,0,44,18],[22,0,44,22],[24,0,44,24],[31,0,44,31],[33,0,44,33],[40,0,44,40],[42,0,44,42],[47,0,44,47],[49,0,44,49],[55,0,44,55],[57,0,44,57],[61,0,44,61],[62,0,44,62],[63,0,44,63]],[[4,0,45,4],[5,0,45,5]],[[1,0,46,1]],[[0,0,48,0],[6,0,48,6],[13,0,48,14],[23,0,48,24]],[[4,0,54,4],[16,0,54,16],[18,0,54,26],[20,0,54,28],[24,0,54,41],[26,0,54,43],[33,0,54,60],[42,0,54,69]],[[8,0,49,4],[17,0,49,8],[20,0,49,11],[32,0,49,23],[33,0,49,24]],[[8,0,55,8],[12,0,55,12],[13,0,55,13],[17,0,55,17],[20,0,55,20],[24,0,55,24],[25,0,55,25]],[[8,0,56,8],[12,0,56,12],[13,0,56,13],[17,0,56,17],[20,0,56,20],[24,0,56,24],[25,0,56,25]],[[4,0,57,4],[5,0,57,5]],[[1,0,58,1]]],"sourcesContent":["export type PlayerType = 'image' | 'dzi';\nexport type UnitType = 'percent' | 'pixel';\n\nexport interface Point {x : number, y : number}\n\nexport interface RegionOfInterest {\n    point : Point,\n    width : number,\n    height : number\n}\n\nabstract class AnnotateMarker {\n    readonly id : string;\n    readonly unit : UnitType;\n    readonly centerY : number;\n    readonly centerX : number;\n    readonly width : number;\n    readonly height : number;\n    readonly type : string;\n\n    protected constructor(id: string, unit: UnitType, centerY: number, centerX: number, width: number, height: number, type: string) {\n        if (unit === 'percent' && (centerX > 1 || centerY > 1 || width > 1 || height > 1)) {\n            throw new Error('AnnotateMarker unit is percent but value > 1');\n        }\n        this.id = id;\n        this.unit = unit;\n        this.centerY = centerY;\n        this.centerX = centerX;\n        this.width = width;\n        this.height = height;\n        this.type = type;\n    }\n}\n\nexport class MarkerRect extends AnnotateMarker {\n    constructor(id: string, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRect';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport class MarkerRound extends AnnotateMarker {\n    constructor(id: string, centerY: number, centerX: number, width: number, height: number, unit: UnitType = 'percent') {\n        const type = 'MarkerRound';\n        super(id, unit, centerY, centerX, width, height, type);\n    }\n}\n\nexport  class MarkerPoly {\n    type = 'MarkerPoly';\n    unit: UnitType;\n    dots: Point[];\n    id : string;\n\n    constructor(id :string, dots: Point[], unit: UnitType = 'percent') {\n        this.unit = unit;\n        this.dots = dots;\n    }\n}"]},"resolvedIds":{},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0],[6,0,0,6],[20,0,0,20]],[[4,0,1,4],[16,0,1,16],[18,0,1,18],[20,0,1,20],[24,0,1,24],[26,0,1,26],[33,0,1,33],[35,0,1,35],[42,0,1,42],[44,0,1,44],[49,0,1,49],[51,0,1,51],[57,0,1,57],[59,0,1,59],[63,0,1,63]],[[8,0,2,8],[12,0,2,12],[16,0,2,16],[21,0,2,21],[30,0,2,30],[34,0,2,34],[35,0,2,35],[42,0,2,42],[45,0,2,45],[46,0,2,46],[50,0,2,50],[57,0,2,57],[60,0,2,60],[61,0,2,61],[65,0,2,65],[70,0,2,70],[73,0,2,73],[74,0,2,74],[78,0,2,78],[84,0,2,84],[87,0,2,87],[88,0,2,88],[89,0,2,89],[91,0,2,91]],[[12,0,3,12],[18,0,3,18],[22,0,3,22],[27,0,3,27],[28,0,3,28],[74,0,3,74],[75,0,3,75],[76,0,3,76]],[[9,0,4,9]],[[8,0,5,8],[12,0,5,12],[13,0,5,13],[15,0,5,15],[18,0,5,18],[20,0,5,20],[21,0,5,21]],[[8,0,6,8],[12,0,6,12],[13,0,6,13],[17,0,6,17],[20,0,6,20],[24,0,6,24],[25,0,6,25]],[[8,0,7,8],[12,0,7,12],[13,0,7,13],[20,0,7,20],[23,0,7,23],[30,0,7,30],[31,0,7,31]],[[8,0,8,8],[12,0,8,12],[13,0,8,13],[20,0,8,20],[23,0,8,23],[30,0,8,30],[31,0,8,31]],[[8,0,9,8],[12,0,9,12],[13,0,9,13],[18,0,9,18],[21,0,9,21],[26,0,9,26],[27,0,9,27]],[[8,0,10,8],[12,0,10,12],[13,0,10,13],[19,0,10,19],[22,0,10,22],[28,0,10,28],[29,0,10,29]],[[8,0,11,8],[12,0,11,12],[13,0,11,13],[17,0,11,17],[20,0,11,20],[24,0,11,24],[25,0,11,25]],[[4,0,12,4],[5,0,12,5]],[[1,0,13,1]],[[0,0,14,0],[6,0,14,6],[13,0,14,13],[23,0,14,24],[32,0,14,32],[46,0,14,46]],[[4,0,15,4],[16,0,15,16],[18,0,15,18],[20,0,15,20],[27,0,15,27],[29,0,15,29],[36,0,15,36],[38,0,15,38],[43,0,15,43],[45,0,15,45],[51,0,15,51],[53,0,15,53],[57,0,15,57],[60,0,15,60],[69,0,15,69]],[[8,0,16,8],[14,0,16,14],[18,0,16,18],[21,0,16,21],[33,0,16,33],[34,0,16,34]],[[8,0,17,8],[13,0,17,13],[14,0,17,14],[16,0,17,16],[18,0,17,18],[22,0,17,22],[24,0,17,24],[31,0,17,31],[33,0,17,33],[40,0,17,40],[42,0,17,42],[47,0,17,47],[49,0,17,49],[55,0,17,55],[57,0,17,57],[61,0,17,61],[62,0,17,62],[63,0,17,63]],[[4,0,18,4],[5,0,18,5]],[[1,0,19,1]],[[0,0,20,0],[6,0,20,6],[13,0,20,13],[24,0,20,25],[33,0,20,33],[47,0,20,47]],[[4,0,21,4],[16,0,21,16],[18,0,21,18],[20,0,21,20],[27,0,21,27],[29,0,21,29],[36,0,21,36],[38,0,21,38],[43,0,21,43],[45,0,21,45],[51,0,21,51],[53,0,21,53],[57,0,21,57],[60,0,21,60],[69,0,21,69]],[[8,0,22,8],[14,0,22,14],[18,0,22,18],[21,0,22,21],[34,0,22,34],[35,0,22,35]],[[8,0,23,8],[13,0,23,13],[14,0,23,14],[16,0,23,16],[18,0,23,18],[22,0,23,22],[24,0,23,24],[31,0,23,31],[33,0,23,33],[40,0,23,40],[42,0,23,42],[47,0,23,47],[49,0,23,49],[55,0,23,55],[57,0,23,57],[61,0,23,61],[62,0,23,62],[63,0,23,63]],[[4,0,24,4],[5,0,24,5]],[[1,0,25,1]],[[0,0,26,0],[6,0,26,6],[13,0,26,13],[23,0,26,23]],[[4,0,27,4],[16,0,27,16],[18,0,27,18],[20,0,27,20],[24,0,27,24],[26,0,27,26],[30,0,27,30],[33,0,27,33],[42,0,27,42]],[[8,0,28,8],[12,0,28,12],[13,0,28,13],[17,0,28,17],[20,0,28,20],[32,0,28,32],[33,0,28,33]],[[8,0,29,8],[12,0,29,12],[13,0,29,13],[17,0,29,17],[20,0,29,20],[24,0,29,24],[25,0,29,25]],[[8,0,30,8],[12,0,30,12],[13,0,30,13],[17,0,30,17],[20,0,30,20],[24,0,30,24],[25,0,30,25]],[[4,0,31,4],[5,0,31,5]],[[1,0,32,1]],[[0,0,33,0],[4354,0,33,4354]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":27112,"body":[{"type":"ImportDeclaration","start":0,"end":51,"specifiers":[{"type":"ImportSpecifier","start":9,"end":15,"imported":{"type":"Identifier","start":9,"end":15,"name":"Inject"},"local":{"type":"Identifier","start":9,"end":15,"name":"Inject"}},{"type":"ImportSpecifier","start":17,"end":27,"imported":{"type":"Identifier","start":17,"end":27,"name":"Injectable"},"local":{"type":"Identifier","start":17,"end":27,"name":"Injectable"}}],"source":{"type":"Literal","start":35,"end":50,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":52,"end":83,"specifiers":[{"type":"ImportSpecifier","start":61,"end":68,"imported":{"type":"Identifier","start":61,"end":68,"name":"Subject"},"local":{"type":"Identifier","start":61,"end":68,"name":"Subject"}}],"source":{"type":"Literal","start":76,"end":82,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":84,"end":130,"specifiers":[{"type":"ImportSpecifier","start":93,"end":105,"imported":{"type":"Identifier","start":93,"end":105,"name":"debounceTime"},"local":{"type":"Identifier","start":93,"end":105,"name":"debounceTime"}}],"source":{"type":"Literal","start":113,"end":129,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":131,"end":167,"specifiers":[{"type":"ImportNamespaceSpecifier","start":138,"end":145,"local":{"type":"Identifier","start":143,"end":145,"name":"i0"}}],"source":{"type":"Literal","start":151,"end":166,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":168,"end":4535,"declaration":{"type":"ClassDeclaration","start":175,"end":4535,"id":{"type":"Identifier","start":181,"end":201,"name":"AnnotationOSDService"},"superClass":null,"body":{"type":"ClassBody","start":202,"end":4535,"body":[{"type":"MethodDefinition","start":338,"end":400,"static":false,"computed":false,"key":{"type":"Identifier","start":338,"end":349,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":349,"end":400,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"AssignmentPattern","start":350,"end":363,"left":{"type":"Identifier","start":350,"end":355,"name":"debug"},"right":{"type":"Literal","start":358,"end":363,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":365,"end":400,"body":[{"type":"ExpressionStatement","start":375,"end":394,"expression":{"type":"AssignmentExpression","start":375,"end":393,"operator":"=","left":{"type":"MemberExpression","start":375,"end":385,"object":{"type":"ThisExpression","start":375,"end":379},"property":{"type":"Identifier","start":380,"end":385,"name":"DEBUG"},"computed":false,"optional":false},"right":{"type":"Identifier","start":388,"end":393,"name":"debug"}}}]}}},{"type":"MethodDefinition","start":602,"end":1924,"static":false,"computed":false,"key":{"type":"Identifier","start":602,"end":615,"name":"playerFactory"},"kind":"method","value":{"type":"FunctionExpression","start":615,"end":1924,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":616,"end":620,"name":"type"},{"type":"Identifier","start":622,"end":624,"name":"id"},{"type":"Identifier","start":626,"end":630,"name":"link"}],"body":{"type":"BlockStatement","start":632,"end":1924,"body":[{"type":"ReturnStatement","start":642,"end":1918,"argument":{"type":"NewExpression","start":649,"end":1917,"callee":{"type":"Identifier","start":653,"end":660,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":661,"end":1916,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":662,"end":669,"name":"resolve"}],"body":{"type":"BlockStatement","start":674,"end":1916,"body":[{"type":"ExpressionStatement","start":688,"end":1179,"expression":{"type":"AssignmentExpression","start":688,"end":1178,"operator":"=","left":{"type":"MemberExpression","start":688,"end":699,"object":{"type":"ThisExpression","start":688,"end":692},"property":{"type":"Identifier","start":693,"end":699,"name":"viewer"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":702,"end":1178,"callee":{"type":"Identifier","start":702,"end":715,"name":"OpenSeadragon"},"arguments":[{"type":"ObjectExpression","start":716,"end":1177,"properties":[{"type":"Property","start":734,"end":736,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":734,"end":736,"name":"id"},"kind":"init","value":{"type":"Identifier","start":734,"end":736,"name":"id"}},{"type":"Property","start":754,"end":819,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":754,"end":765,"name":"tileSources"},"value":{"type":"ConditionalExpression","start":767,"end":819,"test":{"type":"BinaryExpression","start":767,"end":781,"left":{"type":"Identifier","start":767,"end":771,"name":"type"},"operator":"===","right":{"type":"Literal","start":776,"end":781,"value":"dzi","raw":"'dzi'"}},"consequent":{"type":"Identifier","start":784,"end":788,"name":"link"},"alternate":{"type":"ObjectExpression","start":791,"end":819,"properties":[{"type":"Property","start":793,"end":806,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":793,"end":797,"name":"type"},"value":{"type":"Literal","start":799,"end":806,"value":"image","raw":"'image'"},"kind":"init"},{"type":"Property","start":808,"end":817,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":808,"end":811,"name":"url"},"value":{"type":"Identifier","start":813,"end":817,"name":"link"},"kind":"init"}]}},"kind":"init"},{"type":"Property","start":837,"end":881,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":837,"end":857,"name":"gestureSettingsTouch"},"value":{"type":"ObjectExpression","start":859,"end":881,"properties":[{"type":"Property","start":861,"end":879,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":861,"end":872,"name":"pinchRotate"},"value":{"type":"Literal","start":874,"end":879,"value":false,"raw":"false"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":899,"end":925,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":899,"end":918,"name":"showRotationControl"},"value":{"type":"Literal","start":920,"end":925,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":943,"end":971,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":943,"end":964,"name":"showNavigationControl"},"value":{"type":"Literal","start":966,"end":971,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":989,"end":1011,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":989,"end":1004,"name":"showFlipControl"},"value":{"type":"Literal","start":1006,"end":1011,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":1029,"end":1044,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1029,"end":1041,"name":"zoomPerClick"},"value":{"type":"Literal","start":1043,"end":1044,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":1062,"end":1081,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1062,"end":1078,"name":"imageLoaderLimit"},"value":{"type":"Literal","start":1080,"end":1081,"value":1,"raw":"1"},"kind":"init"},{"type":"Property","start":1099,"end":1123,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1099,"end":1117,"name":"constrainDuringPan"},"value":{"type":"Literal","start":1119,"end":1123,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1141,"end":1162,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1141,"end":1150,"name":"debugMode"},"value":{"type":"MemberExpression","start":1152,"end":1162,"object":{"type":"ThisExpression","start":1152,"end":1156},"property":{"type":"Identifier","start":1157,"end":1162,"name":"DEBUG"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"VariableDeclaration","start":1192,"end":1226,"declarations":[{"type":"VariableDeclarator","start":1198,"end":1225,"id":{"type":"Identifier","start":1198,"end":1209,"name":"subjectZoom"},"init":{"type":"NewExpression","start":1212,"end":1225,"callee":{"type":"Identifier","start":1216,"end":1223,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1239,"end":1331,"expression":{"type":"CallExpression","start":1239,"end":1330,"callee":{"type":"MemberExpression","start":1239,"end":1261,"object":{"type":"MemberExpression","start":1239,"end":1250,"object":{"type":"ThisExpression","start":1239,"end":1243},"property":{"type":"Identifier","start":1244,"end":1250,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1251,"end":1261,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1262,"end":1268,"value":"zoom","raw":"'zoom'"},{"type":"ArrowFunctionExpression","start":1270,"end":1329,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1271,"end":1272,"name":"e"}],"body":{"type":"BlockStatement","start":1277,"end":1329,"body":[{"type":"ExpressionStatement","start":1295,"end":1315,"expression":{"type":"CallExpression","start":1295,"end":1314,"callee":{"type":"MemberExpression","start":1295,"end":1311,"object":{"type":"Identifier","start":1295,"end":1306,"name":"subjectZoom"},"property":{"type":"Identifier","start":1307,"end":1311,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1312,"end":1313,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1344,"end":1492,"expression":{"type":"CallExpression","start":1344,"end":1491,"callee":{"type":"MemberExpression","start":1344,"end":1388,"object":{"type":"CallExpression","start":1344,"end":1378,"callee":{"type":"MemberExpression","start":1344,"end":1360,"object":{"type":"Identifier","start":1344,"end":1355,"name":"subjectZoom"},"property":{"type":"Identifier","start":1356,"end":1360,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1361,"end":1377,"callee":{"type":"Identifier","start":1361,"end":1373,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1374,"end":1376,"value":50,"raw":"50"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1379,"end":1388,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1389,"end":1490,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1395,"end":1490,"body":[{"type":"ExpressionStatement","start":1413,"end":1435,"expression":{"type":"CallExpression","start":1413,"end":1434,"callee":{"type":"MemberExpression","start":1413,"end":1432,"object":{"type":"ThisExpression","start":1413,"end":1417},"property":{"type":"Identifier","start":1418,"end":1432,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1452,"end":1476,"expression":{"type":"CallExpression","start":1452,"end":1475,"callee":{"type":"MemberExpression","start":1452,"end":1473,"object":{"type":"ThisExpression","start":1452,"end":1456},"property":{"type":"Identifier","start":1457,"end":1473,"name":"resetStrokeWidth"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1505,"end":1633,"expression":{"type":"CallExpression","start":1505,"end":1632,"callee":{"type":"MemberExpression","start":1505,"end":1531,"object":{"type":"MemberExpression","start":1505,"end":1516,"object":{"type":"ThisExpression","start":1505,"end":1509},"property":{"type":"Identifier","start":1510,"end":1516,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1517,"end":1531,"name":"addOnceHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1532,"end":1538,"value":"open","raw":"'open'"},{"type":"ArrowFunctionExpression","start":1540,"end":1631,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1546,"end":1631,"body":[{"type":"ExpressionStatement","start":1564,"end":1586,"expression":{"type":"CallExpression","start":1564,"end":1585,"callee":{"type":"MemberExpression","start":1564,"end":1583,"object":{"type":"ThisExpression","start":1564,"end":1568},"property":{"type":"Identifier","start":1569,"end":1583,"name":"calculateRatio"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1603,"end":1617,"expression":{"type":"CallExpression","start":1603,"end":1616,"callee":{"type":"Identifier","start":1603,"end":1610,"name":"resolve"},"arguments":[{"type":"ThisExpression","start":1611,"end":1615}],"optional":false}}]}}],"optional":false}},{"type":"VariableDeclaration","start":1646,"end":1682,"declarations":[{"type":"VariableDeclarator","start":1652,"end":1681,"id":{"type":"Identifier","start":1652,"end":1665,"name":"subjectResize"},"init":{"type":"NewExpression","start":1668,"end":1681,"callee":{"type":"Identifier","start":1672,"end":1679,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1695,"end":1791,"expression":{"type":"CallExpression","start":1695,"end":1790,"callee":{"type":"MemberExpression","start":1695,"end":1717,"object":{"type":"MemberExpression","start":1695,"end":1706,"object":{"type":"ThisExpression","start":1695,"end":1699},"property":{"type":"Identifier","start":1700,"end":1706,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1707,"end":1717,"name":"addHandler"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1718,"end":1726,"value":"resize","raw":"'resize'"},{"type":"ArrowFunctionExpression","start":1728,"end":1789,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1729,"end":1730,"name":"e"}],"body":{"type":"BlockStatement","start":1735,"end":1789,"body":[{"type":"ExpressionStatement","start":1753,"end":1775,"expression":{"type":"CallExpression","start":1753,"end":1774,"callee":{"type":"MemberExpression","start":1753,"end":1771,"object":{"type":"Identifier","start":1753,"end":1766,"name":"subjectResize"},"property":{"type":"Identifier","start":1767,"end":1771,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1772,"end":1773,"name":"e"}],"optional":false}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1804,"end":1906,"expression":{"type":"CallExpression","start":1804,"end":1905,"callee":{"type":"MemberExpression","start":1804,"end":1851,"object":{"type":"CallExpression","start":1804,"end":1841,"callee":{"type":"MemberExpression","start":1804,"end":1822,"object":{"type":"Identifier","start":1804,"end":1817,"name":"subjectResize"},"property":{"type":"Identifier","start":1818,"end":1822,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1823,"end":1840,"callee":{"type":"Identifier","start":1823,"end":1835,"name":"debounceTime"},"arguments":[{"type":"Literal","start":1836,"end":1839,"value":200,"raw":"200"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1842,"end":1851,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1852,"end":1904,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1858,"end":1904,"body":[{"type":"ExpressionStatement","start":1876,"end":1890,"expression":{"type":"CallExpression","start":1876,"end":1889,"callee":{"type":"MemberExpression","start":1876,"end":1887,"object":{"type":"ThisExpression","start":1876,"end":1880},"property":{"type":"Identifier","start":1881,"end":1887,"name":"goHome"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":1994,"end":2140,"static":false,"computed":false,"key":{"type":"Identifier","start":1994,"end":2000,"name":"delete"},"kind":"method","value":{"type":"FunctionExpression","start":2000,"end":2140,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2003,"end":2140,"body":[{"type":"ExpressionStatement","start":2013,"end":2033,"expression":{"type":"CallExpression","start":2013,"end":2032,"callee":{"type":"MemberExpression","start":2013,"end":2030,"object":{"type":"MemberExpression","start":2013,"end":2024,"object":{"type":"ThisExpression","start":2013,"end":2017},"property":{"type":"Identifier","start":2018,"end":2024,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2025,"end":2030,"name":"clear"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2042,"end":2064,"expression":{"type":"CallExpression","start":2042,"end":2063,"callee":{"type":"MemberExpression","start":2042,"end":2061,"object":{"type":"MemberExpression","start":2042,"end":2053,"object":{"type":"ThisExpression","start":2042,"end":2046},"property":{"type":"Identifier","start":2047,"end":2053,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2054,"end":2061,"name":"dispose"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2073,"end":2103,"expression":{"type":"CallExpression","start":2073,"end":2102,"callee":{"type":"MemberExpression","start":2073,"end":2100,"object":{"type":"MemberExpression","start":2073,"end":2084,"object":{"type":"ThisExpression","start":2073,"end":2077},"property":{"type":"Identifier","start":2078,"end":2084,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2085,"end":2100,"name":"removeListeners"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2112,"end":2134,"expression":{"type":"CallExpression","start":2112,"end":2133,"callee":{"type":"MemberExpression","start":2112,"end":2131,"object":{"type":"MemberExpression","start":2112,"end":2123,"object":{"type":"ThisExpression","start":2112,"end":2116},"property":{"type":"Identifier","start":2117,"end":2123,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2124,"end":2131,"name":"destroy"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}},{"type":"MethodDefinition","start":2200,"end":2349,"static":false,"computed":false,"key":{"type":"Identifier","start":2200,"end":2209,"name":"addCanvas"},"kind":"method","value":{"type":"FunctionExpression","start":2209,"end":2349,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2212,"end":2349,"body":[{"type":"ExpressionStatement","start":2222,"end":2322,"expression":{"type":"AssignmentExpression","start":2222,"end":2321,"operator":"=","left":{"type":"MemberExpression","start":2222,"end":2233,"object":{"type":"ThisExpression","start":2222,"end":2226},"property":{"type":"Identifier","start":2227,"end":2233,"name":"canvas"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":2236,"end":2321,"callee":{"type":"MemberExpression","start":2236,"end":2319,"object":{"type":"CallExpression","start":2236,"end":2293,"callee":{"type":"MemberExpression","start":2236,"end":2276,"object":{"type":"MemberExpression","start":2236,"end":2247,"object":{"type":"ThisExpression","start":2236,"end":2240},"property":{"type":"Identifier","start":2241,"end":2247,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2261,"end":2276,"name":"fabricjsOverlay"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":2277,"end":2292,"properties":[{"type":"Property","start":2279,"end":2290,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2279,"end":2284,"name":"scale"},"value":{"type":"Literal","start":2286,"end":2290,"value":1000,"raw":"1000"},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":2307,"end":2319,"name":"fabricCanvas"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"ReturnStatement","start":2331,"end":2343,"argument":{"type":"ThisExpression","start":2338,"end":2342}}]}}},{"type":"MethodDefinition","start":2474,"end":3078,"static":false,"computed":false,"key":{"type":"Identifier","start":2474,"end":2490,"name":"resetStrokeWidth"},"kind":"method","value":{"type":"FunctionExpression","start":2490,"end":3078,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2493,"end":3078,"body":[{"type":"IfStatement","start":2503,"end":3072,"test":{"type":"MemberExpression","start":2507,"end":2518,"object":{"type":"ThisExpression","start":2507,"end":2511},"property":{"type":"Identifier","start":2512,"end":2518,"name":"canvas"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":2520,"end":3072,"body":[{"type":"VariableDeclaration","start":2534,"end":2546,"declarations":[{"type":"VariableDeclarator","start":2540,"end":2545,"id":{"type":"Identifier","start":2540,"end":2541,"name":"w"},"init":{"type":"Literal","start":2544,"end":2545,"value":2,"raw":"2"}}],"kind":"const"},{"type":"VariableDeclaration","start":2586,"end":2632,"declarations":[{"type":"VariableDeclarator","start":2592,"end":2631,"id":{"type":"Identifier","start":2592,"end":2603,"name":"strokeWidth"},"init":{"type":"BinaryExpression","start":2606,"end":2631,"left":{"type":"Identifier","start":2606,"end":2607,"name":"w"},"operator":"/","right":{"type":"CallExpression","start":2610,"end":2631,"callee":{"type":"MemberExpression","start":2610,"end":2629,"object":{"type":"MemberExpression","start":2610,"end":2621,"object":{"type":"ThisExpression","start":2610,"end":2614},"property":{"type":"Identifier","start":2615,"end":2621,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2622,"end":2629,"name":"getZoom"},"computed":false,"optional":false},"arguments":[],"optional":false}}}],"kind":"const"},{"type":"ForOfStatement","start":2645,"end":3062,"await":false,"left":{"type":"VariableDeclaration","start":2650,"end":2662,"declarations":[{"type":"VariableDeclarator","start":2656,"end":2662,"id":{"type":"Identifier","start":2656,"end":2662,"name":"object"},"init":null}],"kind":"const"},"right":{"type":"CallExpression","start":2666,"end":2690,"callee":{"type":"MemberExpression","start":2666,"end":2688,"object":{"type":"MemberExpression","start":2666,"end":2677,"object":{"type":"ThisExpression","start":2666,"end":2670},"property":{"type":"Identifier","start":2671,"end":2677,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2678,"end":2688,"name":"getObjects"},"computed":false,"optional":false},"arguments":[],"optional":false},"body":{"type":"BlockStatement","start":2692,"end":3062,"body":[{"type":"ExpressionStatement","start":2710,"end":2744,"expression":{"type":"CallExpression","start":2710,"end":2743,"callee":{"type":"MemberExpression","start":2710,"end":2720,"object":{"type":"Identifier","start":2710,"end":2716,"name":"object"},"property":{"type":"Identifier","start":2717,"end":2720,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2721,"end":2736,"value":"strokeUniform","raw":"'strokeUniform'"},{"type":"Literal","start":2738,"end":2742,"value":true,"raw":"true"}],"optional":false}},{"type":"ExpressionStatement","start":2761,"end":2800,"expression":{"type":"CallExpression","start":2761,"end":2799,"callee":{"type":"MemberExpression","start":2761,"end":2771,"object":{"type":"Identifier","start":2761,"end":2767,"name":"object"},"property":{"type":"Identifier","start":2768,"end":2771,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2772,"end":2785,"value":"strokeWidth","raw":"'strokeWidth'"},{"type":"Identifier","start":2787,"end":2798,"name":"strokeWidth"}],"optional":false}},{"type":"IfStatement","start":2847,"end":2995,"test":{"type":"CallExpression","start":2851,"end":2871,"callee":{"type":"MemberExpression","start":2851,"end":2861,"object":{"type":"Identifier","start":2851,"end":2857,"name":"object"},"property":{"type":"Identifier","start":2858,"end":2861,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2862,"end":2870,"value":"radius","raw":"'radius'"}],"optional":false},"consequent":{"type":"BlockStatement","start":2873,"end":2995,"body":[{"type":"ExpressionStatement","start":2929,"end":2977,"expression":{"type":"CallExpression","start":2929,"end":2976,"callee":{"type":"MemberExpression","start":2929,"end":2939,"object":{"type":"Identifier","start":2929,"end":2935,"name":"object"},"property":{"type":"Identifier","start":2936,"end":2939,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2940,"end":2948,"value":"radius","raw":"'radius'"},{"type":"BinaryExpression","start":2950,"end":2975,"left":{"type":"Literal","start":2950,"end":2951,"value":5,"raw":"5"},"operator":"/","right":{"type":"CallExpression","start":2954,"end":2975,"callee":{"type":"MemberExpression","start":2954,"end":2973,"object":{"type":"MemberExpression","start":2954,"end":2965,"object":{"type":"ThisExpression","start":2954,"end":2958},"property":{"type":"Identifier","start":2959,"end":2965,"name":"canvas"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2966,"end":2973,"name":"getZoom"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"optional":false}}]},"alternate":null}]}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":3185,"end":3635,"static":false,"computed":false,"key":{"type":"Identifier","start":3185,"end":3199,"name":"calculateRatio"},"kind":"method","value":{"type":"FunctionExpression","start":3199,"end":3635,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3202,"end":3635,"body":[{"type":"ExpressionStatement","start":3212,"end":3262,"expression":{"type":"AssignmentExpression","start":3212,"end":3261,"operator":"=","left":{"type":"MemberExpression","start":3212,"end":3227,"object":{"type":"ThisExpression","start":3212,"end":3216},"property":{"type":"Identifier","start":3217,"end":3227,"name":"imageWidth"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":3230,"end":3261,"object":{"type":"MemberExpression","start":3230,"end":3259,"object":{"type":"MemberExpression","start":3230,"end":3248,"object":{"type":"MemberExpression","start":3230,"end":3241,"object":{"type":"ThisExpression","start":3230,"end":3234},"property":{"type":"Identifier","start":3235,"end":3241,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3242,"end":3248,"name":"source"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3249,"end":3259,"name":"dimensions"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3260,"end":3261,"name":"x"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":3271,"end":3322,"expression":{"type":"AssignmentExpression","start":3271,"end":3321,"operator":"=","left":{"type":"MemberExpression","start":3271,"end":3287,"object":{"type":"ThisExpression","start":3271,"end":3275},"property":{"type":"Identifier","start":3276,"end":3287,"name":"imageHeight"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":3290,"end":3321,"object":{"type":"MemberExpression","start":3290,"end":3319,"object":{"type":"MemberExpression","start":3290,"end":3308,"object":{"type":"MemberExpression","start":3290,"end":3301,"object":{"type":"ThisExpression","start":3290,"end":3294},"property":{"type":"Identifier","start":3295,"end":3301,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3302,"end":3308,"name":"source"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3309,"end":3319,"name":"dimensions"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3320,"end":3321,"name":"y"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":3331,"end":3395,"expression":{"type":"AssignmentExpression","start":3331,"end":3394,"operator":"=","left":{"type":"MemberExpression","start":3331,"end":3350,"object":{"type":"ThisExpression","start":3331,"end":3335},"property":{"type":"Identifier","start":3336,"end":3350,"name":"containerWidth"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":3353,"end":3394,"object":{"type":"CallExpression","start":3353,"end":3392,"callee":{"type":"MemberExpression","start":3353,"end":3390,"object":{"type":"MemberExpression","start":3353,"end":3373,"object":{"type":"MemberExpression","start":3353,"end":3364,"object":{"type":"ThisExpression","start":3353,"end":3357},"property":{"type":"Identifier","start":3358,"end":3364,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3365,"end":3373,"name":"viewport"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3374,"end":3390,"name":"getContainerSize"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":3393,"end":3394,"name":"x"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":3404,"end":3469,"expression":{"type":"AssignmentExpression","start":3404,"end":3468,"operator":"=","left":{"type":"MemberExpression","start":3404,"end":3424,"object":{"type":"ThisExpression","start":3404,"end":3408},"property":{"type":"Identifier","start":3409,"end":3424,"name":"containerHeight"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":3427,"end":3468,"object":{"type":"CallExpression","start":3427,"end":3466,"callee":{"type":"MemberExpression","start":3427,"end":3464,"object":{"type":"MemberExpression","start":3427,"end":3447,"object":{"type":"MemberExpression","start":3427,"end":3438,"object":{"type":"ThisExpression","start":3427,"end":3431},"property":{"type":"Identifier","start":3432,"end":3438,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3439,"end":3447,"name":"viewport"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3448,"end":3464,"name":"getContainerSize"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":3467,"end":3468,"name":"y"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":3478,"end":3544,"expression":{"type":"AssignmentExpression","start":3478,"end":3543,"operator":"=","left":{"type":"MemberExpression","start":3478,"end":3503,"object":{"type":"ThisExpression","start":3478,"end":3482},"property":{"type":"Identifier","start":3483,"end":3503,"name":"zoomToZoomLevelRatio"},"computed":false,"optional":false},"right":{"type":"BinaryExpression","start":3506,"end":3543,"left":{"type":"MemberExpression","start":3506,"end":3525,"object":{"type":"ThisExpression","start":3506,"end":3510},"property":{"type":"Identifier","start":3511,"end":3525,"name":"containerWidth"},"computed":false,"optional":false},"operator":"/","right":{"type":"MemberExpression","start":3528,"end":3543,"object":{"type":"ThisExpression","start":3528,"end":3532},"property":{"type":"Identifier","start":3533,"end":3543,"name":"imageWidth"},"computed":false,"optional":false}}}},{"type":"ExpressionStatement","start":3553,"end":3629,"expression":{"type":"AssignmentExpression","start":3553,"end":3628,"operator":"=","left":{"type":"MemberExpression","start":3553,"end":3563,"object":{"type":"ThisExpression","start":3553,"end":3557},"property":{"type":"Identifier","start":3558,"end":3563,"name":"scale"},"computed":false,"optional":false},"right":{"type":"BinaryExpression","start":3566,"end":3628,"left":{"type":"CallExpression","start":3566,"end":3600,"callee":{"type":"MemberExpression","start":3566,"end":3594,"object":{"type":"MemberExpression","start":3566,"end":3586,"object":{"type":"MemberExpression","start":3566,"end":3577,"object":{"type":"ThisExpression","start":3566,"end":3570},"property":{"type":"Identifier","start":3571,"end":3577,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3578,"end":3586,"name":"viewport"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3587,"end":3594,"name":"getZoom"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":3595,"end":3599,"value":true,"raw":"true"}],"optional":false},"operator":"*","right":{"type":"MemberExpression","start":3603,"end":3628,"object":{"type":"ThisExpression","start":3603,"end":3607},"property":{"type":"Identifier","start":3608,"end":3628,"name":"zoomToZoomLevelRatio"},"computed":false,"optional":false}}}}]}}},{"type":"MethodDefinition","start":3723,"end":4105,"static":false,"computed":false,"key":{"type":"Identifier","start":3723,"end":3729,"name":"goHome"},"kind":"method","value":{"type":"FunctionExpression","start":3729,"end":4105,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3732,"end":4105,"body":[{"type":"IfStatement","start":3742,"end":4078,"test":{"type":"MemberExpression","start":3746,"end":3755,"object":{"type":"ThisExpression","start":3746,"end":3750},"property":{"type":"Identifier","start":3751,"end":3755,"name":"home"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":3757,"end":4005,"body":[{"type":"VariableDeclaration","start":3771,"end":3880,"declarations":[{"type":"VariableDeclarator","start":3777,"end":3879,"id":{"type":"Identifier","start":3777,"end":3781,"name":"rect"},"init":{"type":"NewExpression","start":3784,"end":3879,"callee":{"type":"MemberExpression","start":3788,"end":3806,"object":{"type":"Identifier","start":3788,"end":3801,"name":"OpenSeadragon"},"property":{"type":"Identifier","start":3802,"end":3806,"name":"Rect"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":3807,"end":3824,"object":{"type":"MemberExpression","start":3807,"end":3822,"object":{"type":"MemberExpression","start":3807,"end":3816,"object":{"type":"ThisExpression","start":3807,"end":3811},"property":{"type":"Identifier","start":3812,"end":3816,"name":"home"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3817,"end":3822,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3823,"end":3824,"name":"x"},"computed":false,"optional":false},{"type":"MemberExpression","start":3826,"end":3843,"object":{"type":"MemberExpression","start":3826,"end":3841,"object":{"type":"MemberExpression","start":3826,"end":3835,"object":{"type":"ThisExpression","start":3826,"end":3830},"property":{"type":"Identifier","start":3831,"end":3835,"name":"home"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3836,"end":3841,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3842,"end":3843,"name":"y"},"computed":false,"optional":false},{"type":"MemberExpression","start":3845,"end":3860,"object":{"type":"MemberExpression","start":3845,"end":3854,"object":{"type":"ThisExpression","start":3845,"end":3849},"property":{"type":"Identifier","start":3850,"end":3854,"name":"home"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3855,"end":3860,"name":"width"},"computed":false,"optional":false},{"type":"MemberExpression","start":3862,"end":3878,"object":{"type":"MemberExpression","start":3862,"end":3871,"object":{"type":"ThisExpression","start":3862,"end":3866},"property":{"type":"Identifier","start":3867,"end":3871,"name":"home"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3872,"end":3878,"name":"height"},"computed":false,"optional":false}]}}],"kind":"const"},{"type":"ExpressionStatement","start":3893,"end":3952,"expression":{"type":"CallExpression","start":3893,"end":3951,"callee":{"type":"MemberExpression","start":3893,"end":3938,"object":{"type":"MemberExpression","start":3893,"end":3913,"object":{"type":"MemberExpression","start":3893,"end":3904,"object":{"type":"ThisExpression","start":3893,"end":3897},"property":{"type":"Identifier","start":3898,"end":3904,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3905,"end":3913,"name":"viewport"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3914,"end":3938,"name":"fitBoundsWithConstraints"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3939,"end":3943,"name":"rect"},{"type":"Literal","start":3945,"end":3950,"value":false,"raw":"false"}],"optional":false}},{"type":"ExpressionStatement","start":3965,"end":3995,"expression":{"type":"CallExpression","start":3965,"end":3994,"callee":{"type":"MemberExpression","start":3965,"end":3992,"object":{"type":"MemberExpression","start":3965,"end":3985,"object":{"type":"MemberExpression","start":3965,"end":3976,"object":{"type":"ThisExpression","start":3965,"end":3969},"property":{"type":"Identifier","start":3970,"end":3976,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3977,"end":3985,"name":"viewport"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3986,"end":3992,"name":"update"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":{"type":"BlockStatement","start":4019,"end":4078,"body":[{"type":"ExpressionStatement","start":4033,"end":4068,"expression":{"type":"CallExpression","start":4033,"end":4067,"callee":{"type":"MemberExpression","start":4033,"end":4060,"object":{"type":"MemberExpression","start":4033,"end":4053,"object":{"type":"MemberExpression","start":4033,"end":4044,"object":{"type":"ThisExpression","start":4033,"end":4037},"property":{"type":"Identifier","start":4038,"end":4044,"name":"viewer"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4045,"end":4053,"name":"viewport"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4054,"end":4060,"name":"goHome"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":4061,"end":4066,"value":false,"raw":"false"}],"optional":false}}]}},{"type":"ReturnStatement","start":4087,"end":4099,"argument":{"type":"ThisExpression","start":4094,"end":4098}}]}}},{"type":"MethodDefinition","start":4212,"end":4533,"static":false,"computed":false,"key":{"type":"Identifier","start":4212,"end":4219,"name":"setHome"},"kind":"method","value":{"type":"FunctionExpression","start":4219,"end":4533,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4220,"end":4223,"name":"roi"}],"body":{"type":"BlockStatement","start":4225,"end":4533,"body":[{"type":"IfStatement","start":4235,"end":4366,"test":{"type":"LogicalExpression","start":4239,"end":4308,"left":{"type":"LogicalExpression","start":4239,"end":4290,"left":{"type":"LogicalExpression","start":4239,"end":4273,"left":{"type":"BinaryExpression","start":4239,"end":4254,"left":{"type":"MemberExpression","start":4239,"end":4250,"object":{"type":"MemberExpression","start":4239,"end":4248,"object":{"type":"Identifier","start":4239,"end":4242,"name":"roi"},"property":{"type":"Identifier","start":4243,"end":4248,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4249,"end":4250,"name":"x"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":4253,"end":4254,"value":1,"raw":"1"}},"operator":"||","right":{"type":"BinaryExpression","start":4258,"end":4273,"left":{"type":"MemberExpression","start":4258,"end":4269,"object":{"type":"MemberExpression","start":4258,"end":4267,"object":{"type":"Identifier","start":4258,"end":4261,"name":"roi"},"property":{"type":"Identifier","start":4262,"end":4267,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4268,"end":4269,"name":"y"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":4272,"end":4273,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":4277,"end":4290,"left":{"type":"MemberExpression","start":4277,"end":4286,"object":{"type":"Identifier","start":4277,"end":4280,"name":"roi"},"property":{"type":"Identifier","start":4281,"end":4286,"name":"width"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":4289,"end":4290,"value":1,"raw":"1"}}},"operator":"||","right":{"type":"BinaryExpression","start":4294,"end":4308,"left":{"type":"MemberExpression","start":4294,"end":4304,"object":{"type":"Identifier","start":4294,"end":4297,"name":"roi"},"property":{"type":"Identifier","start":4298,"end":4304,"name":"height"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":4307,"end":4308,"value":1,"raw":"1"}}},"consequent":{"type":"ThrowStatement","start":4322,"end":4366,"argument":{"type":"NewExpression","start":4328,"end":4365,"callee":{"type":"Identifier","start":4332,"end":4337,"name":"Error"},"arguments":[{"type":"Literal","start":4338,"end":4364,"value":"Data size is not percent","raw":"'Data size is not percent'"}]}},"alternate":null},{"type":"ExpressionStatement","start":4375,"end":4391,"expression":{"type":"AssignmentExpression","start":4375,"end":4390,"operator":"=","left":{"type":"MemberExpression","start":4375,"end":4384,"object":{"type":"ThisExpression","start":4375,"end":4379},"property":{"type":"Identifier","start":4380,"end":4384,"name":"home"},"computed":false,"optional":false},"right":{"type":"Identifier","start":4387,"end":4390,"name":"roi"}}},{"type":"ExpressionStatement","start":4400,"end":4448,"expression":{"type":"AssignmentExpression","start":4400,"end":4447,"operator":"=","left":{"type":"MemberExpression","start":4400,"end":4417,"object":{"type":"MemberExpression","start":4400,"end":4415,"object":{"type":"MemberExpression","start":4400,"end":4409,"object":{"type":"ThisExpression","start":4400,"end":4404},"property":{"type":"Identifier","start":4405,"end":4409,"name":"home"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4410,"end":4415,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4416,"end":4417,"name":"x"},"computed":false,"optional":false},"right":{"type":"BinaryExpression","start":4420,"end":4447,"left":{"type":"MemberExpression","start":4420,"end":4431,"object":{"type":"MemberExpression","start":4420,"end":4429,"object":{"type":"Identifier","start":4420,"end":4423,"name":"roi"},"property":{"type":"Identifier","start":4424,"end":4429,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4430,"end":4431,"name":"x"},"computed":false,"optional":false},"operator":"-","right":{"type":"BinaryExpression","start":4434,"end":4447,"left":{"type":"MemberExpression","start":4434,"end":4443,"object":{"type":"Identifier","start":4434,"end":4437,"name":"roi"},"property":{"type":"Identifier","start":4438,"end":4443,"name":"width"},"computed":false,"optional":false},"operator":"/","right":{"type":"Literal","start":4446,"end":4447,"value":2,"raw":"2"}}}}},{"type":"ExpressionStatement","start":4457,"end":4506,"expression":{"type":"AssignmentExpression","start":4457,"end":4505,"operator":"=","left":{"type":"MemberExpression","start":4457,"end":4474,"object":{"type":"MemberExpression","start":4457,"end":4472,"object":{"type":"MemberExpression","start":4457,"end":4466,"object":{"type":"ThisExpression","start":4457,"end":4461},"property":{"type":"Identifier","start":4462,"end":4466,"name":"home"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4467,"end":4472,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4473,"end":4474,"name":"y"},"computed":false,"optional":false},"right":{"type":"BinaryExpression","start":4477,"end":4505,"left":{"type":"MemberExpression","start":4477,"end":4488,"object":{"type":"MemberExpression","start":4477,"end":4486,"object":{"type":"Identifier","start":4477,"end":4480,"name":"roi"},"property":{"type":"Identifier","start":4481,"end":4486,"name":"point"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4487,"end":4488,"name":"y"},"computed":false,"optional":false},"operator":"-","right":{"type":"BinaryExpression","start":4491,"end":4505,"left":{"type":"MemberExpression","start":4491,"end":4501,"object":{"type":"Identifier","start":4491,"end":4494,"name":"roi"},"property":{"type":"Identifier","start":4495,"end":4501,"name":"height"},"computed":false,"optional":false},"operator":"/","right":{"type":"Literal","start":4504,"end":4505,"value":2,"raw":"2"}}}}},{"type":"ReturnStatement","start":4515,"end":4527,"argument":{"type":"ThisExpression","start":4522,"end":4526}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":4536,"end":4671,"expression":{"type":"AssignmentExpression","start":4536,"end":4670,"operator":"=","left":{"type":"MemberExpression","start":4536,"end":4561,"object":{"type":"Identifier","start":4536,"end":4556,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4557,"end":4561,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":4564,"end":4670,"id":{"type":"Identifier","start":4573,"end":4601,"name":"AnnotationOSDService_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4602,"end":4603,"name":"t"}],"body":{"type":"BlockStatement","start":4605,"end":4670,"body":[{"type":"ReturnStatement","start":4607,"end":4668,"argument":{"type":"NewExpression","start":4614,"end":4667,"callee":{"type":"LogicalExpression","start":4619,"end":4644,"left":{"type":"Identifier","start":4619,"end":4620,"name":"t"},"operator":"||","right":{"type":"Identifier","start":4624,"end":4644,"name":"AnnotationOSDService"}},"arguments":[{"type":"CallExpression","start":4646,"end":4666,"callee":{"type":"MemberExpression","start":4646,"end":4657,"object":{"type":"Identifier","start":4646,"end":4648,"name":"i0"},"property":{"type":"Identifier","start":4649,"end":4657,"name":"ɵɵinject"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4658,"end":4665,"name":"Boolean"}],"optional":false}]}}]}}}},{"type":"ExpressionStatement","start":4672,"end":4826,"expression":{"type":"AssignmentExpression","start":4672,"end":4825,"operator":"=","left":{"type":"MemberExpression","start":4672,"end":4698,"object":{"type":"Identifier","start":4672,"end":4692,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4693,"end":4698,"name":"ɵprov"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":4715,"end":4825,"callee":{"type":"MemberExpression","start":4715,"end":4736,"object":{"type":"Identifier","start":4715,"end":4717,"name":"i0"},"property":{"type":"Identifier","start":4718,"end":4736,"name":"ɵɵdefineInjectable"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":4737,"end":4824,"properties":[{"type":"Property","start":4739,"end":4766,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4739,"end":4744,"name":"token"},"value":{"type":"Identifier","start":4746,"end":4766,"name":"AnnotationOSDService"},"kind":"init"},{"type":"Property","start":4768,"end":4802,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4768,"end":4775,"name":"factory"},"value":{"type":"MemberExpression","start":4777,"end":4802,"object":{"type":"Identifier","start":4777,"end":4797,"name":"AnnotationOSDService"},"property":{"type":"Identifier","start":4798,"end":4802,"name":"ɵfac"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":4804,"end":4822,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4804,"end":4814,"name":"providedIn"},"value":{"type":"Literal","start":4816,"end":4822,"value":"root","raw":"'root'"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":4701,"end":4714}]}}},{"type":"ExpressionStatement","start":4827,"end":5253,"expression":{"type":"CallExpression","start":4827,"end":5252,"callee":{"type":"FunctionExpression","start":4828,"end":5249,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4840,"end":5249,"body":[{"type":"ExpressionStatement","start":4846,"end":5247,"expression":{"type":"LogicalExpression","start":4846,"end":5246,"left":{"type":"LogicalExpression","start":4847,"end":4892,"left":{"type":"BinaryExpression","start":4847,"end":4879,"left":{"type":"UnaryExpression","start":4847,"end":4863,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":4854,"end":4863,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":4868,"end":4879,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":4883,"end":4892,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":4897,"end":5246,"callee":{"type":"MemberExpression","start":4897,"end":4917,"object":{"type":"Identifier","start":4897,"end":4899,"name":"i0"},"property":{"type":"Identifier","start":4900,"end":4917,"name":"ɵsetClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4918,"end":4938,"name":"AnnotationOSDService"},{"type":"ArrayExpression","start":4940,"end":5063,"elements":[{"type":"ObjectExpression","start":4941,"end":5062,"properties":[{"type":"Property","start":4955,"end":4971,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4955,"end":4959,"name":"type"},"value":{"type":"Identifier","start":4961,"end":4971,"name":"Injectable"},"kind":"init"},{"type":"Property","start":4985,"end":5052,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4985,"end":4989,"name":"args"},"value":{"type":"ArrayExpression","start":4991,"end":5052,"elements":[{"type":"ObjectExpression","start":4992,"end":5051,"properties":[{"type":"Property","start":5014,"end":5032,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5014,"end":5024,"name":"providedIn"},"value":{"type":"Literal","start":5026,"end":5032,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"FunctionExpression","start":5065,"end":5239,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5077,"end":5239,"body":[{"type":"ReturnStatement","start":5087,"end":5233,"argument":{"type":"ArrayExpression","start":5094,"end":5232,"elements":[{"type":"ObjectExpression","start":5095,"end":5231,"properties":[{"type":"Property","start":5097,"end":5112,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5097,"end":5101,"name":"type"},"value":{"type":"Identifier","start":5103,"end":5112,"name":"undefined"},"kind":"init"},{"type":"Property","start":5114,"end":5229,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5114,"end":5124,"name":"decorators"},"value":{"type":"ArrayExpression","start":5126,"end":5229,"elements":[{"type":"ObjectExpression","start":5127,"end":5228,"properties":[{"type":"Property","start":5153,"end":5165,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5153,"end":5157,"name":"type"},"value":{"type":"Identifier","start":5159,"end":5165,"name":"Inject"},"kind":"init"},{"type":"Property","start":5191,"end":5206,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5191,"end":5195,"name":"args"},"value":{"type":"ArrayExpression","start":5197,"end":5206,"elements":[{"type":"Identifier","start":5198,"end":5205,"name":"Boolean"}]},"kind":"init"}]}]},"kind":"init"}]}]}}]}},{"type":"Literal","start":5241,"end":5245,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFhOUMsTUFBTSxPQUFPLG9CQUFvQjtJQVk3Qjs7O09BR0c7SUFDSCxZQUE2QixRQUFrQixLQUFLO1FBQ2hELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLGFBQWEsQ0FBQyxJQUFnQixFQUFFLEVBQVUsRUFBRSxJQUFZO1FBQzNELE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQztnQkFDeEIsRUFBRTtnQkFDRixXQUFXLEVBQUUsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtnQkFDakUsb0JBQW9CLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFtQztnQkFDN0UsbUJBQW1CLEVBQUUsS0FBSztnQkFDMUIscUJBQXFCLEVBQUUsS0FBSztnQkFDNUIsZUFBZSxFQUFFLEtBQUs7Z0JBQ3RCLFlBQVksRUFBRSxDQUFDO2dCQUNmLGdCQUFnQixFQUFFLENBQUM7Z0JBQ25CLGtCQUFrQixFQUFFLElBQUk7Z0JBQ3hCLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSzthQUN4QixDQUFDLENB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Q0FBQyxHQUFzQjtRQUNqQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQ3JFLE1BQU0sSUFBSSxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUVoRCxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7O3dGQWxKUSxvQkFBb0IsY0FnQlQsT0FBTzswRUFoQmxCLG9CQUFvQixXQUFwQixvQkFBb0IsbUJBRmpCLE1BQU07dUZBRVQsb0JBQW9CO2NBSGhDLFVBQVU7ZUFBQztnQkFDUixVQUFVLEVBQUUsTUFBTTthQUNyQjs7c0JBaUJnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFBsYXllclR5cGUsIFJlZ2lvbk9mSW50ZXJlc3QgfSBmcm9tICcuL2Fubm90YXRpb24tb3NkLm1vZGVsJztcblxuLy8gTG9hZCB0eXBlIGZvciBvcGVuc2VhZHJhZ29uXG5leHBvcnQgZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZXhwb3J0IGRlY2xhcmUgbGV0IE9wZW5TZWFkcmFnb246IFR5cGVPcGVuU2VhZHJhZ29uO1xuLy8gTG9hZCB0eXBlIGZvciBmYWJyaWNcbmV4cG9ydCBkZWNsYXJlIHR5cGUgVHlwZUZhYnJpYyA9IHR5cGVvZiBpbXBvcnQoJ2ZhYnJpYy9mYWJyaWMtaW1wbCcpO1xuZXhwb3J0IGRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXIgOiBPcGVuU2VhZHJhZ29uLlZpZXdlcjtcbiAgICBwcm90ZWN0ZWQgY2FudmFzIDogIGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGhvbWUgOiBSZWdpb25PZkludGVyZXN0O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVCVUcgOmJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBvZiBzZXJ2aWNlIGZvciBpbml0IGEgbmV3IHBsYXllci5cbiAgICAgKiBAcGFyYW0gZGVidWcgc2V0IHRydWUgdG8gYWN0aXZlIGRlYnVnIG1vZGUgb24gcGxheWVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBwbGF5ZXIgZmFjdG9yeS5cbiAgICAgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIHBsYXllciwgZHppIG9yIGltYWdlIChqcGVnLCBwbmcsIGV0Yy4uLilcbiAgICAgKiBAcGFyYW0gaWQgSWQgb2YgcGxheWVyIGluc2lkZSBodG1sLlxuICAgICAqIEBwYXJhbSBsaW5rIExpbmsgdG8gaW1hZ2UuXG4gICAgICovXG4gICAgcHVibGljIHBsYXllckZhY3RvcnkodHlwZTogUGxheWVyVHlwZSwgaWQ6IHN0cmluZywgbGluazogc3RyaW5nKTogUHJvbWlzZTxBbm5vdGF0aW9uT1NEU2VydmljZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvbih7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZXM6IHR5cGUgPT09ICdkemknID8gbGluayA6IHsgdHlwZTogJ2ltYWdlJywgdXJsOiBsaW5rIH0sXG4gICAgICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzVG91Y2g6IHsgcGluY2hSb3RhdGU6IGZhbHNlIH0gYXMgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2hvd1JvdGF0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93RmxpcENvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHpvb21QZXJDbGljazogMSxcbiAgICAgICAgICAgICAgICBpbWFnZUxvYWRlckxpbWl0OiAxLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbkR1cmluZ1BhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGU6IHRoaXMuREVCVUcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdFJlc2l6ZTogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ3Jlc2l6ZScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0UmVzaXplLm5leHQoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1YmplY3RSZXNpemUucGlwZShkZWJvdW5jZVRpbWUoMjAwKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdvSG9tZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFsbCBzdWJzY3JpYmVycyBjYW52YXMgYW5kIHBsYXllci5cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVsZXRlKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jYW52YXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBmYWJyaWMgY2FudmFzIG92ZXIgdmlld3BvcnRcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkQ2FudmFzKCkgOiBBbm5vdGF0aW9uT1NEU2VydmljZSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvIHJlc2V0IHRoZSBzaXplIG9mIGZhYnJpYyBlbGVtZW50cyB3aGVuIHVzZXIgem9vbSBvbiBjYW52YXMsIG9yIHBhZ2UgcmVzaXplLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgICAgICBjb25zdCB3ID0gMjsgLy8gZGVzaXJlZCB3aWR0aCBpbiBwaXhlbHNcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gdyAvIHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5nZXQoJ3JhZGl1cycpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNldCgncmFkaXVzJywgNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNhbiBhbHNvIHVwZGF0ZSBvdGhlciB0aGluZ3MgaGVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHJhdGlvIG9mIGNhbnZhcyB3aGVuIHVzZXIgbG9hZCBpbWFnZSBvciByZXNpemUgcGFnZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VXaWR0aCA9ICh0aGlzLnZpZXdlciBhcyBhbnkpLnNvdXJjZS5kaW1lbnNpb25zLng7XG4gICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSAodGhpcy52aWV3ZXIgYXMgYW55KS5zb3VyY2UuZGltZW5zaW9ucy55O1xuICAgICAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLnk7XG4gICAgICAgIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW8gPSB0aGlzLmNvbnRhaW5lcldpZHRoIC8gdGhpcy5pbWFnZVdpZHRoO1xuICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2VudGVyIGNhbnZhcyBpbnNpZGUgdmlld3BvcnQgb3IgZ28gdG8gaG9tZSBwb2ludCBpZiBleGlzdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ29Ib21lKCkgOiBBbm5vdGF0aW9uT1NEU2VydmljZSB7XG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBuZXcgT3BlblNlYWRyYWdvbi5SZWN0KHRoaXMuaG9tZS5wb2ludC54LCB0aGlzLmhvbWUucG9pbnQueSwgdGhpcy5ob21lLndpZHRoLCB0aGlzLmhvbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kc1dpdGhDb25zdHJhaW50cyhyZWN0LCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC51cGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0LmdvSG9tZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGhvbWUgcG9pbnQuXG4gICAgICogQHBhcmFtIHJvaSBSZWdpb24gb2YgaW50ZXJlc3QgaW4gcGVyY2VudCwgY2VudGVyIHBvaW50LlxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRIb21lKHJvaSA6IFJlZ2lvbk9mSW50ZXJlc3QpIDogQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgICAgICBpZiAocm9pLnBvaW50LnggPiAxIHx8IHJvaS5wb2ludC55ID4gMSB8fCByb2kud2lkdGggPiAxIHx8IHJvaS5oZWlnaHQgPiAxKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhIHNpemUgaXMgbm90IHBlcmNlbnQnKTtcblxuICAgICAgICB0aGlzLmhvbWUgPSByb2k7XG4gICAgICAgIHRoaXMuaG9tZS5wb2ludC54ID0gcm9pLnBvaW50LnggLSByb2kud2lkdGggLyAyO1xuICAgICAgICB0aGlzLmhvbWUucG9pbnQueSA9IHJvaS5wb2ludC55IC0gcm9pLmhlaWdodCAvIDI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG5cbiAgICAvKlxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICAgICAgICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgICAgICAgICAgIHt4OiAyMDAsIHk6IDEwfSxcbiAgICAgICAgICAgIHt4OiAyNTAsIHk6IDUwfSxcbiAgICAgICAgICAgIHt4OiAyNTAsIHk6IDE4MH0sXG4gICAgICAgICAgICB7eDogMTUwLCB5OiAxODB9LFxuICAgICAgICAgICAge3g6IDE1MCwgeTogNTB9XSwge1xuICAgICAgICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuXG4gICAgfVxuICAgIG1pbiA9IDk5O1xuICAgIG1heCA9IDk5OTk5OTtcbiAgICBwb2x5Z29uTW9kZSA9IHRydWU7XG4gICAgcG9pbnRBcnJheSA9IFtdO1xuICAgIGxpbmVBcnJheSA9IFtdO1xuICAgIGFjdGl2ZUxpbmU7XG4gICAgYWN0aXZlU2hhcGUgO1xuXG4gICAgcHVibGljIGFkZERhbWFnZShkYW1hZ2UgOiBNYXJrZXJSb3VuZCB8IE1hcmtlclJlY3QgfCBNYXJrZXJQb2x5KSB7XG4gIGNvbnN0IHN0cm9rZVdpZHRoID0gMjtcbiAgbGV0IG9iajtcbiAgaWYgKCEoZGFtYWdlIGluc3RhbmNlb2YgTWFya2VyUG9seSkpIHtcbiAgb2JqID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgaWQ6IDEsXG4gIGxlZnQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWCAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHRvcDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWSAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWSAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHdpZHRoOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS53aWR0aCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS53aWR0aCAqIHRoaXMuc2NhbGUpLFxuICBoZWlnaHQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmhlaWdodCAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuaGVpZ2h0ICogdGhpcy5zY2FsZSksXG4gIHN0cm9rZVdpZHRoLFxuICBzdHJva2VVbmlmb3JtOiB0cnVlLFxuICBzdHJva2VEYXNoQXJyYXk6IHVuZGVmaW5lZCxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBjb3JuZXJTdHlsZTogJ2NpcmNsZScsXG5cbiAgLy8gQWRkIGRhdGEgb3B0aW9uIGZvciBzdHlsZSBzZXR0aW5nc1xuICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICBzdHJva2U6ICdyZWQnLFxuICBzZWxlY3RhYmxlOiB0cnVlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgY29ybmVyQ29sb3I6ICdyZWQnLFxuICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGxvY2tSb3RhdGlvbjogdHJ1ZSxcbiAgaGFzQ29udHJvbHM6IHRydWUsXG5cbiAgfSk7XG4gIH1cbiAgb2JqLnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuXG4gIG9iai5zZXRDb250cm9sc1Zpc2liaWxpdHkoeyBtdHI6IGZhbHNlIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQob2JqKTtcblxuICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gIHsgeDogMjUwLCB5OiA1MCB9LFxuICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICB9KTtcblxuICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG5cbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOmRvd24nLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKG9wdGlvbnMudGFyZ2V0ICYmIG9wdGlvbnMudGFyZ2V0LmlkID09PSB0aGlzLnBvaW50QXJyYXlbMF0uaWQpIHtcbiAgLy8gICAgICAgICB0aGlzLmdlbmVyYXRlUG9seWdvbih0aGlzLnBvaW50QXJyYXkpO1xuICAvLyAgICAgfVxuICAvLyAgICAgaWYgKHRoaXMucG9seWdvbk1vZGUpIHtcbiAgLy8gICAgICAgICB0aGlzLmFkZFBvaW50KG9wdGlvbnMpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOnVwJywgKG9wdGlvbnMpID0+IHtcbiAgLy9cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmICh0aGlzLmFjdGl2ZUxpbmUgJiYgdGhpcy5hY3RpdmVMaW5lLmNsYXNzID09PSAnbGluZScpIHtcbiAgLy8gICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlTGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xuICAvL1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKTtcbiAgLy8gICAgICAgICBwb2ludHNbdGhpcy5wb2ludEFycmF5Lmxlbmd0aF0gPSB7XG4gIC8vICAgICAgICAgICAgIHg6IHBvaW50ZXIueCxcbiAgLy8gICAgICAgICAgICAgeTogcG9pbnRlci55LFxuICAvLyAgICAgICAgIH07XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5zZXQoe1xuICAvLyAgICAgICAgICAgICBwb2ludHMsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vICAgICB9XG4gIC8vICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gfSk7XG5cbiAgLyEqICAgICAgICB0aGlzLmNhbnZhcy5vbignb2JqZWN0OnNjYWxpbmcnLCAoZSkgPT4ge1xuICBjb25zb2xlLmxvZygnc2NhbGxpbmcgJyk7XG4gIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICB9KTsgKiEvXG4gIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UG9seWdvbigpIHtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IHRydWU7XG4gIHRoaXMucG9pbnRBcnJheSA9IFtdO1xuICB0aGlzLmxpbmVBcnJheSA9IFtdO1xuICB0aGlzLmFjdGl2ZUxpbmU7XG4gIH1cblxuICBwcml2YXRlIGFkZFBvaW50KG9wdGlvbnMpIHtcbiAgY29uc29sZS5sb2cob3B0aW9ucyk7XG4gIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heCAtIHRoaXMubWluICsgMSkpICsgdGhpcy5taW47XG4gIGNvbnN0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyByYW5kb207XG4gIGNvbnN0IHBvcyA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgY29uc3QgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICByYWRpdXM6IDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCksXG4gIGZpbGw6ICcjZmZmZmZmJyxcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIGxlZnQ6IHBvcy54LFxuICB0b3A6IHBvcy55LFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBpZCxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBpZiAodGhpcy5wb2ludEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICBjaXJjbGUuc2V0KHtcbiAgZmlsbDogJ3JlZCcsXG4gIH0pO1xuICB9XG4gIGNvbnN0IHBvaW50c0EgPSBbcG9zLngsIHBvcy55LCBwb3MueCwgcG9zLnldO1xuICBjb25zdCBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKHBvaW50c0EsIHtcbiAgc3Ryb2tlV2lkdGg6IDIsXG4gIGZpbGw6ICcjOTk5OTk5JyxcbiAgc3Ryb2tlOiAnIzk5OTk5OScsXG4gIGNsYXNzOiAnbGluZScsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIGV2ZW50ZWQ6IGZhbHNlLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlU2hhcGUpO1xuICBpZiAodGhpcy5hY3RpdmVTaGFwZSkge1xuICAgICAgY29uc3QgcG9pbnRzQiA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKSBhcyBhbnlbXTtcbiAgICAgICAgICBwb2ludHNCLnB1c2goe1xuICAgICAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICAgICAgeTogcG9zLnksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcG9seWdvbkEgPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzQiwge1xuICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbkEpO1xuICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uQTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb2x5UG9pbnQgPSBbeyB4OiBwb3MueCwgeTogcG9zLnkgfV07XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2x5UG9pbnQsIHtcbiAgICAgICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb247XG4gICAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuICAgICAgICAgIH1cbiAgdGhpcy5hY3RpdmVMaW5lID0gbGluZTtcblxuICB0aGlzLnBvaW50QXJyYXkucHVzaChjaXJjbGUpO1xuICB0aGlzLmxpbmVBcnJheS5wdXNoKGxpbmUpO1xuXG4gIHRoaXMuY2FudmFzLmFkZChsaW5lKTtcbiAgdGhpcy5jYW52YXMuYWRkKGNpcmNsZSk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUG9seWdvbihwb2ludEFycmF5KSB7XG4gIGNvbnNvbGUubG9nKHBvaW50QXJyYXksIHRoaXMubGluZUFycmF5KTtcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIHBvaW50QXJyYXkuZm9yRWFjaCgocG9pbnQpID0+IHtcbiAgcG9pbnRzLnB1c2goe1xuICB4OiBwb2ludC5sZWZ0LFxuICB5OiBwb2ludC50b3AsXG4gIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZShwb2ludCk7XG4gIH0pO1xuICB0aGlzLmxpbmVBcnJheS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gIHRoaXMuY2FudmFzLnJlbW92ZShsaW5lKTtcbiAgfSk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKS5yZW1vdmUodGhpcy5hY3RpdmVMaW5lKTtcbiAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHMsIHtcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIG9wYWNpdHk6IDAuMyxcbiAgZmlsbDogJ3JlZCcsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG5cbiAgdGhpcy5hY3RpdmVMaW5lID0gbnVsbDtcbiAgdGhpcy5hY3RpdmVTaGFwZSA9IG51bGw7XG4gIHRoaXMucG9seWdvbk1vZGUgPSBmYWxzZTtcbiAgfVxuKi9cblxufSJdfQ==","start":5254,"end":27004},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","start":27005,"end":27112}]},"code":"import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    /**\n     * Constructor of service for init a new player.\n     * @param debug set true to active debug mode on player.\n     */\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    /**\n     * Create a new player factory.\n     * @param type Type of player, dzi or image (jpeg, png, etc...)\n     * @param id Id of player inside html.\n     * @param link Link to image.\n     */\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    /**\n     * Delete all subscribers canvas and player.\n     */\n    delete() {\n        this.canvas.clear();\n        this.canvas.dispose();\n        this.canvas.removeListeners();\n        this.viewer.destroy();\n    }\n    /**\n     * Add fabric canvas over viewport\n     */\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    /**\n     * Auto reset the size of fabric elements when user zoom on canvas, or page resize.\n     * @private\n     */\n    resetStrokeWidth() {\n        if (this.canvas) {\n            const w = 2; // desired width in pixels\n            const strokeWidth = w / this.canvas.getZoom();\n            for (const object of this.canvas.getObjects()) {\n                object.set('strokeUniform', true);\n                object.set('strokeWidth', strokeWidth);\n                // @ts-ignore\n                if (object.get('radius')) {\n                    // @ts-ignore\n                    object.set('radius', 5 / this.canvas.getZoom());\n                }\n                // can also update other things here\n            }\n        }\n    }\n    /**\n     * Calculate ratio of canvas when user load image or resize page.\n     * @private\n     */\n    calculateRatio() {\n        this.imageWidth = this.viewer.source.dimensions.x;\n        this.imageHeight = this.viewer.source.dimensions.y;\n        this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    /**\n     * Center canvas inside viewport or go to home point if exist.\n     */\n    goHome() {\n        if (this.home) {\n            const rect = new OpenSeadragon.Rect(this.home.point.x, this.home.point.y, this.home.width, this.home.height);\n            this.viewer.viewport.fitBoundsWithConstraints(rect, false);\n            this.viewer.viewport.update();\n        }\n        else {\n            this.viewer.viewport.goHome(false);\n        }\n        return this;\n    }\n    /**\n     * Set home point.\n     * @param roi Region of interest in percent, center point.\n     */\n    setHome(roi) {\n        if (roi.point.x > 1 || roi.point.y > 1 || roi.width > 1 || roi.height > 1)\n            throw new Error('Data size is not percent');\n        this.home = roi;\n        this.home.point.x = roi.point.x - roi.width / 2;\n        this.home.point.y = roi.point.y - roi.height / 2;\n        return this;\n    }\n}\nAnnotationOSDService.ɵfac = function AnnotationOSDService_Factory(t) { return new (t || AnnotationOSDService)(i0.ɵɵinject(Boolean)); };\nAnnotationOSDService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: AnnotationOSDService, factory: AnnotationOSDService.ɵfac, providedIn: 'root' });\n(function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDService, [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [Boolean]\n                    }] }];\n    }, null);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFhOUMsTUFBTSxPQUFPLG9CQUFvQjtJQVk3Qjs7O09BR0c7SUFDSCxZQUE2QixRQUFrQixLQUFLO1FBQ2hELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLGFBQWEsQ0FBQyxJQUFnQixFQUFFLEVBQVUsRUFBRSxJQUFZO1FBQzNELE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQztnQkFDeEIsRUFBRTtnQkFDRixXQUFXLEVBQUUsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtnQkFDakUsb0JBQW9CLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFtQztnQkFDN0UsbUJBQW1CLEVBQUUsS0FBSztnQkFDMUIscUJBQXFCLEVBQUUsS0FBSztnQkFDNUIsZUFBZSxFQUFFLEtBQUs7Z0JBQ3RCLFlBQVksRUFBRSxDQUFDO2dCQUNmLGdCQUFnQixFQUFFLENBQUM7Z0JBQ25CLGtCQUFrQixFQUFFLElBQUk7Z0JBQ3hCLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSzthQUN4QixDQUFDLENB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Q0FBQyxHQUFzQjtRQUNqQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQ3JFLE1BQU0sSUFBSSxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUVoRCxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7O3dGQWxKUSxvQkFBb0IsY0FnQlQsT0FBTzswRUFoQmxCLG9CQUFvQixXQUFwQixvQkFBb0IsbUJBRmpCLE1BQU07dUZBRVQsb0JBQW9CO2NBSGhDLFVBQVU7ZUFBQztnQkFDUixVQUFVLEVBQUUsTUFBTTthQUNyQjs7c0JBaUJnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFBsYXllclR5cGUsIFJlZ2lvbk9mSW50ZXJlc3QgfSBmcm9tICcuL2Fubm90YXRpb24tb3NkLm1vZGVsJztcblxuLy8gTG9hZCB0eXBlIGZvciBvcGVuc2VhZHJhZ29uXG5leHBvcnQgZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZXhwb3J0IGRlY2xhcmUgbGV0IE9wZW5TZWFkcmFnb246IFR5cGVPcGVuU2VhZHJhZ29uO1xuLy8gTG9hZCB0eXBlIGZvciBmYWJyaWNcbmV4cG9ydCBkZWNsYXJlIHR5cGUgVHlwZUZhYnJpYyA9IHR5cGVvZiBpbXBvcnQoJ2ZhYnJpYy9mYWJyaWMtaW1wbCcpO1xuZXhwb3J0IGRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXIgOiBPcGVuU2VhZHJhZ29uLlZpZXdlcjtcbiAgICBwcm90ZWN0ZWQgY2FudmFzIDogIGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGhvbWUgOiBSZWdpb25PZkludGVyZXN0O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVCVUcgOmJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBvZiBzZXJ2aWNlIGZvciBpbml0IGEgbmV3IHBsYXllci5cbiAgICAgKiBAcGFyYW0gZGVidWcgc2V0IHRydWUgdG8gYWN0aXZlIGRlYnVnIG1vZGUgb24gcGxheWVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBwbGF5ZXIgZmFjdG9yeS5cbiAgICAgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIHBsYXllciwgZHppIG9yIGltYWdlIChqcGVnLCBwbmcsIGV0Yy4uLilcbiAgICAgKiBAcGFyYW0gaWQgSWQgb2YgcGxheWVyIGluc2lkZSBodG1sLlxuICAgICAqIEBwYXJhbSBsaW5rIExpbmsgdG8gaW1hZ2UuXG4gICAgICovXG4gICAgcHVibGljIHBsYXllckZhY3RvcnkodHlwZTogUGxheWVyVHlwZSwgaWQ6IHN0cmluZywgbGluazogc3RyaW5nKTogUHJvbWlzZTxBbm5vdGF0aW9uT1NEU2VydmljZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvbih7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZXM6IHR5cGUgPT09ICdkemknID8gbGluayA6IHsgdHlwZTogJ2ltYWdlJywgdXJsOiBsaW5rIH0sXG4gICAgICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzVG91Y2g6IHsgcGluY2hSb3RhdGU6IGZhbHNlIH0gYXMgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2hvd1JvdGF0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93RmxpcENvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHpvb21QZXJDbGljazogMSxcbiAgICAgICAgICAgICAgICBpbWFnZUxvYWRlckxpbWl0OiAxLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbkR1cmluZ1BhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGU6IHRoaXMuREVCVUcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdFJlc2l6ZTogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ3Jlc2l6ZScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0UmVzaXplLm5leHQoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1YmplY3RSZXNpemUucGlwZShkZWJvdW5jZVRpbWUoMjAwKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdvSG9tZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFsbCBzdWJzY3JpYmVycyBjYW52YXMgYW5kIHBsYXllci5cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVsZXRlKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jYW52YXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBmYWJyaWMgY2FudmFzIG92ZXIgdmlld3BvcnRcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkQ2FudmFzKCkgOiBBbm5vdGF0aW9uT1NEU2VydmljZSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvIHJlc2V0IHRoZSBzaXplIG9mIGZhYnJpYyBlbGVtZW50cyB3aGVuIHVzZXIgem9vbSBvbiBjYW52YXMsIG9yIHBhZ2UgcmVzaXplLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgICAgICBjb25zdCB3ID0gMjsgLy8gZGVzaXJlZCB3aWR0aCBpbiBwaXhlbHNcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gdyAvIHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5nZXQoJ3JhZGl1cycpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNldCgncmFkaXVzJywgNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNhbiBhbHNvIHVwZGF0ZSBvdGhlciB0aGluZ3MgaGVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHJhdGlvIG9mIGNhbnZhcyB3aGVuIHVzZXIgbG9hZCBpbWFnZSBvciByZXNpemUgcGFnZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VXaWR0aCA9ICh0aGlzLnZpZXdlciBhcyBhbnkpLnNvdXJjZS5kaW1lbnNpb25zLng7XG4gICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSAodGhpcy52aWV3ZXIgYXMgYW55KS5zb3VyY2UuZGltZW5zaW9ucy55O1xuICAgICAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLnk7XG4gICAgICAgIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW8gPSB0aGlzLmNvbnRhaW5lcldpZHRoIC8gdGhpcy5pbWFnZVdpZHRoO1xuICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2VudGVyIGNhbnZhcyBpbnNpZGUgdmlld3BvcnQgb3IgZ28gdG8gaG9tZSBwb2ludCBpZiBleGlzdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ29Ib21lKCkgOiBBbm5vdGF0aW9uT1NEU2VydmljZSB7XG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBuZXcgT3BlblNlYWRyYWdvbi5SZWN0KHRoaXMuaG9tZS5wb2ludC54LCB0aGlzLmhvbWUucG9pbnQueSwgdGhpcy5ob21lLndpZHRoLCB0aGlzLmhvbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kc1dpdGhDb25zdHJhaW50cyhyZWN0LCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC51cGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0LmdvSG9tZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGhvbWUgcG9pbnQuXG4gICAgICogQHBhcmFtIHJvaSBSZWdpb24gb2YgaW50ZXJlc3QgaW4gcGVyY2VudCwgY2VudGVyIHBvaW50LlxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRIb21lKHJvaSA6IFJlZ2lvbk9mSW50ZXJlc3QpIDogQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgICAgICBpZiAocm9pLnBvaW50LnggPiAxIHx8IHJvaS5wb2ludC55ID4gMSB8fCByb2kud2lkdGggPiAxIHx8IHJvaS5oZWlnaHQgPiAxKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhIHNpemUgaXMgbm90IHBlcmNlbnQnKTtcblxuICAgICAgICB0aGlzLmhvbWUgPSByb2k7XG4gICAgICAgIHRoaXMuaG9tZS5wb2ludC54ID0gcm9pLnBvaW50LnggLSByb2kud2lkdGggLyAyO1xuICAgICAgICB0aGlzLmhvbWUucG9pbnQueSA9IHJvaS5wb2ludC55IC0gcm9pLmhlaWdodCAvIDI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG5cbiAgICAvKlxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICAgICAgICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgICAgICAgICAgIHt4OiAyMDAsIHk6IDEwfSxcbiAgICAgICAgICAgIHt4OiAyNTAsIHk6IDUwfSxcbiAgICAgICAgICAgIHt4OiAyNTAsIHk6IDE4MH0sXG4gICAgICAgICAgICB7eDogMTUwLCB5OiAxODB9LFxuICAgICAgICAgICAge3g6IDE1MCwgeTogNTB9XSwge1xuICAgICAgICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuXG4gICAgfVxuICAgIG1pbiA9IDk5O1xuICAgIG1heCA9IDk5OTk5OTtcbiAgICBwb2x5Z29uTW9kZSA9IHRydWU7XG4gICAgcG9pbnRBcnJheSA9IFtdO1xuICAgIGxpbmVBcnJheSA9IFtdO1xuICAgIGFjdGl2ZUxpbmU7XG4gICAgYWN0aXZlU2hhcGUgO1xuXG4gICAgcHVibGljIGFkZERhbWFnZShkYW1hZ2UgOiBNYXJrZXJSb3VuZCB8IE1hcmtlclJlY3QgfCBNYXJrZXJQb2x5KSB7XG4gIGNvbnN0IHN0cm9rZVdpZHRoID0gMjtcbiAgbGV0IG9iajtcbiAgaWYgKCEoZGFtYWdlIGluc3RhbmNlb2YgTWFya2VyUG9seSkpIHtcbiAgb2JqID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgaWQ6IDEsXG4gIGxlZnQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWCAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHRvcDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWSAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWSAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHdpZHRoOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS53aWR0aCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS53aWR0aCAqIHRoaXMuc2NhbGUpLFxuICBoZWlnaHQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmhlaWdodCAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuaGVpZ2h0ICogdGhpcy5zY2FsZSksXG4gIHN0cm9rZVdpZHRoLFxuICBzdHJva2VVbmlmb3JtOiB0cnVlLFxuICBzdHJva2VEYXNoQXJyYXk6IHVuZGVmaW5lZCxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBjb3JuZXJTdHlsZTogJ2NpcmNsZScsXG5cbiAgLy8gQWRkIGRhdGEgb3B0aW9uIGZvciBzdHlsZSBzZXR0aW5nc1xuICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICBzdHJva2U6ICdyZWQnLFxuICBzZWxlY3RhYmxlOiB0cnVlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgY29ybmVyQ29sb3I6ICdyZWQnLFxuICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGxvY2tSb3RhdGlvbjogdHJ1ZSxcbiAgaGFzQ29udHJvbHM6IHRydWUsXG5cbiAgfSk7XG4gIH1cbiAgb2JqLnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuXG4gIG9iai5zZXRDb250cm9sc1Zpc2liaWxpdHkoeyBtdHI6IGZhbHNlIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQob2JqKTtcblxuICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gIHsgeDogMjUwLCB5OiA1MCB9LFxuICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICB9KTtcblxuICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG5cbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOmRvd24nLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKG9wdGlvbnMudGFyZ2V0ICYmIG9wdGlvbnMudGFyZ2V0LmlkID09PSB0aGlzLnBvaW50QXJyYXlbMF0uaWQpIHtcbiAgLy8gICAgICAgICB0aGlzLmdlbmVyYXRlUG9seWdvbih0aGlzLnBvaW50QXJyYXkpO1xuICAvLyAgICAgfVxuICAvLyAgICAgaWYgKHRoaXMucG9seWdvbk1vZGUpIHtcbiAgLy8gICAgICAgICB0aGlzLmFkZFBvaW50KG9wdGlvbnMpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOnVwJywgKG9wdGlvbnMpID0+IHtcbiAgLy9cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmICh0aGlzLmFjdGl2ZUxpbmUgJiYgdGhpcy5hY3RpdmVMaW5lLmNsYXNzID09PSAnbGluZScpIHtcbiAgLy8gICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlTGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xuICAvL1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKTtcbiAgLy8gICAgICAgICBwb2ludHNbdGhpcy5wb2ludEFycmF5Lmxlbmd0aF0gPSB7XG4gIC8vICAgICAgICAgICAgIHg6IHBvaW50ZXIueCxcbiAgLy8gICAgICAgICAgICAgeTogcG9pbnRlci55LFxuICAvLyAgICAgICAgIH07XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5zZXQoe1xuICAvLyAgICAgICAgICAgICBwb2ludHMsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vICAgICB9XG4gIC8vICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gfSk7XG5cbiAgLyEqICAgICAgICB0aGlzLmNhbnZhcy5vbignb2JqZWN0OnNjYWxpbmcnLCAoZSkgPT4ge1xuICBjb25zb2xlLmxvZygnc2NhbGxpbmcgJyk7XG4gIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICB9KTsgKiEvXG4gIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UG9seWdvbigpIHtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IHRydWU7XG4gIHRoaXMucG9pbnRBcnJheSA9IFtdO1xuICB0aGlzLmxpbmVBcnJheSA9IFtdO1xuICB0aGlzLmFjdGl2ZUxpbmU7XG4gIH1cblxuICBwcml2YXRlIGFkZFBvaW50KG9wdGlvbnMpIHtcbiAgY29uc29sZS5sb2cob3B0aW9ucyk7XG4gIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heCAtIHRoaXMubWluICsgMSkpICsgdGhpcy5taW47XG4gIGNvbnN0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyByYW5kb207XG4gIGNvbnN0IHBvcyA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgY29uc3QgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICByYWRpdXM6IDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCksXG4gIGZpbGw6ICcjZmZmZmZmJyxcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIGxlZnQ6IHBvcy54LFxuICB0b3A6IHBvcy55LFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBpZCxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBpZiAodGhpcy5wb2ludEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICBjaXJjbGUuc2V0KHtcbiAgZmlsbDogJ3JlZCcsXG4gIH0pO1xuICB9XG4gIGNvbnN0IHBvaW50c0EgPSBbcG9zLngsIHBvcy55LCBwb3MueCwgcG9zLnldO1xuICBjb25zdCBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKHBvaW50c0EsIHtcbiAgc3Ryb2tlV2lkdGg6IDIsXG4gIGZpbGw6ICcjOTk5OTk5JyxcbiAgc3Ryb2tlOiAnIzk5OTk5OScsXG4gIGNsYXNzOiAnbGluZScsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIGV2ZW50ZWQ6IGZhbHNlLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlU2hhcGUpO1xuICBpZiAodGhpcy5hY3RpdmVTaGFwZSkge1xuICAgICAgY29uc3QgcG9pbnRzQiA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKSBhcyBhbnlbXTtcbiAgICAgICAgICBwb2ludHNCLnB1c2goe1xuICAgICAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICAgICAgeTogcG9zLnksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcG9seWdvbkEgPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzQiwge1xuICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbkEpO1xuICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uQTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb2x5UG9pbnQgPSBbeyB4OiBwb3MueCwgeTogcG9zLnkgfV07XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2x5UG9pbnQsIHtcbiAgICAgICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb247XG4gICAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuICAgICAgICAgIH1cbiAgdGhpcy5hY3RpdmVMaW5lID0gbGluZTtcblxuICB0aGlzLnBvaW50QXJyYXkucHVzaChjaXJjbGUpO1xuICB0aGlzLmxpbmVBcnJheS5wdXNoKGxpbmUpO1xuXG4gIHRoaXMuY2FudmFzLmFkZChsaW5lKTtcbiAgdGhpcy5jYW52YXMuYWRkKGNpcmNsZSk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUG9seWdvbihwb2ludEFycmF5KSB7XG4gIGNvbnNvbGUubG9nKHBvaW50QXJyYXksIHRoaXMubGluZUFycmF5KTtcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIHBvaW50QXJyYXkuZm9yRWFjaCgocG9pbnQpID0+IHtcbiAgcG9pbnRzLnB1c2goe1xuICB4OiBwb2ludC5sZWZ0LFxuICB5OiBwb2ludC50b3AsXG4gIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZShwb2ludCk7XG4gIH0pO1xuICB0aGlzLmxpbmVBcnJheS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gIHRoaXMuY2FudmFzLnJlbW92ZShsaW5lKTtcbiAgfSk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKS5yZW1vdmUodGhpcy5hY3RpdmVMaW5lKTtcbiAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHMsIHtcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIG9wYWNpdHk6IDAuMyxcbiAgZmlsbDogJ3JlZCcsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG5cbiAgdGhpcy5hY3RpdmVMaW5lID0gbnVsbDtcbiAgdGhpcy5hY3RpdmVTaGFwZSA9IG51bGw7XG4gIHRoaXMucG9seWdvbk1vZGUgPSBmYWxzZTtcbiAgfVxuKi9cblxufSJdfQ==\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","customTransformCache":false,"dependencies":["@angular/core","rxjs","rxjs/operators"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDService {\n    /**\n     * Constructor of service for init a new player.\n     * @param debug set true to active debug mode on player.\n     */\n    constructor(debug = false) {\n        this.DEBUG = debug;\n    }\n    /**\n     * Create a new player factory.\n     * @param type Type of player, dzi or image (jpeg, png, etc...)\n     * @param id Id of player inside html.\n     * @param link Link to image.\n     */\n    playerFactory(type, id, link) {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false },\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom = new Subject();\n            this.viewer.addHandler('zoom', (e) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                this.resetStrokeWidth();\n            });\n            this.viewer.addOnceHandler('open', () => {\n                this.calculateRatio();\n                resolve(this);\n            });\n            const subjectResize = new Subject();\n            this.viewer.addHandler('resize', (e) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n        });\n    }\n    /**\n     * Delete all subscribers canvas and player.\n     */\n    delete() {\n        this.canvas.clear();\n        this.canvas.dispose();\n        this.canvas.removeListeners();\n        this.viewer.destroy();\n    }\n    /**\n     * Add fabric canvas over viewport\n     */\n    addCanvas() {\n        this.canvas = this.viewer\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n    /**\n     * Auto reset the size of fabric elements when user zoom on canvas, or page resize.\n     * @private\n     */\n    resetStrokeWidth() {\n        if (this.canvas) {\n            const w = 2; // desired width in pixels\n            const strokeWidth = w / this.canvas.getZoom();\n            for (const object of this.canvas.getObjects()) {\n                object.set('strokeUniform', true);\n                object.set('strokeWidth', strokeWidth);\n                // @ts-ignore\n                if (object.get('radius')) {\n                    // @ts-ignore\n                    object.set('radius', 5 / this.canvas.getZoom());\n                }\n                // can also update other things here\n            }\n        }\n    }\n    /**\n     * Calculate ratio of canvas when user load image or resize page.\n     * @private\n     */\n    calculateRatio() {\n        this.imageWidth = this.viewer.source.dimensions.x;\n        this.imageHeight = this.viewer.source.dimensions.y;\n        this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n    /**\n     * Center canvas inside viewport or go to home point if exist.\n     */\n    goHome() {\n        if (this.home) {\n            const rect = new OpenSeadragon.Rect(this.home.point.x, this.home.point.y, this.home.width, this.home.height);\n            this.viewer.viewport.fitBoundsWithConstraints(rect, false);\n            this.viewer.viewport.update();\n        }\n        else {\n            this.viewer.viewport.goHome(false);\n        }\n        return this;\n    }\n    /**\n     * Set home point.\n     * @param roi Region of interest in percent, center point.\n     */\n    setHome(roi) {\n        if (roi.point.x > 1 || roi.point.y > 1 || roi.width > 1 || roi.height > 1)\n            throw new Error('Data size is not percent');\n        this.home = roi;\n        this.home.point.x = roi.point.x - roi.width / 2;\n        this.home.point.y = roi.point.y - roi.height / 2;\n        return this;\n    }\n}\nAnnotationOSDService.ɵfac = function AnnotationOSDService_Factory(t) { return new (t || AnnotationOSDService)(i0.ɵɵinject(Boolean)); };\nAnnotationOSDService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: AnnotationOSDService, factory: AnnotationOSDService.ɵfac, providedIn: 'root' });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root',\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [Boolean]\n            }] }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2Quc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFhOUMsTUFBTSxPQUFPLG9CQUFvQjtJQVk3Qjs7O09BR0c7SUFDSCxZQUE2QixRQUFrQixLQUFLO1FBQ2hELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLGFBQWEsQ0FBQyxJQUFnQixFQUFFLEVBQVUsRUFBRSxJQUFZO1FBQzNELE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQztnQkFDeEIsRUFBRTtnQkFDRixXQUFXLEVBQUUsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtnQkFDakUsb0JBQW9CLEVBQUUsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFtQztnQkFDN0UsbUJBQW1CLEVBQUUsS0FBSztnQkFDMUIscUJBQXFCLEVBQUUsS0FBSztnQkFDNUIsZUFBZSxFQUFFLEtBQUs7Z0JBQ3RCLFlBQVksRUFBRSxDQUFDO2dCQUNmLGdCQUFnQixFQUFFLENBQUM7Z0JBQ25CLGtCQUFrQixFQUFFLElBQUk7Z0JBQ3hCLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSzthQUN4QixDQUFDLENBQUM7WUFDSCxNQUFNLFdBQVcsR0FBaUIsSUFBSSxPQUFPLEVBQUUsQ0FBQztZQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFNLEVBQUUsRUFBRTtnQkFDdEMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixDQUFDLENBQUMsQ0FBQztZQUNILFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtnQkFDOUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN0QixJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQztZQUdILElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxhQUFhLEdBQWlCLElBQUksT0FBTyxFQUFFLENBQUM7WUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUU7Z0JBQ3hDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7WUFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2pELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztRQUVQLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVEOztPQUVHO0lBQ0ksTUFBTTtRQUNULElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzlCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVEOztPQUVHO0lBQ0ksU0FBUztRQUNaLElBQUksQ0FBQyxNQUFNLEdBQUksSUFBSSxDQUFDLE1BQWM7YUFDN0IsZUFBZSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDO2FBQ2hDLFlBQVksRUFBRSxDQUFDO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRDs7O09BR0c7SUFDSyxnQkFBZ0I7UUFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsMEJBQTBCO1lBQ3ZDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzlDLEtBQUssTUFBTSxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsRUFBRTtnQkFDM0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ2xDLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDO2dCQUN2QyxhQUFhO2dCQUNiLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRTtvQkFDdEIsYUFBYTtvQkFDYixNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO2lCQUNuRDtnQkFDRCxvQ0FBb0M7YUFDdkM7U0FDSjtJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSyxjQUFjO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUksSUFBSSxDQUFDLE1BQWMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsV0FBVyxHQUFJLElBQUksQ0FBQyxNQUFjLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDbEUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDO0lBQ2hGLENBQUM7SUFFRDs7T0FFRztJQUNJLE1BQU07UUFDVCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDWCxNQUFNLElBQUksR0FBRyxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzdHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLHdCQUF3QixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMzRCxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNqQzthQUFNO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3RDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE9BQU8sQ0FBQyxHQUFzQjtRQUNqQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQ3JFLE1BQU0sSUFBSSxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUVoRCxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7O3dGQWxKUSxvQkFBb0IsY0FnQlQsT0FBTzswRUFoQmxCLG9CQUFvQixXQUFwQixvQkFBb0IsbUJBRmpCLE1BQU07dUZBRVQsb0JBQW9CO2NBSGhDLFVBQVU7ZUFBQztnQkFDUixVQUFVLEVBQUUsTUFBTTthQUNyQjs7c0JBaUJnQixNQUFNO3VCQUFDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFBsYXllclR5cGUsIFJlZ2lvbk9mSW50ZXJlc3QgfSBmcm9tICcuL2Fubm90YXRpb24tb3NkLm1vZGVsJztcblxuLy8gTG9hZCB0eXBlIGZvciBvcGVuc2VhZHJhZ29uXG5leHBvcnQgZGVjbGFyZSB0eXBlIFR5cGVPcGVuU2VhZHJhZ29uID0gdHlwZW9mIGltcG9ydCgnb3BlbnNlYWRyYWdvbicpO1xuZXhwb3J0IGRlY2xhcmUgbGV0IE9wZW5TZWFkcmFnb246IFR5cGVPcGVuU2VhZHJhZ29uO1xuLy8gTG9hZCB0eXBlIGZvciBmYWJyaWNcbmV4cG9ydCBkZWNsYXJlIHR5cGUgVHlwZUZhYnJpYyA9IHR5cGVvZiBpbXBvcnQoJ2ZhYnJpYy9mYWJyaWMtaW1wbCcpO1xuZXhwb3J0IGRlY2xhcmUgbGV0IGZhYnJpYzogVHlwZUZhYnJpYztcblxuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgIHByb3RlY3RlZCB2aWV3ZXIgOiBPcGVuU2VhZHJhZ29uLlZpZXdlcjtcbiAgICBwcm90ZWN0ZWQgY2FudmFzIDogIGZhYnJpYy5DYW52YXM7XG4gICAgcHJvdGVjdGVkIGltYWdlV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVyV2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHpvb21Ub1pvb21MZXZlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHNjYWxlOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGhvbWUgOiBSZWdpb25PZkludGVyZXN0O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVCVUcgOmJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBvZiBzZXJ2aWNlIGZvciBpbml0IGEgbmV3IHBsYXllci5cbiAgICAgKiBAcGFyYW0gZGVidWcgc2V0IHRydWUgdG8gYWN0aXZlIGRlYnVnIG1vZGUgb24gcGxheWVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoQm9vbGVhbikgZGVidWcgOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5ERUJVRyA9IGRlYnVnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBwbGF5ZXIgZmFjdG9yeS5cbiAgICAgKiBAcGFyYW0gdHlwZSBUeXBlIG9mIHBsYXllciwgZHppIG9yIGltYWdlIChqcGVnLCBwbmcsIGV0Yy4uLilcbiAgICAgKiBAcGFyYW0gaWQgSWQgb2YgcGxheWVyIGluc2lkZSBodG1sLlxuICAgICAqIEBwYXJhbSBsaW5rIExpbmsgdG8gaW1hZ2UuXG4gICAgICovXG4gICAgcHVibGljIHBsYXllckZhY3RvcnkodHlwZTogUGxheWVyVHlwZSwgaWQ6IHN0cmluZywgbGluazogc3RyaW5nKTogUHJvbWlzZTxBbm5vdGF0aW9uT1NEU2VydmljZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvbih7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZXM6IHR5cGUgPT09ICdkemknID8gbGluayA6IHsgdHlwZTogJ2ltYWdlJywgdXJsOiBsaW5rIH0sXG4gICAgICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzVG91Y2g6IHsgcGluY2hSb3RhdGU6IGZhbHNlIH0gYXMgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2hvd1JvdGF0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93RmxpcENvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHpvb21QZXJDbGljazogMSxcbiAgICAgICAgICAgICAgICBpbWFnZUxvYWRlckxpbWl0OiAxLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbkR1cmluZ1BhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZWJ1Z01vZGU6IHRoaXMuREVCVUcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHN1YmplY3Rab29tOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Wm9vbS5uZXh0KGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJqZWN0Wm9vbS5waXBlKGRlYm91bmNlVGltZSg1MCkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkT25jZUhhbmRsZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVSYXRpbygpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3ViamVjdFJlc2l6ZTogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ3Jlc2l6ZScsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0UmVzaXplLm5leHQoZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1YmplY3RSZXNpemUucGlwZShkZWJvdW5jZVRpbWUoMjAwKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdvSG9tZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFsbCBzdWJzY3JpYmVycyBjYW52YXMgYW5kIHBsYXllci5cbiAgICAgKi9cbiAgICBwdWJsaWMgZGVsZXRlKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYW52YXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jYW52YXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBmYWJyaWMgY2FudmFzIG92ZXIgdmlld3BvcnRcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkQ2FudmFzKCkgOiBBbm5vdGF0aW9uT1NEU2VydmljZSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gKHRoaXMudmlld2VyIGFzIGFueSlcbiAgICAgICAgICAgIC5mYWJyaWNqc092ZXJsYXkoeyBzY2FsZTogMTAwMCB9KVxuICAgICAgICAgICAgLmZhYnJpY0NhbnZhcygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvIHJlc2V0IHRoZSBzaXplIG9mIGZhYnJpYyBlbGVtZW50cyB3aGVuIHVzZXIgem9vbSBvbiBjYW52YXMsIG9yIHBhZ2UgcmVzaXplLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNldFN0cm9rZVdpZHRoKCkgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgICAgICBjb25zdCB3ID0gMjsgLy8gZGVzaXJlZCB3aWR0aCBpbiBwaXhlbHNcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gdyAvIHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRoaXMuY2FudmFzLmdldE9iamVjdHMoKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdC5zZXQoJ3N0cm9rZVVuaWZvcm0nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBvYmplY3Quc2V0KCdzdHJva2VXaWR0aCcsIHN0cm9rZVdpZHRoKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5nZXQoJ3JhZGl1cycpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNldCgncmFkaXVzJywgNSAvIHRoaXMuY2FudmFzLmdldFpvb20oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNhbiBhbHNvIHVwZGF0ZSBvdGhlciB0aGluZ3MgaGVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHJhdGlvIG9mIGNhbnZhcyB3aGVuIHVzZXIgbG9hZCBpbWFnZSBvciByZXNpemUgcGFnZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FsY3VsYXRlUmF0aW8oKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VXaWR0aCA9ICh0aGlzLnZpZXdlciBhcyBhbnkpLnNvdXJjZS5kaW1lbnNpb25zLng7XG4gICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgPSAodGhpcy52aWV3ZXIgYXMgYW55KS5zb3VyY2UuZGltZW5zaW9ucy55O1xuICAgICAgICB0aGlzLmNvbnRhaW5lcldpZHRoID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLng7XG4gICAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Q29udGFpbmVyU2l6ZSgpLnk7XG4gICAgICAgIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW8gPSB0aGlzLmNvbnRhaW5lcldpZHRoIC8gdGhpcy5pbWFnZVdpZHRoO1xuICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy52aWV3ZXIudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKSAqIHRoaXMuem9vbVRvWm9vbUxldmVsUmF0aW87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2VudGVyIGNhbnZhcyBpbnNpZGUgdmlld3BvcnQgb3IgZ28gdG8gaG9tZSBwb2ludCBpZiBleGlzdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ29Ib21lKCkgOiBBbm5vdGF0aW9uT1NEU2VydmljZSB7XG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBuZXcgT3BlblNlYWRyYWdvbi5SZWN0KHRoaXMuaG9tZS5wb2ludC54LCB0aGlzLmhvbWUucG9pbnQueSwgdGhpcy5ob21lLndpZHRoLCB0aGlzLmhvbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0LmZpdEJvdW5kc1dpdGhDb25zdHJhaW50cyhyZWN0LCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC51cGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0LmdvSG9tZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGhvbWUgcG9pbnQuXG4gICAgICogQHBhcmFtIHJvaSBSZWdpb24gb2YgaW50ZXJlc3QgaW4gcGVyY2VudCwgY2VudGVyIHBvaW50LlxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRIb21lKHJvaSA6IFJlZ2lvbk9mSW50ZXJlc3QpIDogQW5ub3RhdGlvbk9TRFNlcnZpY2Uge1xuICAgICAgICBpZiAocm9pLnBvaW50LnggPiAxIHx8IHJvaS5wb2ludC55ID4gMSB8fCByb2kud2lkdGggPiAxIHx8IHJvaS5oZWlnaHQgPiAxKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhIHNpemUgaXMgbm90IHBlcmNlbnQnKTtcblxuICAgICAgICB0aGlzLmhvbWUgPSByb2k7XG4gICAgICAgIHRoaXMuaG9tZS5wb2ludC54ID0gcm9pLnBvaW50LnggLSByb2kud2lkdGggLyAyO1xuICAgICAgICB0aGlzLmhvbWUucG9pbnQueSA9IHJvaS5wb2ludC55IC0gcm9pLmhlaWdodCAvIDI7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG5cbiAgICAvKlxuICAgIHB1YmxpYyBhZGREYW1hZ2UoZGFtYWdlIDogTWFya2VyUm91bmQgfCBNYXJrZXJSZWN0IHwgTWFya2VyUG9seSkge1xuICAgICAgICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgICAgICAgICAgIHt4OiAyMDAsIHk6IDEwfSxcbiAgICAgICAgICAgIHt4OiAyNTAsIHk6IDUwfSxcbiAgICAgICAgICAgIHt4OiAyNTAsIHk6IDE4MH0sXG4gICAgICAgICAgICB7eDogMTUwLCB5OiAxODB9LFxuICAgICAgICAgICAge3g6IDE1MCwgeTogNTB9XSwge1xuICAgICAgICAgICAgZmlsbDogJ2dyZWVuJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHkpO1xuXG4gICAgfVxuICAgIG1pbiA9IDk5O1xuICAgIG1heCA9IDk5OTk5OTtcbiAgICBwb2x5Z29uTW9kZSA9IHRydWU7XG4gICAgcG9pbnRBcnJheSA9IFtdO1xuICAgIGxpbmVBcnJheSA9IFtdO1xuICAgIGFjdGl2ZUxpbmU7XG4gICAgYWN0aXZlU2hhcGUgO1xuXG4gICAgcHVibGljIGFkZERhbWFnZShkYW1hZ2UgOiBNYXJrZXJSb3VuZCB8IE1hcmtlclJlY3QgfCBNYXJrZXJQb2x5KSB7XG4gIGNvbnN0IHN0cm9rZVdpZHRoID0gMjtcbiAgbGV0IG9iajtcbiAgaWYgKCEoZGFtYWdlIGluc3RhbmNlb2YgTWFya2VyUG9seSkpIHtcbiAgb2JqID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgaWQ6IDEsXG4gIGxlZnQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmNlbnRlclggKiAodGhpcy5pbWFnZVdpZHRoICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWCAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHRvcDogKGRhbWFnZS51bml0ID09PSAncGVyY2VudCcgPyBkYW1hZ2UuY2VudGVyWSAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuY2VudGVyWSAqIHRoaXMuc2NhbGUpICsgc3Ryb2tlV2lkdGgsXG4gIHdpZHRoOiAoZGFtYWdlLnVuaXQgPT09ICdwZXJjZW50JyA/IGRhbWFnZS53aWR0aCAqICh0aGlzLmltYWdlV2lkdGggKiB0aGlzLnNjYWxlKVxuICA6IGRhbWFnZS53aWR0aCAqIHRoaXMuc2NhbGUpLFxuICBoZWlnaHQ6IChkYW1hZ2UudW5pdCA9PT0gJ3BlcmNlbnQnID8gZGFtYWdlLmhlaWdodCAqICh0aGlzLmltYWdlSGVpZ2h0ICogdGhpcy5zY2FsZSlcbiAgOiBkYW1hZ2UuaGVpZ2h0ICogdGhpcy5zY2FsZSksXG4gIHN0cm9rZVdpZHRoLFxuICBzdHJva2VVbmlmb3JtOiB0cnVlLFxuICBzdHJva2VEYXNoQXJyYXk6IHVuZGVmaW5lZCxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBjb3JuZXJTdHlsZTogJ2NpcmNsZScsXG5cbiAgLy8gQWRkIGRhdGEgb3B0aW9uIGZvciBzdHlsZSBzZXR0aW5nc1xuICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICBzdHJva2U6ICdyZWQnLFxuICBzZWxlY3RhYmxlOiB0cnVlLFxuICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgY29ybmVyQ29sb3I6ICdyZWQnLFxuICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxuICBkcmFnZ2FibGU6IHRydWUsXG4gIGxvY2tSb3RhdGlvbjogdHJ1ZSxcbiAgaGFzQ29udHJvbHM6IHRydWUsXG5cbiAgfSk7XG4gIH1cbiAgb2JqLnNldCgnc3Ryb2tlVW5pZm9ybScsIHRydWUpO1xuXG4gIG9iai5zZXRDb250cm9sc1Zpc2liaWxpdHkoeyBtdHI6IGZhbHNlIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQob2JqKTtcblxuICBjb25zdCBwb2x5ID0gbmV3IGZhYnJpYy5Qb2x5Z29uKFtcbiAgeyB4OiAyMDAsIHk6IDEwIH0sXG4gIHsgeDogMjUwLCB5OiA1MCB9LFxuICB7IHg6IDI1MCwgeTogMTgwIH0sXG4gIHsgeDogMTUwLCB5OiAxODAgfSxcbiAgeyB4OiAxNTAsIHk6IDUwIH1dLCB7XG4gICAgICBmaWxsOiAnZ3JlZW4nLFxuICAgICAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgICAgICB9KTtcblxuICB0aGlzLmNhbnZhcy5hZGQocG9seSk7XG5cbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOmRvd24nLCAob3B0aW9ucykgPT4ge1xuICAvLyAgICAgaWYgKG9wdGlvbnMudGFyZ2V0ICYmIG9wdGlvbnMudGFyZ2V0LmlkID09PSB0aGlzLnBvaW50QXJyYXlbMF0uaWQpIHtcbiAgLy8gICAgICAgICB0aGlzLmdlbmVyYXRlUG9seWdvbih0aGlzLnBvaW50QXJyYXkpO1xuICAvLyAgICAgfVxuICAvLyAgICAgaWYgKHRoaXMucG9seWdvbk1vZGUpIHtcbiAgLy8gICAgICAgICB0aGlzLmFkZFBvaW50KG9wdGlvbnMpO1xuICAvLyAgICAgfVxuICAvLyB9KTtcbiAgLy8gdGhpcy5jYW52YXMub24oJ21vdXNlOnVwJywgKG9wdGlvbnMpID0+IHtcbiAgLy9cbiAgLy8gfSk7XG4gIC8vIHRoaXMuY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgKG9wdGlvbnMpID0+IHtcbiAgLy8gICAgIGlmICh0aGlzLmFjdGl2ZUxpbmUgJiYgdGhpcy5hY3RpdmVMaW5lLmNsYXNzID09PSAnbGluZScpIHtcbiAgLy8gICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5jYW52YXMuZ2V0UG9pbnRlcihvcHRpb25zLmUpO1xuICAvLyAgICAgICAgIHRoaXMuYWN0aXZlTGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xuICAvL1xuICAvLyAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKTtcbiAgLy8gICAgICAgICBwb2ludHNbdGhpcy5wb2ludEFycmF5Lmxlbmd0aF0gPSB7XG4gIC8vICAgICAgICAgICAgIHg6IHBvaW50ZXIueCxcbiAgLy8gICAgICAgICAgICAgeTogcG9pbnRlci55LFxuICAvLyAgICAgICAgIH07XG4gIC8vICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZS5zZXQoe1xuICAvLyAgICAgICAgICAgICBwb2ludHMsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICAgICAgdGhpcy5jYW52YXMucmVuZGVyQWxsKCk7XG4gIC8vICAgICB9XG4gIC8vICAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgLy8gfSk7XG5cbiAgLyEqICAgICAgICB0aGlzLmNhbnZhcy5vbignb2JqZWN0OnNjYWxpbmcnLCAoZSkgPT4ge1xuICBjb25zb2xlLmxvZygnc2NhbGxpbmcgJyk7XG4gIHRoaXMucmVzZXRTdHJva2VXaWR0aCgpO1xuICB9KTsgKiEvXG4gIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJpdmF0ZSBkcmF3UG9seWdvbigpIHtcbiAgdGhpcy5wb2x5Z29uTW9kZSA9IHRydWU7XG4gIHRoaXMucG9pbnRBcnJheSA9IFtdO1xuICB0aGlzLmxpbmVBcnJheSA9IFtdO1xuICB0aGlzLmFjdGl2ZUxpbmU7XG4gIH1cblxuICBwcml2YXRlIGFkZFBvaW50KG9wdGlvbnMpIHtcbiAgY29uc29sZS5sb2cob3B0aW9ucyk7XG4gIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heCAtIHRoaXMubWluICsgMSkpICsgdGhpcy5taW47XG4gIGNvbnN0IGlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyByYW5kb207XG4gIGNvbnN0IHBvcyA9IHRoaXMuY2FudmFzLmdldFBvaW50ZXIob3B0aW9ucy5lKTtcbiAgY29uc3QgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICByYWRpdXM6IDUgLyB0aGlzLmNhbnZhcy5nZXRab29tKCksXG4gIGZpbGw6ICcjZmZmZmZmJyxcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIGxlZnQ6IHBvcy54LFxuICB0b3A6IHBvcy55LFxuICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgaGFzQm9yZGVyczogZmFsc2UsXG4gIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgb3JpZ2luWDogJ2NlbnRlcicsXG4gIG9yaWdpblk6ICdjZW50ZXInLFxuICBpZCxcbiAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gIH0pO1xuICBpZiAodGhpcy5wb2ludEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICBjaXJjbGUuc2V0KHtcbiAgZmlsbDogJ3JlZCcsXG4gIH0pO1xuICB9XG4gIGNvbnN0IHBvaW50c0EgPSBbcG9zLngsIHBvcy55LCBwb3MueCwgcG9zLnldO1xuICBjb25zdCBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKHBvaW50c0EsIHtcbiAgc3Ryb2tlV2lkdGg6IDIsXG4gIGZpbGw6ICcjOTk5OTk5JyxcbiAgc3Ryb2tlOiAnIzk5OTk5OScsXG4gIGNsYXNzOiAnbGluZScsXG4gIG9yaWdpblg6ICdjZW50ZXInLFxuICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgc2VsZWN0YWJsZTogZmFsc2UsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIGV2ZW50ZWQ6IGZhbHNlLFxuICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcbiAgfSk7XG4gIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlU2hhcGUpO1xuICBpZiAodGhpcy5hY3RpdmVTaGFwZSkge1xuICAgICAgY29uc3QgcG9pbnRzQiA9IHRoaXMuYWN0aXZlU2hhcGUuZ2V0KCdwb2ludHMnKSBhcyBhbnlbXTtcbiAgICAgICAgICBwb2ludHNCLnB1c2goe1xuICAgICAgICAgICAgICB4OiBwb3MueCxcbiAgICAgICAgICAgICAgeTogcG9zLnksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcG9seWdvbkEgPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzQiwge1xuICAgICAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgIGZpbGw6ICcjY2NjY2NjJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICBldmVudGVkOiBmYWxzZSxcbiAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKTtcbiAgICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbkEpO1xuICAgIHRoaXMuYWN0aXZlU2hhcGUgPSBwb2x5Z29uQTtcbiAgICB0aGlzLmNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwb2x5UG9pbnQgPSBbeyB4OiBwb3MueCwgeTogcG9zLnkgfV07XG4gICAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2x5UG9pbnQsIHtcbiAgICAgICAgICBzdHJva2U6ICcjMzMzMzMzJyxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgZmlsbDogJyNjY2NjY2MnLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4zLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5hY3RpdmVTaGFwZSA9IHBvbHlnb247XG4gICAgICAgICAgdGhpcy5jYW52YXMuYWRkKHBvbHlnb24pO1xuICAgICAgICAgIH1cbiAgdGhpcy5hY3RpdmVMaW5lID0gbGluZTtcblxuICB0aGlzLnBvaW50QXJyYXkucHVzaChjaXJjbGUpO1xuICB0aGlzLmxpbmVBcnJheS5wdXNoKGxpbmUpO1xuXG4gIHRoaXMuY2FudmFzLmFkZChsaW5lKTtcbiAgdGhpcy5jYW52YXMuYWRkKGNpcmNsZSk7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUG9seWdvbihwb2ludEFycmF5KSB7XG4gIGNvbnNvbGUubG9nKHBvaW50QXJyYXksIHRoaXMubGluZUFycmF5KTtcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIHBvaW50QXJyYXkuZm9yRWFjaCgocG9pbnQpID0+IHtcbiAgcG9pbnRzLnB1c2goe1xuICB4OiBwb2ludC5sZWZ0LFxuICB5OiBwb2ludC50b3AsXG4gIH0pO1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZShwb2ludCk7XG4gIH0pO1xuICB0aGlzLmxpbmVBcnJheS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gIHRoaXMuY2FudmFzLnJlbW92ZShsaW5lKTtcbiAgfSk7XG4gIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFjdGl2ZVNoYXBlKS5yZW1vdmUodGhpcy5hY3RpdmVMaW5lKTtcbiAgY29uc3QgcG9seWdvbiA9IG5ldyBmYWJyaWMuUG9seWdvbihwb2ludHMsIHtcbiAgc3Ryb2tlOiAnIzMzMzMzMycsXG4gIHN0cm9rZVdpZHRoOiAwLjUsXG4gIG9wYWNpdHk6IDAuMyxcbiAgZmlsbDogJ3JlZCcsXG4gIGhhc0JvcmRlcnM6IGZhbHNlLFxuICBoYXNDb250cm9sczogZmFsc2UsXG4gIH0pO1xuICB0aGlzLmNhbnZhcy5hZGQocG9seWdvbik7XG5cbiAgdGhpcy5hY3RpdmVMaW5lID0gbnVsbDtcbiAgdGhpcy5hY3RpdmVTaGFwZSA9IG51bGw7XG4gIHRoaXMucG9seWdvbk1vZGUgPSBmYWxzZTtcbiAgfVxuKi9cblxufSJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.service.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[15,0,0,15],[17,0,0,17],[27,0,0,27],[29,0,0,29],[35,0,0,35],[50,0,0,50],[51,0,0,51]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[16,0,1,16],[18,0,1,18],[24,0,1,24],[30,0,1,30],[31,0,1,31]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,23],[29,0,2,29],[45,0,2,45],[46,0,2,46]],[],[[0,0,15,0],[6,0,15,6],[13,0,15,13],[33,0,15,33]],[[4,0,27,4]],[],[],[[7,0,30,7]],[[4,0,31,4],[16,0,31,33],[24,0,31,51],[29,0,31,56]],[[8,0,32,8],[12,0,32,12],[13,0,32,13],[18,0,32,18],[21,0,32,21],[26,0,32,26],[27,0,32,27]],[[4,0,33,4],[5,0,33,5]],[[4,0,35,4]],[],[],[],[],[[7,0,40,7]],[[4,0,41,11],[17,0,41,24],[18,0,41,25],[22,0,41,41],[24,0,41,43],[26,0,41,53],[28,0,41,55],[32,0,41,67]],[[8,0,42,8],[15,0,42,15],[19,0,42,19],[26,0,42,26],[27,0,42,27],[28,0,42,28],[35,0,42,35],[37,0,42,37],[39,0,42,39]],[[12,0,43,12],[16,0,43,16],[17,0,43,17],[23,0,43,23],[26,0,43,26],[39,0,43,39],[40,0,43,40]],[[16,0,44,16],[18,0,44,18]],[[16,0,45,16],[27,0,45,27],[29,0,45,29],[33,0,45,33],[38,0,45,38],[43,0,45,43],[44,0,45,44],[45,0,45,45],[46,0,45,46],[50,0,45,50],[51,0,45,51],[52,0,45,52],[53,0,45,53],[55,0,45,55],[59,0,45,59],[61,0,45,61],[68,0,45,68],[70,0,45,70],[73,0,45,73],[75,0,45,75],[79,0,45,79],[81,0,45,81]],[[16,0,46,16],[36,0,46,36],[38,0,46,38],[40,0,46,40],[51,0,46,51],[53,0,46,53],[58,0,46,58],[60,0,46,93]],[[16,0,47,16],[35,0,47,35],[37,0,47,37],[42,0,47,42]],[[16,0,48,16],[37,0,48,37],[39,0,48,39],[44,0,48,44]],[[16,0,49,16],[31,0,49,31],[33,0,49,33],[38,0,49,38]],[[16,0,50,16],[28,0,50,28],[30,0,50,30],[31,0,50,31]],[[16,0,51,16],[32,0,51,32],[34,0,51,34],[35,0,51,35]],[[16,0,52,16],[34,0,52,34],[36,0,52,36],[40,0,52,40]],[[16,0,53,16],[25,0,53,25],[27,0,53,27],[31,0,53,31],[32,0,53,32],[37,0,53,37]],[[13,0,54,13],[14,0,54,14],[15,0,54,15]],[[12,0,55,12],[18,0,55,18],[29,0,55,29],[32,0,55,46],[36,0,55,50],[43,0,55,57],[45,0,55,59],[46,0,55,60]],[[12,0,56,12],[16,0,56,16],[17,0,56,17],[23,0,56,23],[24,0,56,24],[34,0,56,34],[35,0,56,35],[41,0,56,41],[43,0,56,43],[44,0,56,44],[45,0,56,50],[47,0,56,52],[49,0,56,54]],[[16,0,57,16],[27,0,57,27],[28,0,57,28],[32,0,57,32],[33,0,57,33],[34,0,57,34],[35,0,57,35],[36,0,57,36]],[[12,0,58,12],[13,0,58,13],[14,0,58,14],[15,0,58,15]],[[12,0,59,12],[23,0,59,23],[24,0,59,24],[28,0,59,28],[29,0,59,29],[41,0,59,41],[42,0,59,42],[44,0,59,44],[45,0,59,45],[46,0,59,46],[47,0,59,47],[56,0,59,56],[57,0,59,57],[60,0,59,60],[62,0,59,62]],[[16,0,60,16],[20,0,60,20],[21,0,60,21],[35,0,60,35],[37,0,60,37],[38,0,60,38]],[[16,0,61,16],[20,0,61,20],[21,0,61,21],[37,0,61,37],[39,0,61,39],[40,0,61,40]],[[12,0,62,12],[13,0,62,13],[14,0,62,14],[15,0,62,15]],[[12,0,65,12],[16,0,65,16],[17,0,65,17],[23,0,65,23],[24,0,65,24],[38,0,65,38],[39,0,65,39],[45,0,65,45],[47,0,65,47],[50,0,65,50],[52,0,65,52]],[[16,0,66,16],[20,0,66,20],[21,0,66,21],[35,0,66,35],[37,0,66,37],[38,0,66,38]],[[16,0,67,16],[23,0,67,23],[24,0,67,24],[28,0,67,28],[29,0,67,29],[30,0,67,30]],[[12,0,68,12],[13,0,68,13],[14,0,68,14],[15,0,68,15]],[[12,0,70,12],[18,0,70,18],[31,0,70,31],[34,0,70,48],[38,0,70,52],[45,0,70,59],[47,0,70,61],[48,0,70,62]],[[12,0,71,12],[16,0,71,16],[17,0,71,17],[23,0,71,23],[24,0,71,24],[34,0,71,34],[35,0,71,35],[43,0,71,43],[45,0,71,45],[46,0,71,46],[47,0,71,52],[49,0,71,54],[51,0,71,56]],[[16,0,72,16],[29,0,72,29],[30,0,72,30],[34,0,72,34],[35,0,72,35],[36,0,72,36],[37,0,72,37],[38,0,72,38]],[[12,0,73,12],[13,0,73,13],[14,0,73,14],[15,0,73,15]],[[12,0,74,12],[25,0,74,25],[26,0,74,26],[30,0,74,30],[31,0,74,31],[43,0,74,43],[44,0,74,44],[47,0,74,47],[48,0,74,48],[49,0,74,49],[50,0,74,50],[59,0,74,59],[60,0,74,60],[63,0,74,63],[65,0,74,65]],[[16,0,75,16],[20,0,75,20],[21,0,75,21],[27,0,75,27],[29,0,75,29],[30,0,75,30]],[[12,0,76,12],[13,0,76,13],[14,0,76,14],[15,0,76,15]],[[8,0,78,8],[9,0,78,9],[10,0,78,10],[11,0,78,11]],[[4,0,79,4],[5,0,79,5]],[[4,0,81,4]],[],[[7,0,83,7]],[[4,0,84,11],[10,0,84,17]],[[8,0,85,8],[12,0,85,12],[13,0,85,13],[19,0,85,19],[20,0,85,20],[25,0,85,25],[27,0,85,27],[28,0,85,28]],[[8,0,86,8],[12,0,86,12],[13,0,86,13],[19,0,86,19],[20,0,86,20],[27,0,86,27],[29,0,86,29],[30,0,86,30]],[[8,0,87,8],[12,0,87,12],[13,0,87,13],[19,0,87,19],[20,0,87,20],[35,0,87,35],[37,0,87,37],[38,0,87,38]],[[8,0,88,8],[12,0,88,12],[13,0,88,13],[19,0,88,19],[20,0,88,20],[27,0,88,27],[29,0,88,29],[30,0,88,30]],[[4,0,89,4],[5,0,89,5]],[[4,0,91,4]],[],[[7,0,93,7]],[[4,0,94,11],[13,0,94,20]],[[8,0,95,8],[12,0,95,12],[13,0,95,13],[19,0,95,19],[22,0,95,23],[26,0,95,27],[27,0,95,28],[33,0,95,42]],[[13,0,96,13],[28,0,96,28],[29,0,96,29],[31,0,96,31],[36,0,96,36],[38,0,96,38],[42,0,96,42],[44,0,96,44],[45,0,96,45]],[[13,0,97,13],[25,0,97,25],[27,0,97,27],[28,0,97,28]],[[8,0,98,8],[15,0,98,15],[19,0,98,19],[20,0,98,20]],[[4,0,99,4],[5,0,99,5]],[[4,0,101,4]],[],[],[[7,0,104,7]],[[4,0,105,12],[20,0,105,28]],[[8,0,106,8],[12,0,106,12],[16,0,106,16],[17,0,106,17],[23,0,106,23],[25,0,106,25]],[[12,0,107,12],[18,0,107,18],[19,0,107,19],[22,0,107,22],[23,0,107,23],[24,0,107,24],[25,0,107,25],[51,0,107,51]],[[12,0,108,12],[18,0,108,18],[29,0,108,29],[32,0,108,32],[33,0,108,33],[36,0,108,36],[40,0,108,40],[41,0,108,41],[47,0,108,47],[48,0,108,48],[55,0,108,55],[57,0,108,57],[58,0,108,58]],[[12,0,109,12],[17,0,109,17],[23,0,109,23],[29,0,109,29],[33,0,109,33],[37,0,109,37],[38,0,109,38],[44,0,109,44],[45,0,109,45],[55,0,109,55],[57,0,109,57],[59,0,109,59]],[[16,0,110,16],[22,0,110,22],[23,0,110,23],[26,0,110,26],[27,0,110,27],[42,0,110,42],[44,0,110,44],[48,0,110,48],[49,0,110,49],[50,0,110,50]],[[16,0,111,16],[22,0,111,22],[23,0,111,23],[26,0,111,26],[27,0,111,27],[40,0,111,40],[42,0,111,42],[53,0,111,53],[54,0,111,54],[55,0,111,55]],[[16,0,112,16],[29,0,112,29]],[[16,0,113,16],[20,0,113,20],[26,0,113,26],[27,0,113,27],[30,0,113,30],[31,0,113,31],[39,0,113,39],[40,0,113,40],[42,0,113,42]],[[20,0,114,20],[33,0,114,33]],[[20,0,115,20],[26,0,115,26],[27,0,115,27],[30,0,115,30],[31,0,115,31],[39,0,115,39],[41,0,115,41],[42,0,115,42],[45,0,115,45],[49,0,115,49],[50,0,115,50],[56,0,115,56],[57,0,115,57],[64,0,115,64],[66,0,115,66],[67,0,115,67],[68,0,115,68]],[[17,0,116,17]],[[16,0,117,16],[52,0,117,52]],[[13,0,118,13]],[[9,0,119,9]],[[4,0,120,4],[5,0,120,5]],[[4,0,122,4]],[],[],[[7,0,125,7]],[[4,0,126,12],[18,0,126,26]],[[8,0,127,8],[12,0,127,12],[13,0,127,13],[23,0,127,23],[26,0,127,27],[30,0,127,31],[31,0,127,32],[37,0,127,46],[38,0,127,47],[44,0,127,53],[45,0,127,54],[55,0,127,64],[56,0,127,65],[57,0,127,66],[58,0,127,67]],[[8,0,128,8],[12,0,128,12],[13,0,128,13],[24,0,128,24],[27,0,128,28],[31,0,128,32],[32,0,128,33],[38,0,128,47],[39,0,128,48],[45,0,128,54],[46,0,128,55],[56,0,128,65],[57,0,128,66],[58,0,128,67],[59,0,128,68]],[[8,0,129,8],[12,0,129,12],[13,0,129,13],[27,0,129,27],[30,0,129,30],[34,0,129,34],[35,0,129,35],[41,0,129,41],[42,0,129,42],[50,0,129,50],[51,0,129,51],[67,0,129,67],[69,0,129,69],[70,0,129,70],[71,0,129,71],[72,0,129,72]],[[8,0,130,8],[12,0,130,12],[13,0,130,13],[28,0,130,28],[31,0,130,31],[35,0,130,35],[36,0,130,36],[42,0,130,42],[43,0,130,43],[51,0,130,51],[52,0,130,52],[68,0,130,68],[70,0,130,70],[71,0,130,71],[72,0,130,72],[73,0,130,73]],[[8,0,131,8],[12,0,131,12],[13,0,131,13],[33,0,131,33],[36,0,131,36],[40,0,131,40],[41,0,131,41],[55,0,131,55],[58,0,131,58],[62,0,131,62],[63,0,131,63],[73,0,131,73],[74,0,131,74]],[[8,0,132,8],[12,0,132,12],[13,0,132,13],[18,0,132,18],[21,0,132,21],[25,0,132,25],[26,0,132,26],[32,0,132,32],[33,0,132,33],[41,0,132,41],[42,0,132,42],[49,0,132,49],[50,0,132,50],[54,0,132,54],[55,0,132,55],[58,0,132,58],[62,0,132,62],[63,0,132,63],[83,0,132,83],[84,0,132,84]],[[4,0,133,4],[5,0,133,5]],[[4,0,135,4]],[],[[7,0,137,7]],[[4,0,138,11],[10,0,138,17]],[[8,0,139,8],[12,0,139,12],[16,0,139,16],[17,0,139,17],[21,0,139,21],[23,0,139,23]],[[12,0,140,12],[18,0,140,18],[22,0,140,22],[25,0,140,25],[29,0,140,29],[42,0,140,42],[43,0,140,43],[47,0,140,47],[48,0,140,48],[52,0,140,52],[53,0,140,53],[57,0,140,57],[58,0,140,58],[63,0,140,63],[64,0,140,64],[65,0,140,65],[67,0,140,67],[71,0,140,71],[72,0,140,72],[76,0,140,76],[77,0,140,77],[82,0,140,82],[83,0,140,83],[84,0,140,84],[86,0,140,86],[90,0,140,90],[91,0,140,91],[95,0,140,95],[96,0,140,96],[101,0,140,101],[103,0,140,103],[107,0,140,107],[108,0,140,108],[112,0,140,112],[113,0,140,113],[119,0,140,119],[120,0,140,120],[121,0,140,121]],[[12,0,141,12],[16,0,141,16],[17,0,141,17],[23,0,141,23],[24,0,141,24],[32,0,141,32],[33,0,141,33],[57,0,141,57],[58,0,141,58],[62,0,141,62],[64,0,141,64],[69,0,141,69],[70,0,141,70],[71,0,141,71]],[[12,0,142,12],[16,0,142,16],[17,0,142,17],[23,0,142,23],[24,0,142,24],[32,0,142,32],[33,0,142,33],[39,0,142,39],[41,0,142,41],[42,0,142,42]],[[9,0,143,9]],[[13,0,143,15]],[[12,0,144,12],[16,0,144,16],[17,0,144,17],[23,0,144,23],[24,0,144,24],[32,0,144,32],[33,0,144,33],[39,0,144,39],[40,0,144,40],[45,0,144,45],[46,0,144,46],[47,0,144,47]],[[9,0,145,9]],[[8,0,146,8],[15,0,146,15],[19,0,146,19],[20,0,146,20]],[[4,0,147,4],[5,0,147,5]],[[4,0,149,4]],[],[],[[7,0,152,7]],[[4,0,153,11],[11,0,153,18],[12,0,153,19],[15,0,153,41]],[[8,0,154,8],[12,0,154,12],[15,0,154,15],[16,0,154,16],[21,0,154,21],[22,0,154,22],[23,0,154,23],[26,0,154,26],[27,0,154,27],[31,0,154,31],[34,0,154,34],[35,0,154,35],[40,0,154,40],[41,0,154,41],[42,0,154,42],[45,0,154,45],[46,0,154,46],[50,0,154,50],[53,0,154,53],[54,0,154,54],[59,0,154,59],[62,0,154,62],[63,0,154,63],[67,0,154,67],[70,0,154,70],[71,0,154,71],[77,0,154,77],[80,0,154,80],[81,0,154,81]],[[12,0,155,12],[18,0,155,18],[22,0,155,22],[27,0,155,27],[28,0,155,28],[54,0,155,54],[55,0,155,55],[56,0,155,56]],[[8,0,157,8],[12,0,157,12],[13,0,157,13],[17,0,157,17],[20,0,157,20],[23,0,157,23],[24,0,157,24]],[[8,0,158,8],[12,0,158,12],[13,0,158,13],[17,0,158,17],[18,0,158,18],[23,0,158,23],[24,0,158,24],[25,0,158,25],[28,0,158,28],[31,0,158,31],[32,0,158,32],[37,0,158,37],[38,0,158,38],[39,0,158,39],[42,0,158,42],[45,0,158,45],[46,0,158,46],[51,0,158,51],[54,0,158,54],[55,0,158,55],[56,0,158,56]],[[8,0,159,8],[12,0,159,12],[13,0,159,13],[17,0,159,17],[18,0,159,18],[23,0,159,23],[24,0,159,24],[25,0,159,25],[28,0,159,28],[31,0,159,31],[32,0,159,32],[37,0,159,37],[38,0,159,38],[39,0,159,39],[42,0,159,42],[45,0,159,45],[46,0,159,46],[52,0,159,52],[55,0,159,55],[56,0,159,56],[57,0,159,57]],[[8,0,160,8],[15,0,160,15],[19,0,160,19],[20,0,160,20]],[[4,0,161,4],[5,0,161,5]],[],[[88,0,15,13],[108,0,15,33],[122,0,31,24],[129,0,31,31]],[[74,0,15,13],[94,0,15,33],[105,0,15,13],[125,0,15,33],[144,0,13,16],[150,0,13,22]],[[87,0,15,13],[107,0,15,33]],[[14,0,12,1],[24,0,12,11]],[[15,0,12,12]],[[16,0,13,4],[26,0,13,14],[28,0,13,16],[34,0,13,22]],[[13,0,14,1]],[],[[22,0,31,17],[28,0,31,23]],[[23,0,31,24],[30,0,31,31]]],"sourcesContent":["import { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { PlayerType, RegionOfInterest } from './annotation-osd.model';\n\n// Load type for openseadragon\nexport declare type TypeOpenSeadragon = typeof import('openseadragon');\nexport declare let OpenSeadragon: TypeOpenSeadragon;\n// Load type for fabric\nexport declare type TypeFabric = typeof import('fabric/fabric-impl');\nexport declare let fabric: TypeFabric;\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AnnotationOSDService {\n    protected viewer : OpenSeadragon.Viewer;\n    protected canvas :  fabric.Canvas;\n    protected imageWidth: number;\n    protected imageHeight: number;\n    protected containerWidth: number;\n    protected containerHeight: number;\n    protected zoomToZoomLevelRatio: number;\n    protected scale: number;\n    protected home : RegionOfInterest;\n    private readonly DEBUG :boolean;\n\n    /**\n     * Constructor of service for init a new player.\n     * @param debug set true to active debug mode on player.\n     */\n    constructor(@Inject(Boolean) debug : boolean = false) {\n        this.DEBUG = debug;\n    }\n\n    /**\n     * Create a new player factory.\n     * @param type Type of player, dzi or image (jpeg, png, etc...)\n     * @param id Id of player inside html.\n     * @param link Link to image.\n     */\n    public playerFactory(type: PlayerType, id: string, link: string): Promise<AnnotationOSDService> {\n        return new Promise((resolve) => {\n            this.viewer = OpenSeadragon({\n                id,\n                tileSources: type === 'dzi' ? link : { type: 'image', url: link },\n                gestureSettingsTouch: { pinchRotate: false } as OpenSeadragon.GestureSettings,\n                showRotationControl: false,\n                showNavigationControl: false,\n                showFlipControl: false,\n                zoomPerClick: 1,\n                imageLoaderLimit: 1,\n                constrainDuringPan: true,\n                debugMode: this.DEBUG,\n            });\n            const subjectZoom: Subject<any> = new Subject();\n            this.viewer.addHandler('zoom', (e: any) => {\n                subjectZoom.next(e);\n            });\n            subjectZoom.pipe(debounceTime(50)).subscribe(() => {\n                this.calculateRatio();\n                this.resetStrokeWidth();\n            });\n\n\n            this.viewer.addOnceHandler('open', () => {\n                this.calculateRatio();\n                resolve(this);\n            });\n\n            const subjectResize: Subject<any> = new Subject();\n            this.viewer.addHandler('resize', (e: any) => {\n                subjectResize.next(e);\n            });\n            subjectResize.pipe(debounceTime(200)).subscribe(() => {\n                this.goHome();\n            });\n\n        });\n    }\n\n    /**\n     * Delete all subscribers canvas and player.\n     */\n    public delete() : void {\n        this.canvas.clear();\n        this.canvas.dispose();\n        this.canvas.removeListeners();\n        this.viewer.destroy();\n    }\n\n    /**\n     * Add fabric canvas over viewport\n     */\n    public addCanvas() : AnnotationOSDService {\n        this.canvas = (this.viewer as any)\n            .fabricjsOverlay({ scale: 1000 })\n            .fabricCanvas();\n        return this;\n    }\n\n    /**\n     * Auto reset the size of fabric elements when user zoom on canvas, or page resize.\n     * @private\n     */\n    private resetStrokeWidth()  {\n        if (this.canvas) {\n            const w = 2; // desired width in pixels\n            const strokeWidth = w / this.canvas.getZoom();\n            for (const object of this.canvas.getObjects()) {\n                object.set('strokeUniform', true);\n                object.set('strokeWidth', strokeWidth);\n                // @ts-ignore\n                if (object.get('radius')) {\n                    // @ts-ignore\n                    object.set('radius', 5 / this.canvas.getZoom());\n                }\n                // can also update other things here\n            }\n        }\n    }\n\n    /**\n     * Calculate ratio of canvas when user load image or resize page.\n     * @private\n     */\n    private calculateRatio() {\n        this.imageWidth = (this.viewer as any).source.dimensions.x;\n        this.imageHeight = (this.viewer as any).source.dimensions.y;\n        this.containerWidth = this.viewer.viewport.getContainerSize().x;\n        this.containerHeight = this.viewer.viewport.getContainerSize().y;\n        this.zoomToZoomLevelRatio = this.containerWidth / this.imageWidth;\n        this.scale = this.viewer.viewport.getZoom(true) * this.zoomToZoomLevelRatio;\n    }\n\n    /**\n     * Center canvas inside viewport or go to home point if exist.\n     */\n    public goHome() : AnnotationOSDService {\n        if (this.home) {\n            const rect = new OpenSeadragon.Rect(this.home.point.x, this.home.point.y, this.home.width, this.home.height);\n            this.viewer.viewport.fitBoundsWithConstraints(rect, false);\n            this.viewer.viewport.update();\n        } else {\n            this.viewer.viewport.goHome(false);\n        }\n        return this;\n    }\n\n    /**\n     * Set home point.\n     * @param roi Region of interest in percent, center point.\n     */\n    public setHome(roi : RegionOfInterest) : AnnotationOSDService {\n        if (roi.point.x > 1 || roi.point.y > 1 || roi.width > 1 || roi.height > 1)\n            throw new Error('Data size is not percent');\n\n        this.home = roi;\n        this.home.point.x = roi.point.x - roi.width / 2;\n        this.home.point.y = roi.point.y - roi.height / 2;\n        return this;\n    }\n\n\n\n    /*\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n        const poly = new fabric.Polygon([\n            {x: 200, y: 10},\n            {x: 250, y: 50},\n            {x: 250, y: 180},\n            {x: 150, y: 180},\n            {x: 150, y: 50}], {\n            fill: 'green',\n            opacity: 0.3,\n        });\n\n        this.canvas.add(poly);\n\n    }\n    min = 99;\n    max = 999999;\n    polygonMode = true;\n    pointArray = [];\n    lineArray = [];\n    activeLine;\n    activeShape ;\n\n    public addDamage(damage : MarkerRound | MarkerRect | MarkerPoly) {\n  const strokeWidth = 2;\n  let obj;\n  if (!(damage instanceof MarkerPoly)) {\n  obj = new fabric.Rect({\n  id: 1,\n  left: (damage.unit === 'percent' ? damage.centerX * (this.imageWidth * this.scale)\n  : damage.centerX * this.scale) + strokeWidth,\n  top: (damage.unit === 'percent' ? damage.centerY * (this.imageHeight * this.scale)\n  : damage.centerY * this.scale) + strokeWidth,\n  width: (damage.unit === 'percent' ? damage.width * (this.imageWidth * this.scale)\n  : damage.width * this.scale),\n  height: (damage.unit === 'percent' ? damage.height * (this.imageHeight * this.scale)\n  : damage.height * this.scale),\n  strokeWidth,\n  strokeUniform: true,\n  strokeDashArray: undefined,\n  originX: 'center',\n  originY: 'center',\n  cornerStyle: 'circle',\n\n  // Add data option for style settings\n  fill: 'transparent',\n  stroke: 'red',\n  selectable: true,\n  hasBorders: false,\n  cornerColor: 'red',\n  transparentCorners: false,\n  draggable: true,\n  lockRotation: true,\n  hasControls: true,\n\n  });\n  }\n  obj.set('strokeUniform', true);\n\n  obj.setControlsVisibility({ mtr: false });\n  this.canvas.add(obj);\n\n  const poly = new fabric.Polygon([\n  { x: 200, y: 10 },\n  { x: 250, y: 50 },\n  { x: 250, y: 180 },\n  { x: 150, y: 180 },\n  { x: 150, y: 50 }], {\n      fill: 'green',\n          opacity: 0.3,\n          });\n\n  this.canvas.add(poly);\n\n  // this.canvas.on('mouse:down', (options) => {\n  //     if (options.target && options.target.id === this.pointArray[0].id) {\n  //         this.generatePolygon(this.pointArray);\n  //     }\n  //     if (this.polygonMode) {\n  //         this.addPoint(options);\n  //     }\n  // });\n  // this.canvas.on('mouse:up', (options) => {\n  //\n  // });\n  // this.canvas.on('mouse:move', (options) => {\n  //     if (this.activeLine && this.activeLine.class === 'line') {\n  //         const pointer = this.canvas.getPointer(options.e);\n  //         this.activeLine.set({ x2: pointer.x, y2: pointer.y });\n  //\n  //         const points = this.activeShape.get('points');\n  //         points[this.pointArray.length] = {\n  //             x: pointer.x,\n  //             y: pointer.y,\n  //         };\n  //         this.activeShape.set({\n  //             points,\n  //         });\n  //         this.canvas.renderAll();\n  //     }\n  //     this.canvas.renderAll();\n  // });\n\n  /!*        this.canvas.on('object:scaling', (e) => {\n  console.log('scalling ');\n  this.resetStrokeWidth();\n  }); *!/\n  return this;\n  }\n\n  private drawPolygon() {\n  this.polygonMode = true;\n  this.pointArray = [];\n  this.lineArray = [];\n  this.activeLine;\n  }\n\n  private addPoint(options) {\n  console.log(options);\n  const random = Math.floor(Math.random() * (this.max - this.min + 1)) + this.min;\n  const id = new Date().getTime() + random;\n  const pos = this.canvas.getPointer(options.e);\n  const circle = new fabric.Circle({\n  radius: 5 / this.canvas.getZoom(),\n  fill: '#ffffff',\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  left: pos.x,\n  top: pos.y,\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  originX: 'center',\n  originY: 'center',\n  id,\n  objectCaching: false,\n  });\n  if (this.pointArray.length === 0) {\n  circle.set({\n  fill: 'red',\n  });\n  }\n  const pointsA = [pos.x, pos.y, pos.x, pos.y];\n  const line = new fabric.Line(pointsA, {\n  strokeWidth: 2,\n  fill: '#999999',\n  stroke: '#999999',\n  class: 'line',\n  originX: 'center',\n  originY: 'center',\n  selectable: false,\n  hasBorders: false,\n  hasControls: false,\n  evented: false,\n  objectCaching: false,\n  });\n  console.log(this.activeShape);\n  if (this.activeShape) {\n      const pointsB = this.activeShape.get('points') as any[];\n          pointsB.push({\n              x: pos.x,\n              y: pos.y,\n          });\n          const polygonA = new fabric.Polygon(pointsB, {\n      stroke: '#333333',\n      strokeWidth: 1,\n      fill: '#cccccc',\n      opacity: 0.3,\n      selectable: false,\n      hasBorders: false,\n      hasControls: false,\n      evented: false,\n      objectCaching: false,\n    });\n    this.canvas.remove(this.activeShape);\n    this.canvas.add(polygonA);\n    this.activeShape = polygonA;\n    this.canvas.renderAll();\n  } else {\n    const polyPoint = [{ x: pos.x, y: pos.y }];\n    const polygon = new fabric.Polygon(polyPoint, {\n          stroke: '#333333',\n                  strokeWidth: 1,\n                  fill: '#cccccc',\n                  opacity: 0.3,\n                  selectable: false,\n                  hasBorders: false,\n                  hasControls: false,\n                  evented: false,\n                  objectCaching: false,\n          });\n          this.activeShape = polygon;\n          this.canvas.add(polygon);\n          }\n  this.activeLine = line;\n\n  this.pointArray.push(circle);\n  this.lineArray.push(line);\n\n  this.canvas.add(line);\n  this.canvas.add(circle);\n  }\n\n  private generatePolygon(pointArray) {\n  console.log(pointArray, this.lineArray);\n  const points = [];\n  pointArray.forEach((point) => {\n  points.push({\n  x: point.left,\n  y: point.top,\n  });\n    this.canvas.remove(point);\n  });\n  this.lineArray.forEach((line) => {\n  this.canvas.remove(line);\n  });\n  this.canvas.remove(this.activeShape).remove(this.activeLine);\n  const polygon = new fabric.Polygon(points, {\n  stroke: '#333333',\n  strokeWidth: 0.5,\n  opacity: 0.3,\n  fill: 'red',\n  hasBorders: false,\n  hasControls: false,\n  });\n  this.canvas.add(polygon);\n\n  this.activeLine = null;\n  this.activeShape = null;\n  this.polygonMode = false;\n  }\n*/\n\n}"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[15,0,0,15],[17,0,0,17],[27,0,0,27],[29,0,0,29],[35,0,0,35],[50,0,0,50],[51,0,0,51]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[16,0,1,16],[18,0,1,18],[24,0,1,24],[30,0,1,30],[31,0,1,31]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[21,0,2,21],[23,0,2,23],[29,0,2,29],[45,0,2,45],[46,0,2,46]],[[0,0,3,0],[7,0,3,7],[12,0,3,12],[14,0,3,14],[20,0,3,20],[35,0,3,35],[36,0,3,36]],[[0,0,4,0],[6,0,4,6],[13,0,4,13],[33,0,4,33]],[[4,0,5,4]],[],[],[[7,0,8,7]],[[4,0,9,4],[16,0,9,16],[21,0,9,21],[24,0,9,24],[29,0,9,29]],[[8,0,10,8],[12,0,10,12],[13,0,10,13],[18,0,10,18],[21,0,10,21],[26,0,10,26],[27,0,10,27]],[[4,0,11,4],[5,0,11,5]],[[4,0,12,4]],[],[],[],[],[[7,0,17,7]],[[4,0,18,4],[17,0,18,17],[18,0,18,18],[22,0,18,22],[24,0,18,24],[26,0,18,26],[28,0,18,28],[32,0,18,32]],[[8,0,19,8],[15,0,19,15],[19,0,19,19],[26,0,19,26],[27,0,19,27],[28,0,19,28],[35,0,19,35],[37,0,19,37],[39,0,19,39]],[[12,0,20,12],[16,0,20,16],[17,0,20,17],[23,0,20,23],[26,0,20,26],[39,0,20,39],[40,0,20,40]],[[16,0,21,16],[18,0,21,18]],[[16,0,22,16],[27,0,22,27],[29,0,22,29],[33,0,22,33],[38,0,22,38],[43,0,22,43],[44,0,22,44],[45,0,22,45],[46,0,22,46],[50,0,22,50],[51,0,22,51],[52,0,22,52],[53,0,22,53],[55,0,22,55],[59,0,22,59],[61,0,22,61],[68,0,22,68],[70,0,22,70],[73,0,22,73],[75,0,22,75],[79,0,22,79],[81,0,22,81]],[[16,0,23,16],[36,0,23,36],[38,0,23,38],[40,0,23,40],[51,0,23,51],[53,0,23,53],[58,0,23,58],[60,0,23,60]],[[16,0,24,16],[35,0,24,35],[37,0,24,37],[42,0,24,42]],[[16,0,25,16],[37,0,25,37],[39,0,25,39],[44,0,25,44]],[[16,0,26,16],[31,0,26,31],[33,0,26,33],[38,0,26,38]],[[16,0,27,16],[28,0,27,28],[30,0,27,30],[31,0,27,31]],[[16,0,28,16],[32,0,28,32],[34,0,28,34],[35,0,28,35]],[[16,0,29,16],[34,0,29,34],[36,0,29,36],[40,0,29,40]],[[16,0,30,16],[25,0,30,25],[27,0,30,27],[31,0,30,31],[32,0,30,32],[37,0,30,37]],[[13,0,31,13],[14,0,31,14],[15,0,31,15]],[[12,0,32,12],[18,0,32,18],[29,0,32,29],[32,0,32,32],[36,0,32,36],[43,0,32,43],[45,0,32,45],[46,0,32,46]],[[12,0,33,12],[16,0,33,16],[17,0,33,17],[23,0,33,23],[24,0,33,24],[34,0,33,34],[35,0,33,35],[41,0,33,41],[43,0,33,43],[44,0,33,44],[45,0,33,45],[47,0,33,47],[49,0,33,49]],[[16,0,34,16],[27,0,34,27],[28,0,34,28],[32,0,34,32],[33,0,34,33],[34,0,34,34],[35,0,34,35],[36,0,34,36]],[[12,0,35,12],[13,0,35,13],[14,0,35,14],[15,0,35,15]],[[12,0,36,12],[23,0,36,23],[24,0,36,24],[28,0,36,28],[29,0,36,29],[41,0,36,41],[42,0,36,42],[44,0,36,44],[45,0,36,45],[46,0,36,46],[47,0,36,47],[56,0,36,56],[57,0,36,57],[60,0,36,60],[62,0,36,62]],[[16,0,37,16],[20,0,37,20],[21,0,37,21],[35,0,37,35],[37,0,37,37],[38,0,37,38]],[[16,0,38,16],[20,0,38,20],[21,0,38,21],[37,0,38,37],[39,0,38,39],[40,0,38,40]],[[12,0,39,12],[13,0,39,13],[14,0,39,14],[15,0,39,15]],[[12,0,40,12],[16,0,40,16],[17,0,40,17],[23,0,40,23],[24,0,40,24],[38,0,40,38],[39,0,40,39],[45,0,40,45],[47,0,40,47],[50,0,40,50],[52,0,40,52]],[[16,0,41,16],[20,0,41,20],[21,0,41,21],[35,0,41,35],[37,0,41,37],[38,0,41,38]],[[16,0,42,16],[23,0,42,23],[24,0,42,24],[28,0,42,28],[29,0,42,29],[30,0,42,30]],[[12,0,43,12],[13,0,43,13],[14,0,43,14],[15,0,43,15]],[[12,0,44,12],[18,0,44,18],[31,0,44,31],[34,0,44,34],[38,0,44,38],[45,0,44,45],[47,0,44,47],[48,0,44,48]],[[12,0,45,12],[16,0,45,16],[17,0,45,17],[23,0,45,23],[24,0,45,24],[34,0,45,34],[35,0,45,35],[43,0,45,43],[45,0,45,45],[46,0,45,46],[47,0,45,47],[49,0,45,49],[51,0,45,51]],[[16,0,46,16],[29,0,46,29],[30,0,46,30],[34,0,46,34],[35,0,46,35],[36,0,46,36],[37,0,46,37],[38,0,46,38]],[[12,0,47,12],[13,0,47,13],[14,0,47,14],[15,0,47,15]],[[12,0,48,12],[25,0,48,25],[26,0,48,26],[30,0,48,30],[31,0,48,31],[43,0,48,43],[44,0,48,44],[47,0,48,47],[48,0,48,48],[49,0,48,49],[50,0,48,50],[59,0,48,59],[60,0,48,60],[63,0,48,63],[65,0,48,65]],[[16,0,49,16],[20,0,49,20],[21,0,49,21],[27,0,49,27],[29,0,49,29],[30,0,49,30]],[[12,0,50,12],[13,0,50,13],[14,0,50,14],[15,0,50,15]],[[8,0,51,8],[9,0,51,9],[10,0,51,10],[11,0,51,11]],[[4,0,52,4],[5,0,52,5]],[[4,0,53,4]],[],[[7,0,55,7]],[[4,0,56,4],[10,0,56,10]],[[8,0,57,8],[12,0,57,12],[13,0,57,13],[19,0,57,19],[20,0,57,20],[25,0,57,25],[27,0,57,27],[28,0,57,28]],[[8,0,58,8],[12,0,58,12],[13,0,58,13],[19,0,58,19],[20,0,58,20],[27,0,58,27],[29,0,58,29],[30,0,58,30]],[[8,0,59,8],[12,0,59,12],[13,0,59,13],[19,0,59,19],[20,0,59,20],[35,0,59,35],[37,0,59,37],[38,0,59,38]],[[8,0,60,8],[12,0,60,12],[13,0,60,13],[19,0,60,19],[20,0,60,20],[27,0,60,27],[29,0,60,29],[30,0,60,30]],[[4,0,61,4],[5,0,61,5]],[[4,0,62,4]],[],[[7,0,64,7]],[[4,0,65,4],[13,0,65,13]],[[8,0,66,8],[12,0,66,12],[13,0,66,13],[19,0,66,19],[22,0,66,22],[26,0,66,26],[27,0,66,27],[33,0,66,33]],[[13,0,67,13],[28,0,67,28],[29,0,67,29],[31,0,67,31],[36,0,67,36],[38,0,67,38],[42,0,67,42],[44,0,67,44],[45,0,67,45]],[[13,0,68,13],[25,0,68,25],[27,0,68,27],[28,0,68,28]],[[8,0,69,8],[15,0,69,15],[19,0,69,19],[20,0,69,20]],[[4,0,70,4],[5,0,70,5]],[[4,0,71,4]],[],[],[[7,0,74,7]],[[4,0,75,4],[20,0,75,20]],[[8,0,76,8],[12,0,76,12],[16,0,76,16],[17,0,76,17],[23,0,76,23],[25,0,76,25]],[[12,0,77,12],[18,0,77,18],[19,0,77,19],[22,0,77,22],[23,0,77,23],[24,0,77,24],[25,0,77,25],[51,0,77,51]],[[12,0,78,12],[18,0,78,18],[29,0,78,29],[32,0,78,32],[33,0,78,33],[36,0,78,36],[40,0,78,40],[41,0,78,41],[47,0,78,47],[48,0,78,48],[55,0,78,55],[57,0,78,57],[58,0,78,58]],[[12,0,79,12],[17,0,79,17],[23,0,79,23],[29,0,79,29],[33,0,79,33],[37,0,79,37],[38,0,79,38],[44,0,79,44],[45,0,79,45],[55,0,79,55],[57,0,79,57],[59,0,79,59]],[[16,0,80,16],[22,0,80,22],[23,0,80,23],[26,0,80,26],[27,0,80,27],[42,0,80,42],[44,0,80,44],[48,0,80,48],[49,0,80,49],[50,0,80,50]],[[16,0,81,16],[22,0,81,22],[23,0,81,23],[26,0,81,26],[27,0,81,27],[40,0,81,40],[42,0,81,42],[53,0,81,53],[54,0,81,54],[55,0,81,55]],[[16,0,82,16],[29,0,82,29]],[[16,0,83,16],[20,0,83,20],[26,0,83,26],[27,0,83,27],[30,0,83,30],[31,0,83,31],[39,0,83,39],[40,0,83,40],[42,0,83,42]],[[20,0,84,20],[33,0,84,33]],[[20,0,85,20],[26,0,85,26],[27,0,85,27],[30,0,85,30],[31,0,85,31],[39,0,85,39],[41,0,85,41],[42,0,85,42],[45,0,85,45],[49,0,85,49],[50,0,85,50],[56,0,85,56],[57,0,85,57],[64,0,85,64],[66,0,85,66],[67,0,85,67],[68,0,85,68]],[[17,0,86,17]],[[16,0,87,16],[52,0,87,52]],[[13,0,88,13]],[[9,0,89,9]],[[4,0,90,4],[5,0,90,5]],[[4,0,91,4]],[],[],[[7,0,94,7]],[[4,0,95,4],[18,0,95,18]],[[8,0,96,8],[12,0,96,12],[13,0,96,13],[23,0,96,23],[26,0,96,26],[30,0,96,30],[31,0,96,31],[37,0,96,37],[38,0,96,38],[44,0,96,44],[45,0,96,45],[55,0,96,55],[56,0,96,56],[57,0,96,57],[58,0,96,58]],[[8,0,97,8],[12,0,97,12],[13,0,97,13],[24,0,97,24],[27,0,97,27],[31,0,97,31],[32,0,97,32],[38,0,97,38],[39,0,97,39],[45,0,97,45],[46,0,97,46],[56,0,97,56],[57,0,97,57],[58,0,97,58],[59,0,97,59]],[[8,0,98,8],[12,0,98,12],[13,0,98,13],[27,0,98,27],[30,0,98,30],[34,0,98,34],[35,0,98,35],[41,0,98,41],[42,0,98,42],[50,0,98,50],[51,0,98,51],[67,0,98,67],[69,0,98,69],[70,0,98,70],[71,0,98,71],[72,0,98,72]],[[8,0,99,8],[12,0,99,12],[13,0,99,13],[28,0,99,28],[31,0,99,31],[35,0,99,35],[36,0,99,36],[42,0,99,42],[43,0,99,43],[51,0,99,51],[52,0,99,52],[68,0,99,68],[70,0,99,70],[71,0,99,71],[72,0,99,72],[73,0,99,73]],[[8,0,100,8],[12,0,100,12],[13,0,100,13],[33,0,100,33],[36,0,100,36],[40,0,100,40],[41,0,100,41],[55,0,100,55],[58,0,100,58],[62,0,100,62],[63,0,100,63],[73,0,100,73],[74,0,100,74]],[[8,0,101,8],[12,0,101,12],[13,0,101,13],[18,0,101,18],[21,0,101,21],[25,0,101,25],[26,0,101,26],[32,0,101,32],[33,0,101,33],[41,0,101,41],[42,0,101,42],[49,0,101,49],[50,0,101,50],[54,0,101,54],[55,0,101,55],[58,0,101,58],[62,0,101,62],[63,0,101,63],[83,0,101,83],[84,0,101,84]],[[4,0,102,4],[5,0,102,5]],[[4,0,103,4]],[],[[7,0,105,7]],[[4,0,106,4],[10,0,106,10]],[[8,0,107,8],[12,0,107,12],[16,0,107,16],[17,0,107,17],[21,0,107,21],[23,0,107,23]],[[12,0,108,12],[18,0,108,18],[22,0,108,22],[25,0,108,25],[29,0,108,29],[42,0,108,42],[43,0,108,43],[47,0,108,47],[48,0,108,48],[52,0,108,52],[53,0,108,53],[57,0,108,57],[58,0,108,58],[63,0,108,63],[64,0,108,64],[65,0,108,65],[67,0,108,67],[71,0,108,71],[72,0,108,72],[76,0,108,76],[77,0,108,77],[82,0,108,82],[83,0,108,83],[84,0,108,84],[86,0,108,86],[90,0,108,90],[91,0,108,91],[95,0,108,95],[96,0,108,96],[101,0,108,101],[103,0,108,103],[107,0,108,107],[108,0,108,108],[112,0,108,112],[113,0,108,113],[119,0,108,119],[120,0,108,120],[121,0,108,121]],[[12,0,109,12],[16,0,109,16],[17,0,109,17],[23,0,109,23],[24,0,109,24],[32,0,109,32],[33,0,109,33],[57,0,109,57],[58,0,109,58],[62,0,109,62],[64,0,109,64],[69,0,109,69],[70,0,109,70],[71,0,109,71]],[[12,0,110,12],[16,0,110,16],[17,0,110,17],[23,0,110,23],[24,0,110,24],[32,0,110,32],[33,0,110,33],[39,0,110,39],[41,0,110,41],[42,0,110,42]],[[9,0,111,9]],[[13,0,112,13]],[[12,0,113,12],[16,0,113,16],[17,0,113,17],[23,0,113,23],[24,0,113,24],[32,0,113,32],[33,0,113,33],[39,0,113,39],[40,0,113,40],[45,0,113,45],[46,0,113,46],[47,0,113,47]],[[9,0,114,9]],[[8,0,115,8],[15,0,115,15],[19,0,115,19],[20,0,115,20]],[[4,0,116,4],[5,0,116,5]],[[4,0,117,4]],[],[],[[7,0,120,7]],[[4,0,121,4],[11,0,121,11],[12,0,121,12],[15,0,121,15]],[[8,0,122,8],[12,0,122,12],[15,0,122,15],[16,0,122,16],[21,0,122,21],[22,0,122,22],[23,0,122,23],[26,0,122,26],[27,0,122,27],[31,0,122,31],[34,0,122,34],[35,0,122,35],[40,0,122,40],[41,0,122,41],[42,0,122,42],[45,0,122,45],[46,0,122,46],[50,0,122,50],[53,0,122,53],[54,0,122,54],[59,0,122,59],[62,0,122,62],[63,0,122,63],[67,0,122,67],[70,0,122,70],[71,0,122,71],[77,0,122,77],[80,0,122,80],[81,0,122,81]],[[12,0,123,12],[18,0,123,18],[22,0,123,22],[27,0,123,27],[28,0,123,28],[54,0,123,54],[55,0,123,55],[56,0,123,56]],[[8,0,124,8],[12,0,124,12],[13,0,124,13],[17,0,124,17],[20,0,124,20],[23,0,124,23],[24,0,124,24]],[[8,0,125,8],[12,0,125,12],[13,0,125,13],[17,0,125,17],[18,0,125,18],[23,0,125,23],[24,0,125,24],[25,0,125,25],[28,0,125,28],[31,0,125,31],[32,0,125,32],[37,0,125,37],[38,0,125,38],[39,0,125,39],[42,0,125,42],[45,0,125,45],[46,0,125,46],[51,0,125,51],[54,0,125,54],[55,0,125,55],[56,0,125,56]],[[8,0,126,8],[12,0,126,12],[13,0,126,13],[17,0,126,17],[18,0,126,18],[23,0,126,23],[24,0,126,24],[25,0,126,25],[28,0,126,28],[31,0,126,31],[32,0,126,32],[37,0,126,37],[38,0,126,38],[39,0,126,39],[42,0,126,42],[45,0,126,45],[46,0,126,46],[52,0,126,52],[55,0,126,55],[56,0,126,56],[57,0,126,57]],[[8,0,127,8],[15,0,127,15],[19,0,127,19],[20,0,127,20]],[[4,0,128,4],[5,0,128,5]],[[1,0,129,1]],[[0,0,130,0],[20,0,130,20],[21,0,130,21],[25,0,130,25],[28,0,130,28],[37,0,130,37],[65,0,130,65],[66,0,130,66],[67,0,130,67],[71,0,130,71],[78,0,130,78],[82,0,130,82],[83,0,130,83],[84,0,130,84],[88,0,130,88],[108,0,130,108],[109,0,130,109],[110,0,130,110],[112,0,130,112],[113,0,130,113],[121,0,130,121],[122,0,130,122],[129,0,130,129],[130,0,130,130],[131,0,130,131],[132,0,130,132],[133,0,130,133],[134,0,130,134],[135,0,130,135]],[[0,0,131,0],[20,0,131,20],[21,0,131,21],[26,0,131,26],[29,0,131,29],[42,0,131,42],[43,0,131,43],[45,0,131,45],[46,0,131,46],[64,0,131,64],[65,0,131,65],[67,0,131,67],[72,0,131,72],[74,0,131,74],[94,0,131,94],[96,0,131,96],[103,0,131,103],[105,0,131,105],[125,0,131,125],[126,0,131,126],[130,0,131,130],[132,0,131,132],[142,0,131,142],[144,0,131,144],[150,0,131,150],[152,0,131,152],[153,0,131,153],[154,0,131,154]],[[0,0,132,0],[1,0,132,1]],[[4,0,132,15],[5,0,132,16],[12,0,132,23],[21,0,132,32],[26,0,132,37],[37,0,132,48],[41,0,132,52],[50,0,132,61],[51,0,132,62],[55,0,132,66],[57,0,132,68],[58,0,132,69],[75,0,132,86],[76,0,132,87],[96,0,132,107],[98,0,132,109],[99,0,132,110]],[[12,0,133,8],[16,0,133,12],[18,0,133,14],[28,0,133,24]],[[12,0,134,8],[16,0,134,12],[18,0,134,14],[19,0,134,15]],[[20,0,135,16],[30,0,135,26],[32,0,135,28],[38,0,135,34]],[[17,0,136,13],[18,0,136,14]],[[9,0,137,5],[10,0,137,6],[12,0,137,8]],[[8,0,137,22],[15,0,137,29],[16,0,137,30],[18,0,137,32],[22,0,137,36],[24,0,137,38],[33,0,137,47],[35,0,137,49],[45,0,137,59],[47,0,137,61],[48,0,137,62]],[[24,0,138,16],[28,0,138,20],[30,0,138,22],[36,0,138,28]],[[24,0,139,16],[28,0,139,20],[30,0,139,22],[31,0,139,23],[38,0,139,30],[39,0,139,31]],[[21,0,140,13],[22,0,140,14],[24,0,140,16],[25,0,140,17],[26,0,140,18]],[[4,0,140,19],[5,0,140,20],[7,0,140,22],[11,0,140,26],[12,0,140,27],[13,0,140,28]],[[0,0,140,29],[1,0,140,30],[2,0,140,31],[4,0,140,33],[5,0,140,34]],[[0,0,141,0],[21750,0,141,21750]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1871,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":42,"end":106,"specifiers":[{"type":"ImportSpecifier","start":51,"end":71,"imported":{"type":"Identifier","start":51,"end":71,"name":"AnnotationOSDService"},"local":{"type":"Identifier","start":51,"end":71,"name":"AnnotationOSDService"}}],"source":{"type":"Literal","start":79,"end":105,"value":"./annotation-osd.service","raw":"'./annotation-osd.service'"}},{"type":"ImportDeclaration","start":107,"end":143,"specifiers":[{"type":"ImportNamespaceSpecifier","start":114,"end":121,"local":{"type":"Identifier","start":119,"end":121,"name":"i0"}}],"source":{"type":"Literal","start":127,"end":142,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":144,"end":180,"declaration":{"type":"ClassDeclaration","start":151,"end":180,"id":{"type":"Identifier","start":157,"end":176,"name":"AnnotationOSDModule"},"superClass":null,"body":{"type":"ClassBody","start":177,"end":180,"body":[]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":181,"end":293,"expression":{"type":"AssignmentExpression","start":181,"end":292,"operator":"=","left":{"type":"MemberExpression","start":181,"end":205,"object":{"type":"Identifier","start":181,"end":200,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":201,"end":205,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":208,"end":292,"id":{"type":"Identifier","start":217,"end":244,"name":"AnnotationOSDModule_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":245,"end":246,"name":"t"}],"body":{"type":"BlockStatement","start":248,"end":292,"body":[{"type":"ReturnStatement","start":250,"end":290,"argument":{"type":"NewExpression","start":257,"end":289,"callee":{"type":"LogicalExpression","start":262,"end":286,"left":{"type":"Identifier","start":262,"end":263,"name":"t"},"operator":"||","right":{"type":"Identifier","start":267,"end":286,"name":"AnnotationOSDModule"}},"arguments":[]}}]}}}},{"type":"ExpressionStatement","start":294,"end":386,"expression":{"type":"AssignmentExpression","start":294,"end":385,"operator":"=","left":{"type":"MemberExpression","start":294,"end":318,"object":{"type":"Identifier","start":294,"end":313,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":314,"end":318,"name":"ɵmod"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":335,"end":385,"callee":{"type":"MemberExpression","start":335,"end":354,"object":{"type":"Identifier","start":335,"end":337,"name":"i0"},"property":{"type":"Identifier","start":338,"end":354,"name":"ɵɵdefineNgModule"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":355,"end":384,"properties":[{"type":"Property","start":357,"end":382,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":357,"end":361,"name":"type"},"value":{"type":"Identifier","start":363,"end":382,"name":"AnnotationOSDModule"},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":321,"end":334}]}}},{"type":"ExpressionStatement","start":387,"end":502,"expression":{"type":"AssignmentExpression","start":387,"end":501,"operator":"=","left":{"type":"MemberExpression","start":387,"end":411,"object":{"type":"Identifier","start":387,"end":406,"name":"AnnotationOSDModule"},"property":{"type":"Identifier","start":407,"end":411,"name":"ɵinj"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":428,"end":501,"callee":{"type":"MemberExpression","start":428,"end":447,"object":{"type":"Identifier","start":428,"end":430,"name":"i0"},"property":{"type":"Identifier","start":431,"end":447,"name":"ɵɵdefineInjector"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":448,"end":500,"properties":[{"type":"Property","start":450,"end":483,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":450,"end":459,"name":"providers"},"value":{"type":"ArrayExpression","start":461,"end":483,"elements":[{"type":"Identifier","start":462,"end":482,"name":"AnnotationOSDService"}]},"kind":"init"},{"type":"Property","start":485,"end":498,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":485,"end":492,"name":"imports"},"value":{"type":"ArrayExpression","start":494,"end":498,"elements":[{"type":"ArrayExpression","start":495,"end":497,"elements":[]}]},"kind":"init"}]}],"optional":false,"_rollupAnnotations":[{"type":"Block","value":"@__PURE__","start":414,"end":427}]}}},{"type":"ExpressionStatement","start":503,"end":804,"expression":{"type":"CallExpression","start":503,"end":803,"callee":{"type":"FunctionExpression","start":504,"end":800,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":516,"end":800,"body":[{"type":"ExpressionStatement","start":522,"end":798,"expression":{"type":"LogicalExpression","start":522,"end":797,"left":{"type":"LogicalExpression","start":523,"end":568,"left":{"type":"BinaryExpression","start":523,"end":555,"left":{"type":"UnaryExpression","start":523,"end":539,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":530,"end":539,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":544,"end":555,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":559,"end":568,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":573,"end":797,"callee":{"type":"MemberExpression","start":573,"end":593,"object":{"type":"Identifier","start":573,"end":575,"name":"i0"},"property":{"type":"Identifier","start":576,"end":593,"name":"ɵsetClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":594,"end":613,"name":"AnnotationOSDModule"},{"type":"ArrayExpression","start":615,"end":784,"elements":[{"type":"ObjectExpression","start":616,"end":783,"properties":[{"type":"Property","start":630,"end":644,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":630,"end":634,"name":"type"},"value":{"type":"Identifier","start":636,"end":644,"name":"NgModule"},"kind":"init"},{"type":"Property","start":658,"end":773,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":658,"end":662,"name":"args"},"value":{"type":"ArrayExpression","start":664,"end":773,"elements":[{"type":"ObjectExpression","start":665,"end":772,"properties":[{"type":"Property","start":687,"end":698,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":687,"end":694,"name":"imports"},"value":{"type":"ArrayExpression","start":696,"end":698,"elements":[]},"kind":"init"},{"type":"Property","start":720,"end":753,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":720,"end":729,"name":"providers"},"value":{"type":"ArrayExpression","start":731,"end":753,"elements":[{"type":"Identifier","start":732,"end":752,"name":"AnnotationOSDService"}]},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"Literal","start":786,"end":790,"value":null,"raw":"null"},{"type":"Literal","start":792,"end":796,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFNaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRHpCLEVBQUU7dUZBR0YsbUJBQW1CO2NBSi9CLFFBQVE7ZUFBQztnQkFDTixPQUFPLEVBQUUsRUFBRTtnQkFDWCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uT1NEU2VydmljZSB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2Quc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW10sXG4gICAgcHJvdmlkZXJzIDogW0Fubm90YXRpb25PU0RTZXJ2aWNlXSxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRE1vZHVsZSB7IH1cbiJdfQ==","start":805,"end":1763},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","start":1764,"end":1871}]},"code":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDService } from './annotation-osd.service';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.ɵfac = function AnnotationOSDModule_Factory(t) { return new (t || AnnotationOSDModule)(); };\nAnnotationOSDModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: AnnotationOSDModule });\nAnnotationOSDModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ providers: [AnnotationOSDService], imports: [[]] });\n(function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDModule, [{\n            type: NgModule,\n            args: [{\n                    imports: [],\n                    providers: [AnnotationOSDService],\n                }]\n        }], null, null);\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFNaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRHpCLEVBQUU7dUZBR0YsbUJBQW1CO2NBSi9CLFFBQVE7ZUFBQztnQkFDTixPQUFPLEVBQUUsRUFBRTtnQkFDWCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uT1NEU2VydmljZSB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2Quc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW10sXG4gICAgcHJvdmlkZXJzIDogW0Fubm90YXRpb25PU0RTZXJ2aWNlXSxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRE1vZHVsZSB7IH1cbiJdfQ==\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/module.js.map","customTransformCache":false,"dependencies":["@angular/core","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { AnnotationOSDService } from './annotation-osd.service';\nimport * as i0 from \"@angular/core\";\nexport class AnnotationOSDModule {\n}\nAnnotationOSDModule.ɵfac = function AnnotationOSDModule_Factory(t) { return new (t || AnnotationOSDModule)(); };\nAnnotationOSDModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: AnnotationOSDModule });\nAnnotationOSDModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ providers: [AnnotationOSDService], imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnnotationOSDModule, [{\n        type: NgModule,\n        args: [{\n                imports: [],\n                providers: [AnnotationOSDService],\n            }]\n    }], null, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QubW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ub3RhdGlvbi1vc2Qvc3JjL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7QUFNaEUsTUFBTSxPQUFPLG1CQUFtQjs7c0ZBQW5CLG1CQUFtQjtxRUFBbkIsbUJBQW1COzBFQUZoQixDQUFDLG9CQUFvQixDQUFDLFlBRHpCLEVBQUU7dUZBR0YsbUJBQW1CO2NBSi9CLFFBQVE7ZUFBQztnQkFDTixPQUFPLEVBQUUsRUFBRTtnQkFDWCxTQUFTLEVBQUcsQ0FBQyxvQkFBb0IsQ0FBQzthQUNyQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbm5vdGF0aW9uT1NEU2VydmljZSB9IGZyb20gJy4vYW5ub3RhdGlvbi1vc2Quc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW10sXG4gICAgcHJvdmlkZXJzIDogW0Fubm90YXRpb25PU0RTZXJ2aWNlXSxcbn0pXG5leHBvcnQgY2xhc3MgQW5ub3RhdGlvbk9TRE1vZHVsZSB7IH1cbiJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.module.js","sourceRoot":"","sources":["../../../../projects/annotation-osd/src/lib/annotation-osd.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[29,0,1,29],[31,0,1,31],[37,0,1,37],[63,0,1,63],[64,0,1,64]],[],[[0,0,7,0],[6,0,7,6],[13,0,7,13],[32,0,7,32]],[],[[86,0,7,13],[105,0,7,32]],[[69,0,7,13],[88,0,7,32]],[[74,0,5,16],[75,0,5,17],[95,0,5,37],[96,0,5,38],[108,0,4,13],[110,0,4,15]],[[87,0,7,13],[106,0,7,32]],[[14,0,3,1],[22,0,3,9]],[[15,0,3,10]],[[16,0,4,4],[23,0,4,11],[25,0,4,13],[27,0,4,15]],[[16,0,5,4],[25,0,5,13],[27,0,5,16],[28,0,5,17],[48,0,5,37],[49,0,5,38]],[[13,0,6,1]]],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { AnnotationOSDService } from './annotation-osd.service';\n\n@NgModule({\n    imports: [],\n    providers : [AnnotationOSDService],\n})\nexport class AnnotationOSDModule { }\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./annotation-osd.service":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[29,0,1,29],[31,0,1,31],[37,0,1,37],[63,0,1,63],[64,0,1,64]],[[0,0,2,0],[7,0,2,7],[12,0,2,12],[14,0,2,14],[20,0,2,20],[35,0,2,35],[36,0,2,36]],[[0,0,3,0],[6,0,3,6],[13,0,3,13],[32,0,3,32]],[[1,0,4,1]],[[0,0,5,0],[19,0,5,19],[20,0,5,20],[24,0,5,24],[27,0,5,27],[36,0,5,36],[63,0,5,63],[64,0,5,64],[65,0,5,65],[69,0,5,69],[76,0,5,76],[80,0,5,80],[81,0,5,81],[82,0,5,82],[86,0,5,86],[105,0,5,105],[106,0,5,106],[108,0,5,108],[109,0,5,109],[110,0,5,110],[111,0,5,111],[112,0,5,112]],[[0,0,6,0],[19,0,6,19],[20,0,6,20],[24,0,6,24],[27,0,6,27],[40,0,6,40],[41,0,6,41],[43,0,6,43],[44,0,6,44],[60,0,6,60],[61,0,6,61],[63,0,6,63],[67,0,6,67],[69,0,6,69],[88,0,6,88],[90,0,6,90],[91,0,6,91],[92,0,6,92]],[[0,0,7,0],[19,0,7,19],[20,0,7,20],[24,0,7,24],[27,0,7,27],[40,0,7,40],[41,0,7,41],[43,0,7,43],[44,0,7,44],[60,0,7,60],[61,0,7,61],[63,0,7,63],[72,0,7,72],[74,0,7,74],[75,0,7,75],[95,0,7,95],[96,0,7,96],[98,0,7,98],[105,0,7,105],[107,0,7,107],[108,0,7,108],[110,0,7,110],[111,0,7,111],[113,0,7,113],[114,0,7,114],[115,0,7,115]],[[0,0,8,0],[1,0,8,1]],[[4,0,8,15],[5,0,8,16],[12,0,8,23],[21,0,8,32],[26,0,8,37],[37,0,8,48],[41,0,8,52],[50,0,8,61],[51,0,8,62],[55,0,8,66],[57,0,8,68],[58,0,8,69],[75,0,8,86],[76,0,8,87],[95,0,8,106],[97,0,8,108],[98,0,8,109]],[[12,0,9,8],[16,0,9,12],[18,0,9,14],[26,0,9,22]],[[12,0,10,8],[16,0,10,12],[18,0,10,14],[19,0,10,15]],[[20,0,11,16],[27,0,11,23],[29,0,11,25],[31,0,11,27]],[[20,0,12,16],[29,0,12,25],[31,0,12,27],[32,0,12,28],[52,0,12,48],[53,0,12,49]],[[17,0,13,13],[18,0,13,14]],[[9,0,14,5],[10,0,14,6],[12,0,14,8],[16,0,14,12],[18,0,14,14],[22,0,14,18],[23,0,14,19],[24,0,14,20]],[[0,0,14,21],[1,0,14,22],[2,0,14,23],[4,0,14,25],[5,0,14,26]],[[0,0,15,0],[958,0,15,958]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":912,"body":[{"type":"ExportAllDeclaration","start":47,"end":90,"exported":null,"source":{"type":"Literal","start":61,"end":89,"value":"./lib/annotation-osd.model","raw":"'./lib/annotation-osd.model'"}},{"type":"ExportAllDeclaration","start":91,"end":136,"exported":null,"source":{"type":"Literal","start":105,"end":135,"value":"./lib/annotation-osd.service","raw":"'./lib/annotation-osd.service'"}},{"type":"ExportAllDeclaration","start":137,"end":181,"exported":null,"source":{"type":"Literal","start":151,"end":180,"value":"./lib/annotation-osd.module","raw":"'./lib/annotation-osd.module'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsNkJBQTZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogUHVibGljIEFQSSBTdXJmYWNlIG9mIGFubm90YXRpb24tb3NkXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ub3RhdGlvbi1vc2QubW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","start":182,"end":808},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","start":809,"end":912}]},"code":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsNkJBQTZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogUHVibGljIEFQSSBTdXJmYWNlIG9mIGFubm90YXRpb24tb3NkXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ub3RhdGlvbi1vc2QubW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of annotation-osd\n */\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL2Fubm90YXRpb24tb3NkL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsY0FBYyw0QkFBNEIsQ0FBQztBQUMzQyxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsNkJBQTZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogUHVibGljIEFQSSBTdXJmYWNlIG9mIGFubm90YXRpb24tb3NkXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ub3RhdGlvbi1vc2QubW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvYW5ub3RhdGlvbi1vc2Quc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9hbm5vdGF0aW9uLW9zZC5tb2R1bGUnO1xuIl19","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[42,0,4,42],[43,0,4,43]],[[0,0,5,0],[14,0,5,14],[44,0,5,44],[45,0,5,45]],[[0,0,6,0],[14,0,6,14],[43,0,6,43],[44,0,6,44]]],"sourcesContent":["/*\n * Public API Surface of annotation-osd\n */\n\nexport * from './lib/annotation-osd.model';\nexport * from './lib/annotation-osd.service';\nexport * from './lib/annotation-osd.module';\n"]},"resolvedIds":{"./lib/annotation-osd.model":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.model.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.service":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/annotation-osd.module":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/lib/annotation-osd.module.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,3,0],[14,0,3,14],[42,0,3,42],[43,0,3,43]],[[0,0,4,0],[14,0,4,14],[44,0,4,44],[45,0,4,45]],[[0,0,5,0],[14,0,5,14],[43,0,5,43],[44,0,5,44]],[[0,0,6,0],[626,0,6,626]]]}],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":616,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","start":78,"end":512},{"type":"Line","value":"# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","start":513,"end":616}]},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==\n//# sourceMappingURL=/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/module.js.map","customTransformCache":false,"dependencies":["/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs"],"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/annotation-osd.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ub3RhdGlvbi1vc2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9hbm5vdGF0aW9uLW9zZC9zcmMvYW5ub3RhdGlvbi1vc2QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"annotation-osd.js","sourceRoot":"","sources":["../../../projects/annotation-osd/src/annotation-osd.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"external":false,"id":"/home/dove/Documents/tchek/AnnotationOSD/dist/annotation-osd/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[{"version":3,"file":"module.js","sourceRoot":"","sources":["module.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,3,0],[14,0,3,14],[28,0,3,28],[29,0,3,29]],[[0,0,4,0],[434,0,4,434]]]}],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"sourcemaps":{},"json":{},"downlevel-ts":{}}}